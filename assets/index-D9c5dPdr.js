(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var If={exports:{}},ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function gE(){if(_y)return ql;_y=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var y in o)y!=="key"&&(h[y]=o[y])}else h=o;return o=h.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:h}}return ql.Fragment=e,ql.jsx=i,ql.jsxs=i,ql}var vy;function pE(){return vy||(vy=1,If.exports=gE()),If.exports}var C=pE(),Vf={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function yE(){if(Ey)return Ct;Ey=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),N=Symbol.iterator;function H(V){return V===null||typeof V!="object"?null:(V=N&&V[N]||V["@@iterator"],typeof V=="function"?V:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,tt={};function ht(V,Y,st){this.props=V,this.context=Y,this.refs=tt,this.updater=st||J}ht.prototype.isReactComponent={},ht.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},ht.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function vt(){}vt.prototype=ht.prototype;function ft(V,Y,st){this.props=V,this.context=Y,this.refs=tt,this.updater=st||J}var W=ft.prototype=new vt;W.constructor=ft,et(W,ht.prototype),W.isPureReactComponent=!0;var nt=Array.isArray;function ut(){}var x={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function w(V,Y,st){var lt=st.ref;return{$$typeof:r,type:V,key:Y,ref:lt!==void 0?lt:null,props:st}}function M(V,Y){return w(V.type,Y,V.props)}function I(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function z(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(st){return Y[st]})}var R=/\/+/g;function Kt(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?z(""+V.key):Y.toString(36)}function ce(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ut,ut):(V.status="pending",V.then(function(Y){V.status==="pending"&&(V.status="fulfilled",V.value=Y)},function(Y){V.status==="pending"&&(V.status="rejected",V.reason=Y)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function G(V,Y,st,lt,Et){var wt=typeof V;(wt==="undefined"||wt==="boolean")&&(V=null);var Vt=!1;if(V===null)Vt=!0;else switch(wt){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(V.$$typeof){case r:case e:Vt=!0;break;case A:return Vt=V._init,G(Vt(V._payload),Y,st,lt,Et)}}if(Vt)return Et=Et(V),Vt=lt===""?"."+Kt(V,0):lt,nt(Et)?(st="",Vt!=null&&(st=Vt.replace(R,"$&/")+"/"),G(Et,Y,st,"",function(rt){return rt})):Et!=null&&(I(Et)&&(Et=M(Et,st+(Et.key==null||V&&V.key===Et.key?"":(""+Et.key).replace(R,"$&/")+"/")+Vt)),Y.push(Et)),1;Vt=0;var he=lt===""?".":lt+":";if(nt(V))for(var $t=0;$t<V.length;$t++)lt=V[$t],wt=he+Kt(lt,$t),Vt+=G(lt,Y,st,wt,Et);else if($t=H(V),typeof $t=="function")for(V=$t.call(V),$t=0;!(lt=V.next()).done;)lt=lt.value,wt=he+Kt(lt,$t++),Vt+=G(lt,Y,st,wt,Et);else if(wt==="object"){if(typeof V.then=="function")return G(ce(V),Y,st,lt,Et);throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function F(V,Y,st){if(V==null)return V;var lt=[],Et=0;return G(V,lt,"","",function(wt){return Y.call(st,wt,Et++)}),lt}function at(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(st){(V._status===0||V._status===-1)&&(V._status=1,V._result=st)},function(st){(V._status===0||V._status===-1)&&(V._status=2,V._result=st)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var dt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Rt={map:F,forEach:function(V,Y,st){F(V,function(){Y.apply(this,arguments)},st)},count:function(V){var Y=0;return F(V,function(){Y++}),Y},toArray:function(V){return F(V,function(Y){return Y})||[]},only:function(V){if(!I(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ct.Activity=S,Ct.Children=Rt,Ct.Component=ht,Ct.Fragment=i,Ct.Profiler=o,Ct.PureComponent=ft,Ct.StrictMode=a,Ct.Suspense=v,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(V){return x.H.useMemoCache(V)}},Ct.cache=function(V){return function(){return V.apply(null,arguments)}},Ct.cacheSignal=function(){return null},Ct.cloneElement=function(V,Y,st){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var lt=et({},V.props),Et=V.key;if(Y!=null)for(wt in Y.key!==void 0&&(Et=""+Y.key),Y)!b.call(Y,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&Y.ref===void 0||(lt[wt]=Y[wt]);var wt=arguments.length-2;if(wt===1)lt.children=st;else if(1<wt){for(var Vt=Array(wt),he=0;he<wt;he++)Vt[he]=arguments[he+2];lt.children=Vt}return w(V.type,Et,lt)},Ct.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},Ct.createElement=function(V,Y,st){var lt,Et={},wt=null;if(Y!=null)for(lt in Y.key!==void 0&&(wt=""+Y.key),Y)b.call(Y,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(Et[lt]=Y[lt]);var Vt=arguments.length-2;if(Vt===1)Et.children=st;else if(1<Vt){for(var he=Array(Vt),$t=0;$t<Vt;$t++)he[$t]=arguments[$t+2];Et.children=he}if(V&&V.defaultProps)for(lt in Vt=V.defaultProps,Vt)Et[lt]===void 0&&(Et[lt]=Vt[lt]);return w(V,wt,Et)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(V){return{$$typeof:y,render:V}},Ct.isValidElement=I,Ct.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:at}},Ct.memo=function(V,Y){return{$$typeof:_,type:V,compare:Y===void 0?null:Y}},Ct.startTransition=function(V){var Y=x.T,st={};x.T=st;try{var lt=V(),Et=x.S;Et!==null&&Et(st,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(ut,dt)}catch(wt){dt(wt)}finally{Y!==null&&st.types!==null&&(Y.types=st.types),x.T=Y}},Ct.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Ct.use=function(V){return x.H.use(V)},Ct.useActionState=function(V,Y,st){return x.H.useActionState(V,Y,st)},Ct.useCallback=function(V,Y){return x.H.useCallback(V,Y)},Ct.useContext=function(V){return x.H.useContext(V)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(V,Y){return x.H.useDeferredValue(V,Y)},Ct.useEffect=function(V,Y){return x.H.useEffect(V,Y)},Ct.useEffectEvent=function(V){return x.H.useEffectEvent(V)},Ct.useId=function(){return x.H.useId()},Ct.useImperativeHandle=function(V,Y,st){return x.H.useImperativeHandle(V,Y,st)},Ct.useInsertionEffect=function(V,Y){return x.H.useInsertionEffect(V,Y)},Ct.useLayoutEffect=function(V,Y){return x.H.useLayoutEffect(V,Y)},Ct.useMemo=function(V,Y){return x.H.useMemo(V,Y)},Ct.useOptimistic=function(V,Y){return x.H.useOptimistic(V,Y)},Ct.useReducer=function(V,Y,st){return x.H.useReducer(V,Y,st)},Ct.useRef=function(V){return x.H.useRef(V)},Ct.useState=function(V){return x.H.useState(V)},Ct.useSyncExternalStore=function(V,Y,st){return x.H.useSyncExternalStore(V,Y,st)},Ct.useTransition=function(){return x.H.useTransition()},Ct.version="19.2.1",Ct}var Ty;function md(){return Ty||(Ty=1,Vf.exports=yE()),Vf.exports}var St=md(),Of={exports:{}},Pl={},Mf={exports:{}},zf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function _E(){return by||(by=1,(function(r){function e(G,F){var at=G.length;G.push(F);t:for(;0<at;){var dt=at-1>>>1,Rt=G[dt];if(0<o(Rt,F))G[dt]=F,G[at]=Rt,at=dt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var F=G[0],at=G.pop();if(at!==F){G[0]=at;t:for(var dt=0,Rt=G.length,V=Rt>>>1;dt<V;){var Y=2*(dt+1)-1,st=G[Y],lt=Y+1,Et=G[lt];if(0>o(st,at))lt<Rt&&0>o(Et,st)?(G[dt]=Et,G[lt]=at,dt=lt):(G[dt]=st,G[Y]=at,dt=Y);else if(lt<Rt&&0>o(Et,at))G[dt]=Et,G[lt]=at,dt=lt;else break t}}return F}function o(G,F){var at=G.sortIndex-F.sortIndex;return at!==0?at:G.id-F.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var v=[],_=[],A=1,S=null,N=3,H=!1,J=!1,et=!1,tt=!1,ht=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function W(G){for(var F=i(_);F!==null;){if(F.callback===null)a(_);else if(F.startTime<=G)a(_),F.sortIndex=F.expirationTime,e(v,F);else break;F=i(_)}}function nt(G){if(et=!1,W(G),!J)if(i(v)!==null)J=!0,ut||(ut=!0,z());else{var F=i(_);F!==null&&ce(nt,F.startTime-G)}}var ut=!1,x=-1,b=5,w=-1;function M(){return tt?!0:!(r.unstable_now()-w<b)}function I(){if(tt=!1,ut){var G=r.unstable_now();w=G;var F=!0;try{t:{J=!1,et&&(et=!1,vt(x),x=-1),H=!0;var at=N;try{e:{for(W(G),S=i(v);S!==null&&!(S.expirationTime>G&&M());){var dt=S.callback;if(typeof dt=="function"){S.callback=null,N=S.priorityLevel;var Rt=dt(S.expirationTime<=G);if(G=r.unstable_now(),typeof Rt=="function"){S.callback=Rt,W(G),F=!0;break e}S===i(v)&&a(v),W(G)}else a(v);S=i(v)}if(S!==null)F=!0;else{var V=i(_);V!==null&&ce(nt,V.startTime-G),F=!1}}break t}finally{S=null,N=at,H=!1}F=void 0}}finally{F?z():ut=!1}}}var z;if(typeof ft=="function")z=function(){ft(I)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Kt=R.port2;R.port1.onmessage=I,z=function(){Kt.postMessage(null)}}else z=function(){ht(I,0)};function ce(G,F){x=ht(function(){G(r.unstable_now())},F)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(G){switch(N){case 1:case 2:case 3:var F=3;break;default:F=N}var at=N;N=F;try{return G()}finally{N=at}},r.unstable_requestPaint=function(){tt=!0},r.unstable_runWithPriority=function(G,F){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var at=N;N=G;try{return F()}finally{N=at}},r.unstable_scheduleCallback=function(G,F,at){var dt=r.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?dt+at:dt):at=dt,G){case 1:var Rt=-1;break;case 2:Rt=250;break;case 5:Rt=1073741823;break;case 4:Rt=1e4;break;default:Rt=5e3}return Rt=at+Rt,G={id:A++,callback:F,priorityLevel:G,startTime:at,expirationTime:Rt,sortIndex:-1},at>dt?(G.sortIndex=at,e(_,G),i(v)===null&&G===i(_)&&(et?(vt(x),x=-1):et=!0,ce(nt,at-dt))):(G.sortIndex=Rt,e(v,G),J||H||(J=!0,ut||(ut=!0,z()))),G},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(G){var F=N;return function(){var at=N;N=F;try{return G.apply(this,arguments)}finally{N=at}}}})(zf)),zf}var Sy;function vE(){return Sy||(Sy=1,Mf.exports=_E()),Mf.exports}var jf={exports:{}},Je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function EE(){if(Ay)return Je;Ay=1;var r=md();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:v,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Je.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Je.flushSync=function(v){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=A,a.d.f()}},Je.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},Je.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Je.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,S=y(A,_.crossOrigin),N=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:N,fetchPriority:H}):A==="script"&&a.d.X(v,{crossOrigin:S,integrity:N,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Je.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},Je.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=y(A,_.crossOrigin);a.d.L(v,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Je.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=y(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},Je.requestFormReset=function(v){a.d.r(v)},Je.unstable_batchedUpdates=function(v,_){return v(_)},Je.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Je.useFormStatus=function(){return d.H.useHostTransitionStatus()},Je.version="19.2.1",Je}var Cy;function TE(){if(Cy)return jf.exports;Cy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),jf.exports=EE(),jf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function bE(){if(xy)return Pl;xy=1;var r=vE(),e=md(),i=TE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return v(c),t;if(f===l)return v(c),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===s){g=!0,s=c,l=f;break}if(E===l){g=!0,l=c,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,l=c;break}if(E===l){g=!0,l=f,s=c;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,N=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),vt=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Kt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case et:return"Fragment";case ht:return"Profiler";case tt:return"StrictMode";case nt:return"Suspense";case ut:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case ft:return t.displayName||"Context";case vt:return(t._context.displayName||"Context")+".Consumer";case W:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:Kt(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return Kt(t(n))}catch{}}return null}var ce=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},dt=[],Rt=-1;function V(t){return{current:t}}function Y(t){0>Rt||(t.current=dt[Rt],dt[Rt]=null,Rt--)}function st(t,n){Rt++,dt[Rt]=t.current,t.current=n}var lt=V(null),Et=V(null),wt=V(null),Vt=V(null);function he(t,n){switch(st(wt,n),st(Et,t),st(lt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?qp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=qp(n),t=Pp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(lt),st(lt,t)}function $t(){Y(lt),Y(Et),Y(wt)}function rt(t){t.memoizedState!==null&&st(Vt,t);var n=lt.current,s=Pp(n,t.type);n!==s&&(st(Et,t),st(lt,s))}function mt(t){Et.current===t&&(Y(lt),Y(Et)),Vt.current===t&&(Y(Vt),Ul._currentValue=at)}var kt,Ze;function Sn(t){if(kt===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);kt=n&&n[1]||"",Ze=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kt+t+Ze}var Ps=!1;function wi(t,n){if(!t||Ps)return"";Ps=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(P){var B=P}Reflect.construct(t,[],X)}else{try{X.call()}catch(P){B=P}t.call(X.prototype)}}else{try{throw Error()}catch(P){B=P}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(P){if(P&&B&&typeof P.stack=="string")return[P.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var D=g.split(`
`),k=E.split(`
`);for(c=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;if(l===D.length||c===k.length)for(l=D.length-1,c=k.length-1;1<=l&&0<=c&&D[l]!==k[c];)c--;for(;1<=l&&0<=c;l--,c--)if(D[l]!==k[c]){if(l!==1||c!==1)do if(l--,c--,0>c||D[l]!==k[c]){var Q=`
`+D[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=c);break}}}finally{Ps=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Sn(s):""}function fe(t,n){switch(t.tag){case 26:case 27:case 5:return Sn(t.type);case 16:return Sn("Lazy");case 13:return t.child!==n&&n!==null?Sn("Suspense Fallback"):Sn("Suspense");case 19:return Sn("SuspenseList");case 0:case 15:return wi(t.type,!1);case 11:return wi(t.type.render,!1);case 1:return wi(t.type,!0);case 31:return Sn("Activity");default:return""}}function kr(t){try{var n="",s=null;do n+=fe(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Te=Object.prototype.hasOwnProperty,Ve=r.unstable_scheduleCallback,Ji=r.unstable_cancelCallback,Vc=r.unstable_shouldYield,mo=r.unstable_requestPaint,en=r.unstable_now,Hs=r.unstable_getCurrentPriorityLevel,Br=r.unstable_ImmediatePriority,qr=r.unstable_UserBlockingPriority,$i=r.unstable_NormalPriority,Oc=r.unstable_LowPriority,go=r.unstable_IdlePriority,po=r.log,yo=r.unstable_setDisableYieldValue,kn=null,qe=null;function An(t){if(typeof po=="function"&&yo(t),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(kn,t)}catch{}}var pe=Math.clz32?Math.clz32:vo,_o=Math.log,Da=Math.LN2;function vo(t){return t>>>=0,t===0?32:31-(_o(t)/Da|0)|0}var $n=256,Gs=262144,be=4194304;function Wn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ti(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Wn(l):(g&=E,g!==0?c=Wn(g):s||(s=E&~t,s!==0&&(c=Wn(s))))):(E=l&~f,E!==0?c=Wn(E):g!==0?c=Wn(g):s||(s=l&~t,s!==0&&(c=Wn(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function Bn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Mc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eo(){var t=be;return be<<=1,(be&62914560)===0&&(be=4194304),t}function ei(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Qs(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zc(t,n,s,l,c,f){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,D=t.expirationTimes,k=t.hiddenUpdates;for(s=g&~s;0<s;){var Q=31-pe(s),X=1<<Q;E[Q]=0,D[Q]=-1;var B=k[Q];if(B!==null)for(k[Q]=null,Q=0;Q<B.length;Q++){var P=B[Q];P!==null&&(P.lane&=-536870913)}s&=~X}l!==0&&Fs(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Fs(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-pe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Pr(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-pe(s),c=1<<l;c&n|t[l]&n&&(t[l]|=n),s&=~c}}function Hr(t,n){var s=n&-n;return s=(s&42)!==0?1:Ys(s),(s&(t.suspendedLanes|n))!==0?0:s}function Ys(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ri(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function To(){var t=F.p;return t!==0?t:(t=window.event,t===void 0?32:hy(t.type))}function qn(t,n){var s=F.p;try{return F.p=t,n()}finally{F.p=s}}var Pn=Math.random().toString(36).slice(2),Se="__reactFiber$"+Pn,Ue="__reactProps$"+Pn,ni="__reactContainer$"+Pn,Na="__reactEvents$"+Pn,jc="__reactListeners$"+Pn,bo="__reactHandles$"+Pn,So="__reactResources$"+Pn,ii="__reactMarker$"+Pn;function Ia(t){delete t[Se],delete t[Ue],delete t[Na],delete t[jc],delete t[bo]}function si(t){var n=t[Se];if(n)return n;for(var s=t.parentNode;s;){if(n=s[ni]||s[Se]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Xp(t);t!==null;){if(s=t[Se])return s;t=Xp(t)}return n}t=s,s=t.parentNode}return null}function Cn(t){if(t=t[Se]||t[ni]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function mn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function ai(t){var n=t[So];return n||(n=t[So]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ae(t){t[ii]=!0}var Gr=new Set,Qr={};function ri(t,n){li(t,n),li(t+"Capture",n)}function li(t,n){for(Qr[t]=n,t=0;t<n.length;t++)Gr.add(n[t])}var Fr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yr={},Kr={};function Ao(t){return Te.call(Kr,t)?!0:Te.call(Yr,t)?!1:Fr.test(t)?Kr[t]=!0:(Yr[t]=!0,!1)}function Va(t,n,s){if(Ao(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function gn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Ce(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Le(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Wi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Xr(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Xt(t){if(!t._valueTracker){var n=Wi(t)?"checked":"value";t._valueTracker=Xr(t,n,""+t[n])}}function Ks(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=Wi(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function oi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Xs=/[\n"\\]/g;function rn(t){return t.replace(Xs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Oa(t,n,s,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Le(n)):t.value!==""+Le(n)&&(t.value=""+Le(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Zr(t,g,Le(n)):s!=null?Zr(t,g,Le(s)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Le(E):t.removeAttribute("name")}function Co(t,n,s,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Xt(t);return}s=s!=null?""+Le(s):"",n=n!=null?""+Le(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Xt(t)}function Zr(t,n,s){n==="number"&&oi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ts(t,n,s,l){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Le(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function xo(t,n,s){if(n!=null&&(n=""+Le(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Le(s):""}function es(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(ce(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Le(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),Xt(t)}function ln(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var wo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jr(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||wo.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function $r(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&Jr(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Jr(t,f,n[f])}function Ma(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ro=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ns=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function za(t){return ns.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Hn(){}var Wr=null;function xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var is=null,ui=null;function Zs(t){var n=Cn(t);if(n&&(t=n.stateNode)){var s=t[Ue]||null;t:switch(t=n.stateNode,n.type){case"input":if(Oa(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var c=l[Ue]||null;if(!c)throw Error(a(90));Oa(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&Ks(l)}break t;case"textarea":xo(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&ts(t,!!s.multiple,n,!1)}}}var ja=!1;function ss(t,n,s){if(ja)return t(n,s);ja=!0;try{var l=t(n);return l}finally{if(ja=!1,(is!==null||ui!==null)&&(Tu(),is&&(n=is,t=ui,ui=is=null,Zs(n),t)))for(n=0;n<t.length;n++)Zs(t[n])}}function Gn(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Ue]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Js=!1;if(wn)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){Js=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch{Js=!1}var ci=null,tl=null,$s=null;function el(){if($s)return $s;var t,n=tl,s=n.length,l,c="value"in ci?ci.value:ci.textContent,f=c.length;for(t=0;t<s&&n[t]===c[t];t++);var g=s-t;for(l=1;l<=g&&n[s-l]===c[f-l];l++);return $s=c.slice(t,1<l?1-l:void 0)}function Ws(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Di(){return!0}function Qn(){return!1}function Pe(t){function n(s,l,c,f,g){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Di:Qn,this.isPropagationStopped=Qn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),n}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=Pe(Ni),as=S({},Ni,{view:0,detail:0}),nl=Pe(as),rs,Ua,fi,La=S({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ls,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fi&&(fi&&t.type==="mousemove"?(rs=t.screenX-fi.screenX,Ua=t.screenY-fi.screenY):Ua=rs=0,fi=t),rs)},movementY:function(t){return"movementY"in t?t.movementY:Ua}}),il=Pe(La),ta=S({},La,{dataTransfer:0}),Do=Pe(ta),No=S({},as,{relatedTarget:0}),ea=Pe(No),sl=S({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),Io=Pe(sl),ka=S({},Ni,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vo=Pe(ka),Oo=S({},Ni,{data:0}),di=Pe(Oo),Mo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=jo[t])?!!n[t]:!1}function ls(){return Uo}var nn=S({},as,{key:function(t){if(t.key){var n=Mo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ws(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ls,charCode:function(t){return t.type==="keypress"?Ws(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ws(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Lo=Pe(nn),ko=S({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ii=Pe(ko),u=S({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ls}),m=Pe(u),p=S({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Pe(p),U=S({},La,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Pe(U),it=S({},Ni,{newState:0,oldState:0}),Dt=Pe(it),ye=[9,13,27,32],Qt=wn&&"CompositionEvent"in window,oe=null;wn&&"documentMode"in document&&(oe=document.documentMode);var Rn=wn&&"TextEvent"in window&&!oe,mi=wn&&(!Qt||oe&&8<oe&&11>=oe),Fn=" ",Yn=!1;function na(t,n){switch(t){case"keyup":return ye.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ba(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qa=!1;function kv(t,n){switch(t){case"compositionend":return Ba(n);case"keypress":return n.which!==32?null:(Yn=!0,Fn);case"textInput":return t=n.data,t===Fn&&Yn?null:t;default:return null}}function Bv(t,n){if(qa)return t==="compositionend"||!Qt&&na(t,n)?(t=el(),$s=tl=ci=null,qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mi&&n.locale!=="ko"?null:n.data;default:return null}}var qv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $d(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!qv[t.type]:n==="textarea"}function Wd(t,n,s,l){is?ui?ui.push(l):ui=[l]:is=l,n=Ru(n,"onChange"),0<n.length&&(s=new hi("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var al=null,rl=null;function Pv(t){zp(t,0)}function Bo(t){var n=mn(t);if(Ks(n))return t}function tm(t,n){if(t==="change")return n}var em=!1;if(wn){var Uc;if(wn){var Lc="oninput"in document;if(!Lc){var nm=document.createElement("div");nm.setAttribute("oninput","return;"),Lc=typeof nm.oninput=="function"}Uc=Lc}else Uc=!1;em=Uc&&(!document.documentMode||9<document.documentMode)}function im(){al&&(al.detachEvent("onpropertychange",sm),rl=al=null)}function sm(t){if(t.propertyName==="value"&&Bo(rl)){var n=[];Wd(n,rl,t,xn(t)),ss(Pv,n)}}function Hv(t,n,s){t==="focusin"?(im(),al=n,rl=s,al.attachEvent("onpropertychange",sm)):t==="focusout"&&im()}function Gv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bo(rl)}function Qv(t,n){if(t==="click")return Bo(n)}function Fv(t,n){if(t==="input"||t==="change")return Bo(n)}function Yv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var pn=typeof Object.is=="function"?Object.is:Yv;function ll(t,n){if(pn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!Te.call(n,c)||!pn(t[c],n[c]))return!1}return!0}function am(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rm(t,n){var s=am(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=am(s)}}function lm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?lm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function om(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=oi(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=oi(t.document)}return n}function kc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Kv=wn&&"documentMode"in document&&11>=document.documentMode,Pa=null,Bc=null,ol=null,qc=!1;function um(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;qc||Pa==null||Pa!==oi(l)||(l=Pa,"selectionStart"in l&&kc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ol&&ll(ol,l)||(ol=l,l=Ru(Bc,"onSelect"),0<l.length&&(n=new hi("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Pa)))}function ia(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Ha={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionrun:ia("Transition","TransitionRun"),transitionstart:ia("Transition","TransitionStart"),transitioncancel:ia("Transition","TransitionCancel"),transitionend:ia("Transition","TransitionEnd")},Pc={},cm={};wn&&(cm=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function sa(t){if(Pc[t])return Pc[t];if(!Ha[t])return t;var n=Ha[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in cm)return Pc[t]=n[s];return t}var hm=sa("animationend"),fm=sa("animationiteration"),dm=sa("animationstart"),Xv=sa("transitionrun"),Zv=sa("transitionstart"),Jv=sa("transitioncancel"),mm=sa("transitionend"),gm=new Map,Hc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hc.push("scrollEnd");function Kn(t,n){gm.set(t,n),ri(n,[t])}var qo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Dn=[],Ga=0,Gc=0;function Po(){for(var t=Ga,n=Gc=Ga=0;n<t;){var s=Dn[n];Dn[n++]=null;var l=Dn[n];Dn[n++]=null;var c=Dn[n];Dn[n++]=null;var f=Dn[n];if(Dn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&pm(s,c,f)}}function Ho(t,n,s,l){Dn[Ga++]=t,Dn[Ga++]=n,Dn[Ga++]=s,Dn[Ga++]=l,Gc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Qc(t,n,s,l){return Ho(t,n,s,l),Go(t)}function aa(t,n){return Ho(t,null,null,n),Go(t)}function pm(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-pe(s),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function Go(t){if(50<Nl)throw Nl=0,tf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Qa={};function $v(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,n,s,l){return new $v(t,n,s,l)}function Fc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vi(t,n){var s=t.alternate;return s===null?(s=yn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function ym(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Qo(t,n,s,l,c,f){var g=0;if(l=t,typeof t=="function")Fc(t)&&(g=1);else if(typeof t=="string")g=iE(t,s,lt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=yn(31,s,n,c),t.elementType=w,t.lanes=f,t;case et:return ra(s.children,c,f,n);case tt:g=8,c|=24;break;case ht:return t=yn(12,s,n,c|2),t.elementType=ht,t.lanes=f,t;case nt:return t=yn(13,s,n,c),t.elementType=nt,t.lanes=f,t;case ut:return t=yn(19,s,n,c),t.elementType=ut,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ft:g=10;break t;case vt:g=9;break t;case W:g=11;break t;case x:g=14;break t;case b:g=16,l=null;break t}g=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=yn(g,s,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ra(t,n,s,l){return t=yn(7,t,l,n),t.lanes=s,t}function Yc(t,n,s){return t=yn(6,t,null,n),t.lanes=s,t}function _m(t){var n=yn(18,null,null,0);return n.stateNode=t,n}function Kc(t,n,s){return n=yn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var vm=new WeakMap;function Nn(t,n){if(typeof t=="object"&&t!==null){var s=vm.get(t);return s!==void 0?s:(n={value:t,source:n,stack:kr(n)},vm.set(t,n),n)}return{value:t,source:n,stack:kr(n)}}var Fa=[],Ya=0,Fo=null,ul=0,In=[],Vn=0,os=null,gi=1,pi="";function Oi(t,n){Fa[Ya++]=ul,Fa[Ya++]=Fo,Fo=t,ul=n}function Em(t,n,s){In[Vn++]=gi,In[Vn++]=pi,In[Vn++]=os,os=t;var l=gi;t=pi;var c=32-pe(l)-1;l&=~(1<<c),s+=1;var f=32-pe(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,gi=1<<32-pe(n)+c|s<<c|l,pi=f+t}else gi=1<<f|s<<c|l,pi=t}function Xc(t){t.return!==null&&(Oi(t,1),Em(t,1,0))}function Zc(t){for(;t===Fo;)Fo=Fa[--Ya],Fa[Ya]=null,ul=Fa[--Ya],Fa[Ya]=null;for(;t===os;)os=In[--Vn],In[Vn]=null,pi=In[--Vn],In[Vn]=null,gi=In[--Vn],In[Vn]=null}function Tm(t,n){In[Vn++]=gi,In[Vn++]=pi,In[Vn++]=os,gi=n.id,pi=n.overflow,os=t}var He=null,se=null,Bt=!1,us=null,On=!1,Jc=Error(a(519));function cs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cl(Nn(n,t)),Jc}function bm(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[Se]=t,n[Ue]=l,s){case"dialog":Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":case"embed":Mt("load",n);break;case"video":case"audio":for(s=0;s<Vl.length;s++)Mt(Vl[s],n);break;case"source":Mt("error",n);break;case"img":case"image":case"link":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"input":Mt("invalid",n),Co(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Mt("invalid",n);break;case"textarea":Mt("invalid",n),es(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||kp(n.textContent,s)?(l.popover!=null&&(Mt("beforetoggle",n),Mt("toggle",n)),l.onScroll!=null&&Mt("scroll",n),l.onScrollEnd!=null&&Mt("scrollend",n),l.onClick!=null&&(n.onclick=Hn),n=!0):n=!1,n||cs(t,!0)}function Sm(t){for(He=t.return;He;)switch(He.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:He=He.return}}function Ka(t){if(t!==He)return!1;if(!Bt)return Sm(t),Bt=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||pf(t.type,t.memoizedProps)),s=!s),s&&se&&cs(t),Sm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));se=Kp(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));se=Kp(t)}else n===27?(n=se,As(t.type)?(t=Tf,Tf=null,se=t):se=n):se=He?zn(t.stateNode.nextSibling):null;return!0}function la(){se=He=null,Bt=!1}function $c(){var t=us;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),us=null),t}function cl(t){us===null?us=[t]:us.push(t)}var Wc=V(null),oa=null,Mi=null;function hs(t,n,s){st(Wc,n._currentValue),n._currentValue=s}function zi(t){t._currentValue=Wc.current,Y(Wc)}function th(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function eh(t,n,s,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var D=0;D<n.length;D++)if(E.context===n[D]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),th(f.return,s,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),th(g,s,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Xa(t,n,s,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=c.type;pn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===Vt.current){if(g=c.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ul):t=[Ul])}c=c.return}t!==null&&eh(n,t,s,l),n.flags|=262144}function Yo(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ua(t){oa=t,Mi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ge(t){return Am(oa,t)}function Ko(t,n){return oa===null&&ua(t),Am(t,n)}function Am(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Mi===null){if(t===null)throw Error(a(308));Mi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Mi=Mi.next=n;return s}var Wv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},t1=r.unstable_scheduleCallback,e1=r.unstable_NormalPriority,xe={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nh(){return{controller:new Wv,data:new Map,refCount:0}}function hl(t){t.refCount--,t.refCount===0&&t1(e1,function(){t.controller.abort()})}var fl=null,ih=0,Za=0,Ja=null;function n1(t,n){if(fl===null){var s=fl=[];ih=0,Za=lf(),Ja={status:"pending",value:void 0,then:function(l){s.push(l)}}}return ih++,n.then(Cm,Cm),n}function Cm(){if(--ih===0&&fl!==null){Ja!==null&&(Ja.status="fulfilled");var t=fl;fl=null,Za=0,Ja=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function i1(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var xm=G.S;G.S=function(t,n){up=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n1(t,n),xm!==null&&xm(t,n)};var ca=V(null);function sh(){var t=ca.current;return t!==null?t:ie.pooledCache}function Xo(t,n){n===null?st(ca,ca.current):st(ca,n.pool)}function wm(){var t=sh();return t===null?null:{parent:xe._currentValue,pool:t}}var $a=Error(a(460)),ah=Error(a(474)),Zo=Error(a(542)),Jo={then:function(){}};function Rm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Dm(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Hn,Hn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Im(t),t;default:if(typeof n.status=="string")n.then(Hn,Hn);else{if(t=ie,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Im(t),t}throw fa=n,$a}}function ha(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(fa=s,$a):s}}var fa=null;function Nm(){if(fa===null)throw Error(a(459));var t=fa;return fa=null,t}function Im(t){if(t===$a||t===Zo)throw Error(a(483))}var Wa=null,dl=0;function $o(t){var n=dl;return dl+=1,Wa===null&&(Wa=[]),Dm(Wa,t,n)}function ml(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Wo(t,n){throw n.$$typeof===N?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Vm(t){function n(j,O){if(t){var L=j.deletions;L===null?(j.deletions=[O],j.flags|=16):L.push(O)}}function s(j,O){if(!t)return null;for(;O!==null;)n(j,O),O=O.sibling;return null}function l(j){for(var O=new Map;j!==null;)j.key!==null?O.set(j.key,j):O.set(j.index,j),j=j.sibling;return O}function c(j,O){return j=Vi(j,O),j.index=0,j.sibling=null,j}function f(j,O,L){return j.index=L,t?(L=j.alternate,L!==null?(L=L.index,L<O?(j.flags|=67108866,O):L):(j.flags|=67108866,O)):(j.flags|=1048576,O)}function g(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function E(j,O,L,K){return O===null||O.tag!==6?(O=Yc(L,j.mode,K),O.return=j,O):(O=c(O,L),O.return=j,O)}function D(j,O,L,K){var yt=L.type;return yt===et?Q(j,O,L.props.children,K,L.key):O!==null&&(O.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===b&&ha(yt)===O.type)?(O=c(O,L.props),ml(O,L),O.return=j,O):(O=Qo(L.type,L.key,L.props,null,j.mode,K),ml(O,L),O.return=j,O)}function k(j,O,L,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=Kc(L,j.mode,K),O.return=j,O):(O=c(O,L.children||[]),O.return=j,O)}function Q(j,O,L,K,yt){return O===null||O.tag!==7?(O=ra(L,j.mode,K,yt),O.return=j,O):(O=c(O,L),O.return=j,O)}function X(j,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Yc(""+O,j.mode,L),O.return=j,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case H:return L=Qo(O.type,O.key,O.props,null,j.mode,L),ml(L,O),L.return=j,L;case J:return O=Kc(O,j.mode,L),O.return=j,O;case b:return O=ha(O),X(j,O,L)}if(ce(O)||z(O))return O=ra(O,j.mode,L,null),O.return=j,O;if(typeof O.then=="function")return X(j,$o(O),L);if(O.$$typeof===ft)return X(j,Ko(j,O),L);Wo(j,O)}return null}function B(j,O,L,K){var yt=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return yt!==null?null:E(j,O,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case H:return L.key===yt?D(j,O,L,K):null;case J:return L.key===yt?k(j,O,L,K):null;case b:return L=ha(L),B(j,O,L,K)}if(ce(L)||z(L))return yt!==null?null:Q(j,O,L,K,null);if(typeof L.then=="function")return B(j,O,$o(L),K);if(L.$$typeof===ft)return B(j,O,Ko(j,L),K);Wo(j,L)}return null}function P(j,O,L,K,yt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return j=j.get(L)||null,E(O,j,""+K,yt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case H:return j=j.get(K.key===null?L:K.key)||null,D(O,j,K,yt);case J:return j=j.get(K.key===null?L:K.key)||null,k(O,j,K,yt);case b:return K=ha(K),P(j,O,L,K,yt)}if(ce(K)||z(K))return j=j.get(L)||null,Q(O,j,K,yt,null);if(typeof K.then=="function")return P(j,O,L,$o(K),yt);if(K.$$typeof===ft)return P(j,O,L,Ko(O,K),yt);Wo(O,K)}return null}function ct(j,O,L,K){for(var yt=null,Ht=null,gt=O,It=O=0,jt=null;gt!==null&&It<L.length;It++){gt.index>It?(jt=gt,gt=null):jt=gt.sibling;var Gt=B(j,gt,L[It],K);if(Gt===null){gt===null&&(gt=jt);break}t&&gt&&Gt.alternate===null&&n(j,gt),O=f(Gt,O,It),Ht===null?yt=Gt:Ht.sibling=Gt,Ht=Gt,gt=jt}if(It===L.length)return s(j,gt),Bt&&Oi(j,It),yt;if(gt===null){for(;It<L.length;It++)gt=X(j,L[It],K),gt!==null&&(O=f(gt,O,It),Ht===null?yt=gt:Ht.sibling=gt,Ht=gt);return Bt&&Oi(j,It),yt}for(gt=l(gt);It<L.length;It++)jt=P(gt,j,It,L[It],K),jt!==null&&(t&&jt.alternate!==null&&gt.delete(jt.key===null?It:jt.key),O=f(jt,O,It),Ht===null?yt=jt:Ht.sibling=jt,Ht=jt);return t&&gt.forEach(function(Ds){return n(j,Ds)}),Bt&&Oi(j,It),yt}function Tt(j,O,L,K){if(L==null)throw Error(a(151));for(var yt=null,Ht=null,gt=O,It=O=0,jt=null,Gt=L.next();gt!==null&&!Gt.done;It++,Gt=L.next()){gt.index>It?(jt=gt,gt=null):jt=gt.sibling;var Ds=B(j,gt,Gt.value,K);if(Ds===null){gt===null&&(gt=jt);break}t&&gt&&Ds.alternate===null&&n(j,gt),O=f(Ds,O,It),Ht===null?yt=Ds:Ht.sibling=Ds,Ht=Ds,gt=jt}if(Gt.done)return s(j,gt),Bt&&Oi(j,It),yt;if(gt===null){for(;!Gt.done;It++,Gt=L.next())Gt=X(j,Gt.value,K),Gt!==null&&(O=f(Gt,O,It),Ht===null?yt=Gt:Ht.sibling=Gt,Ht=Gt);return Bt&&Oi(j,It),yt}for(gt=l(gt);!Gt.done;It++,Gt=L.next())Gt=P(gt,j,It,Gt.value,K),Gt!==null&&(t&&Gt.alternate!==null&&gt.delete(Gt.key===null?It:Gt.key),O=f(Gt,O,It),Ht===null?yt=Gt:Ht.sibling=Gt,Ht=Gt);return t&&gt.forEach(function(mE){return n(j,mE)}),Bt&&Oi(j,It),yt}function ne(j,O,L,K){if(typeof L=="object"&&L!==null&&L.type===et&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case H:t:{for(var yt=L.key;O!==null;){if(O.key===yt){if(yt=L.type,yt===et){if(O.tag===7){s(j,O.sibling),K=c(O,L.props.children),K.return=j,j=K;break t}}else if(O.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===b&&ha(yt)===O.type){s(j,O.sibling),K=c(O,L.props),ml(K,L),K.return=j,j=K;break t}s(j,O);break}else n(j,O);O=O.sibling}L.type===et?(K=ra(L.props.children,j.mode,K,L.key),K.return=j,j=K):(K=Qo(L.type,L.key,L.props,null,j.mode,K),ml(K,L),K.return=j,j=K)}return g(j);case J:t:{for(yt=L.key;O!==null;){if(O.key===yt)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){s(j,O.sibling),K=c(O,L.children||[]),K.return=j,j=K;break t}else{s(j,O);break}else n(j,O);O=O.sibling}K=Kc(L,j.mode,K),K.return=j,j=K}return g(j);case b:return L=ha(L),ne(j,O,L,K)}if(ce(L))return ct(j,O,L,K);if(z(L)){if(yt=z(L),typeof yt!="function")throw Error(a(150));return L=yt.call(L),Tt(j,O,L,K)}if(typeof L.then=="function")return ne(j,O,$o(L),K);if(L.$$typeof===ft)return ne(j,O,Ko(j,L),K);Wo(j,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(s(j,O.sibling),K=c(O,L),K.return=j,j=K):(s(j,O),K=Yc(L,j.mode,K),K.return=j,j=K),g(j)):s(j,O)}return function(j,O,L,K){try{dl=0;var yt=ne(j,O,L,K);return Wa=null,yt}catch(gt){if(gt===$a||gt===Zo)throw gt;var Ht=yn(29,gt,null,j.mode);return Ht.lanes=K,Ht.return=j,Ht}finally{}}}var da=Vm(!0),Om=Vm(!1),fs=!1;function rh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ds(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ms(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Go(t),pm(t,null,s),n}return Ho(t,l,n,s),Go(t)}function gl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Pr(t,s)}}function oh(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var uh=!1;function pl(){if(uh){var t=Ja;if(t!==null)throw t}}function yl(t,n,s,l){uh=!1;var c=t.updateQueue;fs=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var D=E,k=D.next;D.next=null,g===null?f=k:g.next=k,g=D;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==g&&(E===null?Q.firstBaseUpdate=k:E.next=k,Q.lastBaseUpdate=D))}if(f!==null){var X=c.baseState;g=0,Q=k=D=null,E=f;do{var B=E.lane&-536870913,P=B!==E.lane;if(P?(zt&B)===B:(l&B)===B){B!==0&&B===Za&&(uh=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ct=t,Tt=E;B=n;var ne=s;switch(Tt.tag){case 1:if(ct=Tt.payload,typeof ct=="function"){X=ct.call(ne,X,B);break t}X=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=Tt.payload,B=typeof ct=="function"?ct.call(ne,X,B):ct,B==null)break t;X=S({},X,B);break t;case 2:fs=!0}}B=E.callback,B!==null&&(t.flags|=64,P&&(t.flags|=8192),P=c.callbacks,P===null?c.callbacks=[B]:P.push(B))}else P={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(k=Q=P,D=X):Q=Q.next=P,g|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;P=E,E=P.next,P.next=null,c.lastBaseUpdate=P,c.shared.pending=null}}while(!0);Q===null&&(D=X),c.baseState=D,c.firstBaseUpdate=k,c.lastBaseUpdate=Q,f===null&&(c.shared.lanes=0),vs|=g,t.lanes=g,t.memoizedState=X}}function Mm(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function zm(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Mm(s[t],n)}var tr=V(null),tu=V(0);function jm(t,n){t=Gi,st(tu,t),st(tr,n),Gi=t|n.baseLanes}function ch(){st(tu,Gi),st(tr,tr.current)}function hh(){Gi=tu.current,Y(tr),Y(tu)}var _n=V(null),Mn=null;function gs(t){var n=t.alternate;st(_e,_e.current&1),st(_n,t),Mn===null&&(n===null||tr.current!==null||n.memoizedState!==null)&&(Mn=t)}function fh(t){st(_e,_e.current),st(_n,t),Mn===null&&(Mn=t)}function Um(t){t.tag===22?(st(_e,_e.current),st(_n,t),Mn===null&&(Mn=t)):ps()}function ps(){st(_e,_e.current),st(_n,_n.current)}function vn(t){Y(_n),Mn===t&&(Mn=null),Y(_e)}var _e=V(0);function eu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||vf(s)||Ef(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ji=0,Nt=null,te=null,we=null,nu=!1,er=!1,ma=!1,iu=0,_l=0,nr=null,s1=0;function me(){throw Error(a(321))}function dh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!pn(t[s],n[s]))return!1;return!0}function mh(t,n,s,l,c,f){return ji=f,Nt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Eg:Dh,ma=!1,f=s(l,c),ma=!1,er&&(f=km(n,s,l,c)),Lm(t),f}function Lm(t){G.H=Tl;var n=te!==null&&te.next!==null;if(ji=0,we=te=Nt=null,nu=!1,_l=0,nr=null,n)throw Error(a(300));t===null||Re||(t=t.dependencies,t!==null&&Yo(t)&&(Re=!0))}function km(t,n,s,l){Nt=t;var c=0;do{if(er&&(nr=null),_l=0,er=!1,25<=c)throw Error(a(301));if(c+=1,we=te=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Tg,f=n(s,l)}while(er);return f}function a1(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?vl(n):n,t=t.useState()[0],(te!==null?te.memoizedState:null)!==t&&(Nt.flags|=1024),n}function gh(){var t=iu!==0;return iu=0,t}function ph(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function yh(t){if(nu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}nu=!1}ji=0,we=te=Nt=null,er=!1,_l=iu=0,nr=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?Nt.memoizedState=we=t:we=we.next=t,we}function ve(){if(te===null){var t=Nt.alternate;t=t!==null?t.memoizedState:null}else t=te.next;var n=we===null?Nt.memoizedState:we.next;if(n!==null)we=n,te=t;else{if(t===null)throw Nt.alternate===null?Error(a(467)):Error(a(310));te=t,t={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},we===null?Nt.memoizedState=we=t:we=we.next=t}return we}function su(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(t){var n=_l;return _l+=1,nr===null&&(nr=[]),t=Dm(nr,t,n),n=Nt,(we===null?n.memoizedState:we.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Eg:Dh),t}function au(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return vl(t);if(t.$$typeof===ft)return Ge(t)}throw Error(a(438,String(t)))}function _h(t){var n=null,s=Nt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Nt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=su(),Nt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=M;return n.index++,s}function Ui(t,n){return typeof n=="function"?n(t):n}function ru(t){var n=ve();return vh(n,te,t)}function vh(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=g=null,D=null,k=n,Q=!1;do{var X=k.lane&-536870913;if(X!==k.lane?(zt&X)===X:(ji&X)===X){var B=k.revertLane;if(B===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),X===Za&&(Q=!0);else if((ji&B)===B){k=k.next,B===Za&&(Q=!0);continue}else X={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},D===null?(E=D=X,g=f):D=D.next=X,Nt.lanes|=B,vs|=B;X=k.action,ma&&s(f,X),f=k.hasEagerState?k.eagerState:s(f,X)}else B={lane:X,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},D===null?(E=D=B,g=f):D=D.next=B,Nt.lanes|=X,vs|=X;k=k.next}while(k!==null&&k!==n);if(D===null?g=f:D.next=E,!pn(f,t.memoizedState)&&(Re=!0,Q&&(s=Ja,s!==null)))throw s;t.memoizedState=f,t.baseState=g,t.baseQueue=D,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Eh(t){var n=ve(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);pn(f,n.memoizedState)||(Re=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Bm(t,n,s){var l=Nt,c=ve(),f=Bt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!pn((te||c).memoizedState,s);if(g&&(c.memoizedState=s,Re=!0),c=c.queue,Sh(Hm.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||we!==null&&we.memoizedState.tag&1){if(l.flags|=2048,ir(9,{destroy:void 0},Pm.bind(null,l,c,s,n),null),ie===null)throw Error(a(349));f||(ji&127)!==0||qm(l,n,s)}return s}function qm(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Nt.updateQueue,n===null?(n=su(),Nt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Pm(t,n,s,l){n.value=s,n.getSnapshot=l,Gm(n)&&Qm(t)}function Hm(t,n,s){return s(function(){Gm(n)&&Qm(t)})}function Gm(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!pn(t,s)}catch{return!0}}function Qm(t){var n=aa(t,2);n!==null&&fn(n,t,2)}function Th(t){var n=sn();if(typeof t=="function"){var s=t;if(t=s(),ma){An(!0);try{s()}finally{An(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:t},n}function Fm(t,n,s,l){return t.baseState=s,vh(t,te,typeof l=="function"?l:Ui)}function r1(t,n,s,l,c){if(uu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Ym(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Ym(t,n){var s=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=s(c,l),D=G.S;D!==null&&D(g,E),Km(t,n,E)}catch(k){bh(t,n,k)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=s(c,l),Km(t,n,f)}catch(k){bh(t,n,k)}}function Km(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Xm(t,n,l)},function(l){return bh(t,n,l)}):Xm(t,n,s)}function Xm(t,n,s){n.status="fulfilled",n.value=s,Zm(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Ym(t,s)))}function bh(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Zm(n),n=n.next;while(n!==l)}t.action=null}function Zm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Jm(t,n){return n}function $m(t,n){if(Bt){var s=ie.formState;if(s!==null){t:{var l=Nt;if(Bt){if(se){e:{for(var c=se,f=On;c.nodeType!==8;){if(!f){c=null;break e}if(c=zn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){se=zn(c.nextSibling),l=c.data==="F!";break t}}cs(l)}l=!1}l&&(n=s[0])}}return s=sn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jm,lastRenderedState:n},s.queue=l,s=yg.bind(null,Nt,l),l.dispatch=s,l=Th(!1),f=Rh.bind(null,Nt,!1,l.queue),l=sn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,s=r1.bind(null,Nt,c,f,s),c.dispatch=s,l.memoizedState=t,[n,s,!1]}function Wm(t){var n=ve();return tg(n,te,t)}function tg(t,n,s){if(n=vh(t,n,Jm)[0],t=ru(Ui)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=vl(n)}catch(g){throw g===$a?Zo:g}else l=n;n=ve();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(Nt.flags|=2048,ir(9,{destroy:void 0},l1.bind(null,c,s),null)),[l,f,t]}function l1(t,n){t.action=n}function eg(t){var n=ve(),s=te;if(s!==null)return tg(n,s,t);ve(),n=n.memoizedState,s=ve();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function ir(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Nt.updateQueue,n===null&&(n=su(),Nt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function ng(){return ve().memoizedState}function lu(t,n,s,l){var c=sn();Nt.flags|=t,c.memoizedState=ir(1|n,{destroy:void 0},s,l===void 0?null:l)}function ou(t,n,s,l){var c=ve();l=l===void 0?null:l;var f=c.memoizedState.inst;te!==null&&l!==null&&dh(l,te.memoizedState.deps)?c.memoizedState=ir(n,f,s,l):(Nt.flags|=t,c.memoizedState=ir(1|n,f,s,l))}function ig(t,n){lu(8390656,8,t,n)}function Sh(t,n){ou(2048,8,t,n)}function o1(t){Nt.flags|=4;var n=Nt.updateQueue;if(n===null)n=su(),Nt.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function sg(t){var n=ve().memoizedState;return o1({ref:n,nextImpl:t}),function(){if((Ft&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function ag(t,n){return ou(4,2,t,n)}function rg(t,n){return ou(4,4,t,n)}function lg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function og(t,n,s){s=s!=null?s.concat([t]):null,ou(4,4,lg.bind(null,n,t),s)}function Ah(){}function ug(t,n){var s=ve();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&dh(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function cg(t,n){var s=ve();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&dh(n,l[1]))return l[0];if(l=t(),ma){An(!0);try{t()}finally{An(!1)}}return s.memoizedState=[l,n],l}function Ch(t,n,s){return s===void 0||(ji&1073741824)!==0&&(zt&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=hp(),Nt.lanes|=t,vs|=t,s)}function hg(t,n,s,l){return pn(s,n)?s:tr.current!==null?(t=Ch(t,s,l),pn(t,n)||(Re=!0),t):(ji&42)===0||(ji&1073741824)!==0&&(zt&261930)===0?(Re=!0,t.memoizedState=s):(t=hp(),Nt.lanes|=t,vs|=t,n)}function fg(t,n,s,l,c){var f=F.p;F.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Rh(t,!1,n,s);try{var D=c(),k=G.S;if(k!==null&&k(E,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Q=i1(D,l);El(t,n,Q,bn(t))}else El(t,n,l,bn(t))}catch(X){El(t,n,{then:function(){},status:"rejected",reason:X},bn())}finally{F.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function u1(){}function xh(t,n,s,l){if(t.tag!==5)throw Error(a(476));var c=dg(t).queue;fg(t,c,n,at,s===null?u1:function(){return mg(t),s(l)})}function dg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:at},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function mg(t){var n=dg(t);n.next===null&&(n=t.alternate.memoizedState),El(t,n.next.queue,{},bn())}function wh(){return Ge(Ul)}function gg(){return ve().memoizedState}function pg(){return ve().memoizedState}function c1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=bn();t=ds(s);var l=ms(n,t,s);l!==null&&(fn(l,n,s),gl(l,n,s)),n={cache:nh()},t.payload=n;return}n=n.return}}function h1(t,n,s){var l=bn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},uu(t)?_g(n,s):(s=Qc(t,n,s,l),s!==null&&(fn(s,t,l),vg(s,n,l)))}function yg(t,n,s){var l=bn();El(t,n,s,l)}function El(t,n,s,l){var c={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(uu(t))_g(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(c.hasEagerState=!0,c.eagerState=E,pn(E,g))return Ho(t,n,c,0),ie===null&&Po(),!1}catch{}finally{}if(s=Qc(t,n,c,l),s!==null)return fn(s,t,l),vg(s,n,l),!0}return!1}function Rh(t,n,s,l){if(l={lane:2,revertLane:lf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},uu(t)){if(n)throw Error(a(479))}else n=Qc(t,s,l,2),n!==null&&fn(n,t,2)}function uu(t){var n=t.alternate;return t===Nt||n!==null&&n===Nt}function _g(t,n){er=nu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function vg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Pr(t,s)}}var Tl={readContext:Ge,use:au,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me};Tl.useEffectEvent=me;var Eg={readContext:Ge,use:au,useCallback:function(t,n){return sn().memoizedState=[t,n===void 0?null:n],t},useContext:Ge,useEffect:ig,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,lu(4194308,4,lg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return lu(4194308,4,t,n)},useInsertionEffect:function(t,n){lu(4,2,t,n)},useMemo:function(t,n){var s=sn();n=n===void 0?null:n;var l=t();if(ma){An(!0);try{t()}finally{An(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=sn();if(s!==void 0){var c=s(n);if(ma){An(!0);try{s(n)}finally{An(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=h1.bind(null,Nt,t),[l.memoizedState,t]},useRef:function(t){var n=sn();return t={current:t},n.memoizedState=t},useState:function(t){t=Th(t);var n=t.queue,s=yg.bind(null,Nt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Ah,useDeferredValue:function(t,n){var s=sn();return Ch(s,t,n)},useTransition:function(){var t=Th(!1);return t=fg.bind(null,Nt,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Nt,c=sn();if(Bt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ie===null)throw Error(a(349));(zt&127)!==0||qm(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,ig(Hm.bind(null,l,f,t),[t]),l.flags|=2048,ir(9,{destroy:void 0},Pm.bind(null,l,f,s,n),null),s},useId:function(){var t=sn(),n=ie.identifierPrefix;if(Bt){var s=pi,l=gi;s=(l&~(1<<32-pe(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=iu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=s1++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:wh,useFormState:$m,useActionState:$m,useOptimistic:function(t){var n=sn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Rh.bind(null,Nt,!0,s),s.dispatch=n,[t,n]},useMemoCache:_h,useCacheRefresh:function(){return sn().memoizedState=c1.bind(null,Nt)},useEffectEvent:function(t){var n=sn(),s={impl:t};return n.memoizedState=s,function(){if((Ft&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Dh={readContext:Ge,use:au,useCallback:ug,useContext:Ge,useEffect:Sh,useImperativeHandle:og,useInsertionEffect:ag,useLayoutEffect:rg,useMemo:cg,useReducer:ru,useRef:ng,useState:function(){return ru(Ui)},useDebugValue:Ah,useDeferredValue:function(t,n){var s=ve();return hg(s,te.memoizedState,t,n)},useTransition:function(){var t=ru(Ui)[0],n=ve().memoizedState;return[typeof t=="boolean"?t:vl(t),n]},useSyncExternalStore:Bm,useId:gg,useHostTransitionStatus:wh,useFormState:Wm,useActionState:Wm,useOptimistic:function(t,n){var s=ve();return Fm(s,te,t,n)},useMemoCache:_h,useCacheRefresh:pg};Dh.useEffectEvent=sg;var Tg={readContext:Ge,use:au,useCallback:ug,useContext:Ge,useEffect:Sh,useImperativeHandle:og,useInsertionEffect:ag,useLayoutEffect:rg,useMemo:cg,useReducer:Eh,useRef:ng,useState:function(){return Eh(Ui)},useDebugValue:Ah,useDeferredValue:function(t,n){var s=ve();return te===null?Ch(s,t,n):hg(s,te.memoizedState,t,n)},useTransition:function(){var t=Eh(Ui)[0],n=ve().memoizedState;return[typeof t=="boolean"?t:vl(t),n]},useSyncExternalStore:Bm,useId:gg,useHostTransitionStatus:wh,useFormState:eg,useActionState:eg,useOptimistic:function(t,n){var s=ve();return te!==null?Fm(s,te,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:_h,useCacheRefresh:pg};Tg.useEffectEvent=sg;function Nh(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:S({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Ih={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=bn(),c=ds(l);c.payload=n,s!=null&&(c.callback=s),n=ms(t,c,l),n!==null&&(fn(n,t,l),gl(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=bn(),c=ds(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=ms(t,c,l),n!==null&&(fn(n,t,l),gl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=bn(),l=ds(s);l.tag=2,n!=null&&(l.callback=n),n=ms(t,l,s),n!==null&&(fn(n,t,s),gl(n,t,s))}};function bg(t,n,s,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!ll(s,l)||!ll(c,f):!0}function Sg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Ih.enqueueReplaceState(n,n.state,null)}function ga(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=S({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}function Ag(t){qo(t)}function Cg(t){console.error(t)}function xg(t){qo(t)}function cu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function wg(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Vh(t,n,s){return s=ds(s),s.tag=3,s.payload={element:null},s.callback=function(){cu(t,n)},s}function Rg(t){return t=ds(t),t.tag=3,t}function Dg(t,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){wg(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){wg(n,s,l),typeof c!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function f1(t,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Xa(n,s,c,!0),s=_n.current,s!==null){switch(s.tag){case 31:case 13:return Mn===null?bu():s.alternate===null&&ge===0&&(ge=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===Jo?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),sf(t,l,c)),!1;case 22:return s.flags|=65536,l===Jo?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),sf(t,l,c)),!1}throw Error(a(435,s.tag))}return sf(t,l,c),bu(),!1}if(Bt)return n=_n.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Jc&&(t=Error(a(422),{cause:l}),cl(Nn(t,s)))):(l!==Jc&&(n=Error(a(423),{cause:l}),cl(Nn(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Nn(l,s),c=Vh(t.stateNode,l,c),oh(t,c),ge!==4&&(ge=2)),!1;var f=Error(a(520),{cause:l});if(f=Nn(f,s),Dl===null?Dl=[f]:Dl.push(f),ge!==4&&(ge=2),n===null)return!0;l=Nn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=Vh(s.stateNode,l,t),oh(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Es===null||!Es.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Rg(c),Dg(c,t,s,l),oh(s,c),!1}s=s.return}while(s!==null);return!1}var Oh=Error(a(461)),Re=!1;function Qe(t,n,s,l){n.child=t===null?Om(n,null,s,l):da(n,t.child,s,l)}function Ng(t,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return ua(n),l=mh(t,n,s,g,f,c),E=gh(),t!==null&&!Re?(ph(t,n,c),Li(t,n,c)):(Bt&&E&&Xc(n),n.flags|=1,Qe(t,n,l,c),n.child)}function Ig(t,n,s,l,c){if(t===null){var f=s.type;return typeof f=="function"&&!Fc(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Vg(t,n,f,l,c)):(t=Qo(s.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!qh(t,c)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:ll,s(g,l)&&t.ref===n.ref)return Li(t,n,c)}return n.flags|=1,t=Vi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Vg(t,n,s,l,c){if(t!==null){var f=t.memoizedProps;if(ll(f,l)&&t.ref===n.ref)if(Re=!1,n.pendingProps=l=f,qh(t,c))(t.flags&131072)!==0&&(Re=!0);else return n.lanes=t.lanes,Li(t,n,c)}return Mh(t,n,s,l,c)}function Og(t,n,s,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Mg(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xo(n,f!==null?f.cachePool:null),f!==null?jm(n,f):ch(),Um(n);else return l=n.lanes=536870912,Mg(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Xo(n,f.cachePool),jm(n,f),ps(),n.memoizedState=null):(t!==null&&Xo(n,null),ch(),ps());return Qe(t,n,c,s),n.child}function bl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Mg(t,n,s,l,c){var f=sh();return f=f===null?null:{parent:xe._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Xo(n,null),ch(),Um(n),t!==null&&Xa(t,n,l,!0),n.childLanes=c,null}function hu(t,n){return n=du({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function zg(t,n,s){return da(n,t.child,null,s),t=hu(n,n.pendingProps),t.flags|=2,vn(n),n.memoizedState=null,t}function d1(t,n,s){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Bt){if(l.mode==="hidden")return t=hu(n,l),n.lanes=536870912,bl(null,t);if(fh(n),(t=se)?(t=Yp(t,On),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:os!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=_m(t),s.return=n,n.child=s,He=n,se=null)):t=null,t===null)throw cs(n);return n.lanes=536870912,null}return hu(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(fh(n),c)if(n.flags&256)n.flags&=-257,n=zg(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Re||Xa(t,n,s,!1),c=(s&t.childLanes)!==0,Re||c){if(l=ie,l!==null&&(g=Hr(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,aa(t,g),fn(l,t,g),Oh;bu(),n=zg(t,n,s)}else t=f.treeContext,se=zn(g.nextSibling),He=n,Bt=!0,us=null,On=!1,t!==null&&Tm(n,t),n=hu(n,l),n.flags|=4096;return n}return t=Vi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function fu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Mh(t,n,s,l,c){return ua(n),s=mh(t,n,s,l,void 0,c),l=gh(),t!==null&&!Re?(ph(t,n,c),Li(t,n,c)):(Bt&&l&&Xc(n),n.flags|=1,Qe(t,n,s,c),n.child)}function jg(t,n,s,l,c,f){return ua(n),n.updateQueue=null,s=km(n,l,s,c),Lm(t),l=gh(),t!==null&&!Re?(ph(t,n,f),Li(t,n,f)):(Bt&&l&&Xc(n),n.flags|=1,Qe(t,n,s,f),n.child)}function Ug(t,n,s,l,c){if(ua(n),n.stateNode===null){var f=Qa,g=s.contextType;typeof g=="object"&&g!==null&&(f=Ge(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ih,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},rh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Ge(g):Qa,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Nh(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Ih.enqueueReplaceState(f,f.state,null),yl(n,l,f,c),pl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,D=ga(s,E);f.props=D;var k=f.context,Q=s.contextType;g=Qa,typeof Q=="object"&&Q!==null&&(g=Ge(Q));var X=s.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||k!==g)&&Sg(n,f,l,g),fs=!1;var B=n.memoizedState;f.state=B,yl(n,l,f,c),pl(),k=n.memoizedState,E||B!==k||fs?(typeof X=="function"&&(Nh(n,s,X,l),k=n.memoizedState),(D=fs||bg(n,s,D,l,B,k,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=g,l=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,lh(t,n),g=n.memoizedProps,Q=ga(s,g),f.props=Q,X=n.pendingProps,B=f.context,k=s.contextType,D=Qa,typeof k=="object"&&k!==null&&(D=Ge(k)),E=s.getDerivedStateFromProps,(k=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||B!==D)&&Sg(n,f,l,D),fs=!1,B=n.memoizedState,f.state=B,yl(n,l,f,c),pl();var P=n.memoizedState;g!==X||B!==P||fs||t!==null&&t.dependencies!==null&&Yo(t.dependencies)?(typeof E=="function"&&(Nh(n,s,E,l),P=n.memoizedState),(Q=fs||bg(n,s,Q,l,B,P,D)||t!==null&&t.dependencies!==null&&Yo(t.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,P,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,P,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=D,l=Q):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,fu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=da(n,t.child,null,c),n.child=da(n,null,s,c)):Qe(t,n,s,c),n.memoizedState=f.state,t=n.child):t=Li(t,n,c),t}function Lg(t,n,s,l){return la(),n.flags|=256,Qe(t,n,s,l),n.child}var zh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jh(t){return{baseLanes:t,cachePool:wm()}}function Uh(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Tn),t}function kg(t,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(_e.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?gs(n):ps(),(t=se)?(t=Yp(t,On),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:os!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=_m(t),s.return=n,n.child=s,He=n,se=null)):t=null,t===null)throw cs(n);return Ef(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(ps(),c=n.mode,E=du({mode:"hidden",children:E},c),l=ra(l,c,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=jh(s),l.childLanes=Uh(t,g,s),n.memoizedState=zh,bl(null,l)):(gs(n),Lh(n,E))}var D=t.memoizedState;if(D!==null&&(E=D.dehydrated,E!==null)){if(f)n.flags&256?(gs(n),n.flags&=-257,n=kh(t,n,s)):n.memoizedState!==null?(ps(),n.child=t.child,n.flags|=128,n=null):(ps(),E=l.fallback,c=n.mode,l=du({mode:"visible",children:l.children},c),E=ra(E,c,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,da(n,t.child,null,s),l=n.child,l.memoizedState=jh(s),l.childLanes=Uh(t,g,s),n.memoizedState=zh,n=bl(null,l));else if(gs(n),Ef(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var k=g.dgst;g=k,l=Error(a(419)),l.stack="",l.digest=g,cl({value:l,source:null,stack:null}),n=kh(t,n,s)}else if(Re||Xa(t,n,s,!1),g=(s&t.childLanes)!==0,Re||g){if(g=ie,g!==null&&(l=Hr(g,s),l!==0&&l!==D.retryLane))throw D.retryLane=l,aa(t,l),fn(g,t,l),Oh;vf(E)||bu(),n=kh(t,n,s)}else vf(E)?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,se=zn(E.nextSibling),He=n,Bt=!0,us=null,On=!1,t!==null&&Tm(n,t),n=Lh(n,l.children),n.flags|=4096);return n}return c?(ps(),E=l.fallback,c=n.mode,D=t.child,k=D.sibling,l=Vi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,k!==null?E=Vi(k,E):(E=ra(E,c,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,bl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=jh(s):(c=E.cachePool,c!==null?(D=xe._currentValue,c=c.parent!==D?{parent:D,pool:D}:c):c=wm(),E={baseLanes:E.baseLanes|s,cachePool:c}),l.memoizedState=E,l.childLanes=Uh(t,g,s),n.memoizedState=zh,bl(t.child,l)):(gs(n),s=t.child,t=s.sibling,s=Vi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function Lh(t,n){return n=du({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function du(t,n){return t=yn(22,t,null,n),t.lanes=0,t}function kh(t,n,s){return da(n,t.child,null,s),t=Lh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Bg(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),th(t.return,n,s)}function Bh(t,n,s,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=c,g.treeForkCount=f)}function qg(t,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=_e.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,st(_e,g),Qe(t,n,l,s),l=Bt?ul:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bg(t,s,n);else if(t.tag===19)Bg(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&eu(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Bh(n,!1,c,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&eu(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}Bh(n,!0,s,null,f,l);break;case"together":Bh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Li(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),vs|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Xa(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=Vi(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Vi(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function qh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Yo(t)))}function m1(t,n,s){switch(n.tag){case 3:he(n,n.stateNode.containerInfo),hs(n,xe,t.memoizedState.cache),la();break;case 27:case 5:rt(n);break;case 4:he(n,n.stateNode.containerInfo);break;case 10:hs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,fh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(gs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?kg(t,n,s):(gs(n),t=Li(t,n,s),t!==null?t.sibling:null);gs(n);break;case 19:var c=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Xa(t,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return qg(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),st(_e,_e.current),l)break;return null;case 22:return n.lanes=0,Og(t,n,s,n.pendingProps);case 24:hs(n,xe,t.memoizedState.cache)}return Li(t,n,s)}function Pg(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Re=!0;else{if(!qh(t,s)&&(n.flags&128)===0)return Re=!1,m1(t,n,s);Re=(t.flags&131072)!==0}else Re=!1,Bt&&(n.flags&1048576)!==0&&Em(n,ul,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=ha(n.elementType),n.type=t,typeof t=="function")Fc(t)?(l=ga(t,l),n.tag=1,n=Ug(null,n,t,l,s)):(n.tag=0,n=Mh(null,n,t,l,s));else{if(t!=null){var c=t.$$typeof;if(c===W){n.tag=11,n=Ng(null,n,t,l,s);break t}else if(c===x){n.tag=14,n=Ig(null,n,t,l,s);break t}}throw n=Kt(t)||t,Error(a(306,n,""))}}return n;case 0:return Mh(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=ga(l,n.pendingProps),Ug(t,n,l,c,s);case 3:t:{if(he(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,lh(t,n),yl(n,l,null,s);var g=n.memoizedState;if(l=g.cache,hs(n,xe,l),l!==f.cache&&eh(n,[xe],s,!0),pl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Lg(t,n,l,s);break t}else if(l!==c){c=Nn(Error(a(424)),n),cl(c),n=Lg(t,n,l,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(se=zn(t.firstChild),He=n,Bt=!0,us=null,On=!0,s=Om(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(la(),l===c){n=Li(t,n,s);break t}Qe(t,n,l,s)}n=n.child}return n;case 26:return fu(t,n),t===null?(s=Wp(n.type,null,n.pendingProps,null))?n.memoizedState=s:Bt||(s=n.type,t=n.pendingProps,l=Du(wt.current).createElement(s),l[Se]=n,l[Ue]=t,Fe(l,s,t),Ae(l),n.stateNode=l):n.memoizedState=Wp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return rt(n),t===null&&Bt&&(l=n.stateNode=Zp(n.type,n.pendingProps,wt.current),He=n,On=!0,c=se,As(n.type)?(Tf=c,se=zn(l.firstChild)):se=c),Qe(t,n,n.pendingProps.children,s),fu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Bt&&((c=l=se)&&(l=G1(l,n.type,n.pendingProps,On),l!==null?(n.stateNode=l,He=n,se=zn(l.firstChild),On=!1,c=!0):c=!1),c||cs(n)),rt(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,pf(c,f)?l=null:g!==null&&pf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=mh(t,n,a1,null,null,s),Ul._currentValue=c),fu(t,n),Qe(t,n,l,s),n.child;case 6:return t===null&&Bt&&((t=s=se)&&(s=Q1(s,n.pendingProps,On),s!==null?(n.stateNode=s,He=n,se=null,t=!0):t=!1),t||cs(n)),null;case 13:return kg(t,n,s);case 4:return he(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=da(n,null,l,s):Qe(t,n,l,s),n.child;case 11:return Ng(t,n,n.type,n.pendingProps,s);case 7:return Qe(t,n,n.pendingProps,s),n.child;case 8:return Qe(t,n,n.pendingProps.children,s),n.child;case 12:return Qe(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,hs(n,n.type,l.value),Qe(t,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ua(n),c=Ge(c),l=l(c),n.flags|=1,Qe(t,n,l,s),n.child;case 14:return Ig(t,n,n.type,n.pendingProps,s);case 15:return Vg(t,n,n.type,n.pendingProps,s);case 19:return qg(t,n,s);case 31:return d1(t,n,s);case 22:return Og(t,n,s,n.pendingProps);case 24:return ua(n),l=Ge(xe),t===null?(c=sh(),c===null&&(c=ie,f=nh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},rh(n),hs(n,xe,c)):((t.lanes&s)!==0&&(lh(t,n),yl(n,null,null,s),pl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),hs(n,xe,l)):(l=f.cache,hs(n,xe,l),l!==c.cache&&eh(n,[xe],s,!0))),Qe(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ki(t){t.flags|=4}function Ph(t,n,s,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(gp())t.flags|=8192;else throw fa=Jo,ah}else t.flags&=-16777217}function Hg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!sy(n))if(gp())t.flags|=8192;else throw fa=Jo,ah}function mu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Eo():536870912,t.lanes|=n,lr|=n)}function Sl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ae(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function g1(t,n,s){var l=n.pendingProps;switch(Zc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(n),null;case 1:return ae(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),zi(xe),$t(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Ka(n)?ki(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$c())),ae(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(ki(n),f!==null?(ae(n),Hg(n,f)):(ae(n),Ph(n,c,null,l,s))):f?f!==t.memoizedState?(ki(n),ae(n),Hg(n,f)):(ae(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&ki(n),ae(n),Ph(n,c,t,l,s)),null;case 27:if(mt(n),s=wt.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ki(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ae(n),null}t=lt.current,Ka(n)?bm(n):(t=Zp(c,l,s),n.stateNode=t,ki(n))}return ae(n),null;case 5:if(mt(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ki(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ae(n),null}if(f=lt.current,Ka(n))bm(n);else{var g=Du(wt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[Se]=n,f[Ue]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Fe(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&ki(n)}}return ae(n),Ph(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ki(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=wt.current,Ka(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,c=He,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Se]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||kp(t.nodeValue,s)),t||cs(n,!0)}else t=Du(t).createTextNode(l),t[Se]=n,n.stateNode=t}return ae(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ka(n),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Se]=n}else la(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),t=!1}else s=$c(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(vn(n),n):(vn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ae(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ka(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Se]=n}else la(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),c=!1}else c=$c(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(vn(n),n):(vn(n),null)}return vn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),mu(n,n.updateQueue),ae(n),null);case 4:return $t(),t===null&&hf(n.stateNode.containerInfo),ae(n),null;case 10:return zi(n.type),ae(n),null;case 19:if(Y(_e),l=n.memoizedState,l===null)return ae(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)Sl(l,!1);else{if(ge!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=eu(t),f!==null){for(n.flags|=128,Sl(l,!1),t=f.updateQueue,n.updateQueue=t,mu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)ym(s,t),s=s.sibling;return st(_e,_e.current&1|2),Bt&&Oi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&en()>vu&&(n.flags|=128,c=!0,Sl(l,!1),n.lanes=4194304)}else{if(!c)if(t=eu(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,mu(n,t),Sl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Bt)return ae(n),null}else 2*en()-l.renderingStartTime>vu&&s!==536870912&&(n.flags|=128,c=!0,Sl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,s=_e.current,st(_e,c?s&1|2:s&1),Bt&&Oi(n,l.treeForkCount),t):(ae(n),null);case 22:case 23:return vn(n),hh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(ae(n),n.subtreeFlags&6&&(n.flags|=8192)):ae(n),s=n.updateQueue,s!==null&&mu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&Y(ca),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),zi(xe),ae(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function p1(t,n){switch(Zc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return zi(xe),$t(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return mt(n),null;case 31:if(n.memoizedState!==null){if(vn(n),n.alternate===null)throw Error(a(340));la()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(vn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));la()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(_e),null;case 4:return $t(),null;case 10:return zi(n.type),null;case 22:case 23:return vn(n),hh(),t!==null&&Y(ca),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return zi(xe),null;case 25:return null;default:return null}}function Gg(t,n){switch(Zc(n),n.tag){case 3:zi(xe),$t();break;case 26:case 27:case 5:mt(n);break;case 4:$t();break;case 31:n.memoizedState!==null&&vn(n);break;case 13:vn(n);break;case 19:Y(_e);break;case 10:zi(n.type);break;case 22:case 23:vn(n),hh(),t!==null&&Y(ca);break;case 24:zi(xe)}}function Al(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==c)}}catch(E){Jt(n,n.return,E)}}function ys(t,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var D=s,k=E;try{k()}catch(Q){Jt(c,D,Q)}}}l=l.next}while(l!==f)}}catch(Q){Jt(n,n.return,Q)}}function Qg(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{zm(n,s)}catch(l){Jt(t,t.return,l)}}}function Fg(t,n,s){s.props=ga(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Jt(t,n,l)}}function Cl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(c){Jt(t,n,c)}}function yi(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){Jt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Jt(t,n,c)}else s.current=null}function Yg(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){Jt(t,t.return,c)}}function Hh(t,n,s){try{var l=t.stateNode;L1(l,t.type,s,n),l[Ue]=n}catch(c){Jt(t,t.return,c)}}function Kg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&As(t.type)||t.tag===4}function Gh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Kg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&As(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qh(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Hn));else if(l!==4&&(l===27&&As(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Qh(t,n,s),t=t.sibling;t!==null;)Qh(t,n,s),t=t.sibling}function gu(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&As(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(gu(t,n,s),t=t.sibling;t!==null;)gu(t,n,s),t=t.sibling}function Xg(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Fe(n,l,s),n[Se]=t,n[Ue]=s}catch(f){Jt(t,t.return,f)}}var Bi=!1,De=!1,Fh=!1,Zg=typeof WeakSet=="function"?WeakSet:Set,ke=null;function y1(t,n){if(t=t.containerInfo,mf=ju,t=om(t),kc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,D=-1,k=0,Q=0,X=t,B=null;e:for(;;){for(var P;X!==s||c!==0&&X.nodeType!==3||(E=g+c),X!==f||l!==0&&X.nodeType!==3||(D=g+l),X.nodeType===3&&(g+=X.nodeValue.length),(P=X.firstChild)!==null;)B=X,X=P;for(;;){if(X===t)break e;if(B===s&&++k===c&&(E=g),B===f&&++Q===l&&(D=g),(P=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=P}s=E===-1||D===-1?null:{start:E,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(gf={focusedElem:t,selectionRange:s},ju=!1,ke=n;ke!==null;)if(n=ke,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ke=t;else for(;ke!==null;){switch(n=ke,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)c=t[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ct=ga(s.type,c);t=l.getSnapshotBeforeUpdate(ct,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Tt){Jt(s,s.return,Tt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)_f(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":_f(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,ke=t;break}ke=n.return}}function Jg(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Pi(t,s),l&4&&Al(5,s);break;case 1:if(Pi(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){Jt(s,s.return,g)}else{var c=ga(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Jt(s,s.return,g)}}l&64&&Qg(s),l&512&&Cl(s,s.return);break;case 3:if(Pi(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{zm(t,n)}catch(g){Jt(s,s.return,g)}}break;case 27:n===null&&l&4&&Xg(s);case 26:case 5:Pi(t,s),n===null&&l&4&&Yg(s),l&512&&Cl(s,s.return);break;case 12:Pi(t,s);break;case 31:Pi(t,s),l&4&&tp(t,s);break;case 13:Pi(t,s),l&4&&ep(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=x1.bind(null,s),F1(t,s))));break;case 22:if(l=s.memoizedState!==null||Bi,!l){n=n!==null&&n.memoizedState!==null||De,c=Bi;var f=De;Bi=l,(De=n)&&!f?Hi(t,s,(s.subtreeFlags&8772)!==0):Pi(t,s),Bi=c,De=f}break;case 30:break;default:Pi(t,s)}}function $g(t){var n=t.alternate;n!==null&&(t.alternate=null,$g(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ia(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ue=null,on=!1;function qi(t,n,s){for(s=s.child;s!==null;)Wg(t,n,s),s=s.sibling}function Wg(t,n,s){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(kn,s)}catch{}switch(s.tag){case 26:De||yi(s,n),qi(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:De||yi(s,n);var l=ue,c=on;As(s.type)&&(ue=s.stateNode,on=!1),qi(t,n,s),Ml(s.stateNode),ue=l,on=c;break;case 5:De||yi(s,n);case 6:if(l=ue,c=on,ue=null,qi(t,n,s),ue=l,on=c,ue!==null)if(on)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(s.stateNode)}catch(f){Jt(s,n,f)}else try{ue.removeChild(s.stateNode)}catch(f){Jt(s,n,f)}break;case 18:ue!==null&&(on?(t=ue,Qp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),gr(t)):Qp(ue,s.stateNode));break;case 4:l=ue,c=on,ue=s.stateNode.containerInfo,on=!0,qi(t,n,s),ue=l,on=c;break;case 0:case 11:case 14:case 15:ys(2,s,n),De||ys(4,s,n),qi(t,n,s);break;case 1:De||(yi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Fg(s,n,l)),qi(t,n,s);break;case 21:qi(t,n,s);break;case 22:De=(l=De)||s.memoizedState!==null,qi(t,n,s),De=l;break;default:qi(t,n,s)}}function tp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{gr(t)}catch(s){Jt(n,n.return,s)}}}function ep(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{gr(t)}catch(s){Jt(n,n.return,s)}}function _1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Zg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Zg),n;default:throw Error(a(435,t.tag))}}function pu(t,n){var s=_1(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var c=w1.bind(null,t,l);l.then(c,c)}})}function un(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(As(E.type)){ue=E.stateNode,on=!1;break t}break;case 5:ue=E.stateNode,on=!1;break t;case 3:case 4:ue=E.stateNode.containerInfo,on=!0;break t}E=E.return}if(ue===null)throw Error(a(160));Wg(f,g,c),ue=null,on=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)np(n,t),n=n.sibling}var Xn=null;function np(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(n,t),cn(t),l&4&&(ys(3,t,t.return),Al(3,t),ys(5,t,t.return));break;case 1:un(n,t),cn(t),l&512&&(De||s===null||yi(s,s.return)),l&64&&Bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=Xn;if(un(n,t),cn(t),l&512&&(De||s===null||yi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ii]||f[Se]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Fe(f,l,s),f[Se]=t,Ae(f),l=f;break t;case"link":var g=ny("link","href",c).get(l+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),Fe(f,l,s),c.head.appendChild(f);break;case"meta":if(g=ny("meta","content",c).get(l+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=c.createElement(l),Fe(f,l,s),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[Se]=t,Ae(f),l=f}t.stateNode=l}else iy(c,t.type,t.stateNode);else t.stateNode=ey(c,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?iy(c,t.type,t.stateNode):ey(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Hh(t,t.memoizedProps,s.memoizedProps)}break;case 27:un(n,t),cn(t),l&512&&(De||s===null||yi(s,s.return)),s!==null&&l&4&&Hh(t,t.memoizedProps,s.memoizedProps);break;case 5:if(un(n,t),cn(t),l&512&&(De||s===null||yi(s,s.return)),t.flags&32){c=t.stateNode;try{ln(c,"")}catch(ct){Jt(t,t.return,ct)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Hh(t,c,s!==null?s.memoizedProps:c)),l&1024&&(Fh=!0);break;case 6:if(un(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(ct){Jt(t,t.return,ct)}}break;case 3:if(Vu=null,c=Xn,Xn=Nu(n.containerInfo),un(n,t),Xn=c,cn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{gr(n.containerInfo)}catch(ct){Jt(t,t.return,ct)}Fh&&(Fh=!1,ip(t));break;case 4:l=Xn,Xn=Nu(t.stateNode.containerInfo),un(n,t),cn(t),Xn=l;break;case 12:un(n,t),cn(t);break;case 31:un(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pu(t,l)));break;case 13:un(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(_u=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pu(t,l)));break;case 22:c=t.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,k=Bi,Q=De;if(Bi=k||c,De=Q||D,un(n,t),De=Q,Bi=k,cn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||D||Bi||De||pa(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){D=s=n;try{if(f=D.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=D.stateNode;var X=D.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ct){Jt(D,D.return,ct)}}}else if(n.tag===6){if(s===null){D=n;try{D.stateNode.nodeValue=c?"":D.memoizedProps}catch(ct){Jt(D,D.return,ct)}}}else if(n.tag===18){if(s===null){D=n;try{var P=D.stateNode;c?Fp(P,!0):Fp(D.stateNode,!1)}catch(ct){Jt(D,D.return,ct)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,pu(t,s))));break;case 19:un(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pu(t,l)));break;case 30:break;case 21:break;default:un(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(Kg(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var c=s.stateNode,f=Gh(t);gu(t,f,c);break;case 5:var g=s.stateNode;s.flags&32&&(ln(g,""),s.flags&=-33);var E=Gh(t);gu(t,E,g);break;case 3:case 4:var D=s.stateNode.containerInfo,k=Gh(t);Qh(t,k,D);break;default:throw Error(a(161))}}catch(Q){Jt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function ip(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;ip(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Pi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Jg(t,n.alternate,n),n=n.sibling}function pa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ys(4,n,n.return),pa(n);break;case 1:yi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Fg(n,n.return,s),pa(n);break;case 27:Ml(n.stateNode);case 26:case 5:yi(n,n.return),pa(n);break;case 22:n.memoizedState===null&&pa(n);break;case 30:pa(n);break;default:pa(n)}t=t.sibling}}function Hi(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Hi(c,f,s),Al(4,f);break;case 1:if(Hi(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(k){Jt(l,l.return,k)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var D=c.shared.hiddenCallbacks;if(D!==null)for(c.shared.hiddenCallbacks=null,c=0;c<D.length;c++)Mm(D[c],E)}catch(k){Jt(l,l.return,k)}}s&&g&64&&Qg(f),Cl(f,f.return);break;case 27:Xg(f);case 26:case 5:Hi(c,f,s),s&&l===null&&g&4&&Yg(f),Cl(f,f.return);break;case 12:Hi(c,f,s);break;case 31:Hi(c,f,s),s&&g&4&&tp(c,f);break;case 13:Hi(c,f,s),s&&g&4&&ep(c,f);break;case 22:f.memoizedState===null&&Hi(c,f,s),Cl(f,f.return);break;case 30:break;default:Hi(c,f,s)}n=n.sibling}}function Yh(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&hl(s))}function Kh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&hl(t))}function Zn(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)sp(t,n,s,l),n=n.sibling}function sp(t,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(t,n,s,l),c&2048&&Al(9,n);break;case 1:Zn(t,n,s,l);break;case 3:Zn(t,n,s,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&hl(t)));break;case 12:if(c&2048){Zn(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Jt(n,n.return,D)}}else Zn(t,n,s,l);break;case 31:Zn(t,n,s,l);break;case 13:Zn(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Zn(t,n,s,l):xl(t,n):f._visibility&2?Zn(t,n,s,l):(f._visibility|=2,sr(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Yh(g,n);break;case 24:Zn(t,n,s,l),c&2048&&Kh(n.alternate,n);break;default:Zn(t,n,s,l)}}function sr(t,n,s,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=s,D=l,k=g.flags;switch(g.tag){case 0:case 11:case 15:sr(f,g,E,D,c),Al(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?sr(f,g,E,D,c):xl(f,g):(Q._visibility|=2,sr(f,g,E,D,c)),c&&k&2048&&Yh(g.alternate,g);break;case 24:sr(f,g,E,D,c),c&&k&2048&&Kh(g.alternate,g);break;default:sr(f,g,E,D,c)}n=n.sibling}}function xl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,c=l.flags;switch(l.tag){case 22:xl(s,l),c&2048&&Yh(l.alternate,l);break;case 24:xl(s,l),c&2048&&Kh(l.alternate,l);break;default:xl(s,l)}n=n.sibling}}var wl=8192;function ar(t,n,s){if(t.subtreeFlags&wl)for(t=t.child;t!==null;)ap(t,n,s),t=t.sibling}function ap(t,n,s){switch(t.tag){case 26:ar(t,n,s),t.flags&wl&&t.memoizedState!==null&&sE(s,Xn,t.memoizedState,t.memoizedProps);break;case 5:ar(t,n,s);break;case 3:case 4:var l=Xn;Xn=Nu(t.stateNode.containerInfo),ar(t,n,s),Xn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=wl,wl=16777216,ar(t,n,s),wl=l):ar(t,n,s));break;default:ar(t,n,s)}}function rp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Rl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];ke=l,op(l,t)}rp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)lp(t),t=t.sibling}function lp(t){switch(t.tag){case 0:case 11:case 15:Rl(t),t.flags&2048&&ys(9,t,t.return);break;case 3:Rl(t);break;case 12:Rl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,yu(t)):Rl(t);break;default:Rl(t)}}function yu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];ke=l,op(l,t)}rp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ys(8,n,n.return),yu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,yu(n));break;default:yu(n)}t=t.sibling}}function op(t,n){for(;ke!==null;){var s=ke;switch(s.tag){case 0:case 11:case 15:ys(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:hl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,ke=l;else t:for(s=t;ke!==null;){l=ke;var c=l.sibling,f=l.return;if($g(l),l===s){ke=null;break t}if(c!==null){c.return=f,ke=c;break t}ke=f}}}var v1={getCacheForType:function(t){var n=Ge(xe),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return Ge(xe).controller.signal}},E1=typeof WeakMap=="function"?WeakMap:Map,Ft=0,ie=null,Ot=null,zt=0,Zt=0,En=null,_s=!1,rr=!1,Xh=!1,Gi=0,ge=0,vs=0,ya=0,Zh=0,Tn=0,lr=0,Dl=null,hn=null,Jh=!1,_u=0,up=0,vu=1/0,Eu=null,Es=null,Oe=0,Ts=null,or=null,Qi=0,$h=0,Wh=null,cp=null,Nl=0,tf=null;function bn(){return(Ft&2)!==0&&zt!==0?zt&-zt:G.T!==null?lf():To()}function hp(){if(Tn===0)if((zt&536870912)===0||Bt){var t=Gs;Gs<<=1,(Gs&3932160)===0&&(Gs=262144),Tn=t}else Tn=536870912;return t=_n.current,t!==null&&(t.flags|=32),Tn}function fn(t,n,s){(t===ie&&(Zt===2||Zt===9)||t.cancelPendingCommit!==null)&&(ur(t,0),bs(t,zt,Tn,!1)),Qs(t,s),((Ft&2)===0||t!==ie)&&(t===ie&&((Ft&2)===0&&(ya|=s),ge===4&&bs(t,zt,Tn,!1)),_i(t))}function fp(t,n,s){if((Ft&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Bn(t,n),c=l?S1(t,n):nf(t,n,!0),f=l;do{if(c===0){rr&&!l&&bs(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!T1(s)){c=nf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=Dl;var D=E.current.memoizedState.isDehydrated;if(D&&(ur(E,g).flags|=256),g=nf(E,g,!1),g!==2){if(Xh&&!D){E.errorRecoveryDisabledLanes|=f,ya|=f,c=4;break t}f=hn,hn=c,f!==null&&(hn===null?hn=f:hn.push.apply(hn,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){ur(t,0),bs(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:bs(l,n,Tn,!_s);break t;case 2:hn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=_u+300-en(),10<c)){if(bs(l,n,Tn,!_s),ti(l,0,!0)!==0)break t;Qi=n,l.timeoutHandle=Hp(dp.bind(null,l,s,hn,Eu,Jh,n,Tn,ya,lr,_s,f,"Throttled",-0,0),c);break t}dp(l,s,hn,Eu,Jh,n,Tn,ya,lr,_s,f,null,-0,0)}}break}while(!0);_i(t)}function dp(t,n,s,l,c,f,g,E,D,k,Q,X,B,P){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},ap(n,f,X);var ct=(f&62914560)===f?_u-en():(f&4194048)===f?up-en():0;if(ct=aE(X,ct),ct!==null){Qi=f,t.cancelPendingCommit=ct(Tp.bind(null,t,n,f,s,l,c,g,E,D,Q,X,null,B,P)),bs(t,f,g,!k);return}}Tp(t,n,f,s,l,c,g,E,D)}function T1(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!pn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function bs(t,n,s,l){n&=~Zh,n&=~ya,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-pe(c),g=1<<f;l[f]=-1,c&=~g}s!==0&&Fs(t,s,n)}function Tu(){return(Ft&6)===0?(Il(0),!1):!0}function ef(){if(Ot!==null){if(Zt===0)var t=Ot.return;else t=Ot,Mi=oa=null,yh(t),Wa=null,dl=0,t=Ot;for(;t!==null;)Gg(t.alternate,t),t=t.return;Ot=null}}function ur(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,q1(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Qi=0,ef(),ie=t,Ot=s=Vi(t.current,null),zt=n,Zt=0,En=null,_s=!1,rr=Bn(t,n),Xh=!1,lr=Tn=Zh=ya=vs=ge=0,hn=Dl=null,Jh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-pe(l),f=1<<c;n|=t[c],l&=~f}return Gi=n,Po(),s}function mp(t,n){Nt=null,G.H=Tl,n===$a||n===Zo?(n=Nm(),Zt=3):n===ah?(n=Nm(),Zt=4):Zt=n===Oh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,Ot===null&&(ge=1,cu(t,Nn(n,t.current)))}function gp(){var t=_n.current;return t===null?!0:(zt&4194048)===zt?Mn===null:(zt&62914560)===zt||(zt&536870912)!==0?t===Mn:!1}function pp(){var t=G.H;return G.H=Tl,t===null?Tl:t}function yp(){var t=G.A;return G.A=v1,t}function bu(){ge=4,_s||(zt&4194048)!==zt&&_n.current!==null||(rr=!0),(vs&134217727)===0&&(ya&134217727)===0||ie===null||bs(ie,zt,Tn,!1)}function nf(t,n,s){var l=Ft;Ft|=2;var c=pp(),f=yp();(ie!==t||zt!==n)&&(Eu=null,ur(t,n)),n=!1;var g=ge;t:do try{if(Zt!==0&&Ot!==null){var E=Ot,D=En;switch(Zt){case 8:ef(),g=6;break t;case 3:case 2:case 9:case 6:_n.current===null&&(n=!0);var k=Zt;if(Zt=0,En=null,cr(t,E,D,k),s&&rr){g=0;break t}break;default:k=Zt,Zt=0,En=null,cr(t,E,D,k)}}b1(),g=ge;break}catch(Q){mp(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Mi=oa=null,Ft=l,G.H=c,G.A=f,Ot===null&&(ie=null,zt=0,Po()),g}function b1(){for(;Ot!==null;)_p(Ot)}function S1(t,n){var s=Ft;Ft|=2;var l=pp(),c=yp();ie!==t||zt!==n?(Eu=null,vu=en()+500,ur(t,n)):rr=Bn(t,n);t:do try{if(Zt!==0&&Ot!==null){n=Ot;var f=En;e:switch(Zt){case 1:Zt=0,En=null,cr(t,n,f,1);break;case 2:case 9:if(Rm(f)){Zt=0,En=null,vp(n);break}n=function(){Zt!==2&&Zt!==9||ie!==t||(Zt=7),_i(t)},f.then(n,n);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Rm(f)?(Zt=0,En=null,vp(n)):(Zt=0,En=null,cr(t,n,f,7));break;case 5:var g=null;switch(Ot.tag){case 26:g=Ot.memoizedState;case 5:case 27:var E=Ot;if(g?sy(g):E.stateNode.complete){Zt=0,En=null;var D=E.sibling;if(D!==null)Ot=D;else{var k=E.return;k!==null?(Ot=k,Su(k)):Ot=null}break e}}Zt=0,En=null,cr(t,n,f,5);break;case 6:Zt=0,En=null,cr(t,n,f,6);break;case 8:ef(),ge=6;break t;default:throw Error(a(462))}}A1();break}catch(Q){mp(t,Q)}while(!0);return Mi=oa=null,G.H=l,G.A=c,Ft=s,Ot!==null?0:(ie=null,zt=0,Po(),ge)}function A1(){for(;Ot!==null&&!Vc();)_p(Ot)}function _p(t){var n=Pg(t.alternate,t,Gi);t.memoizedProps=t.pendingProps,n===null?Su(t):Ot=n}function vp(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=jg(s,n,n.pendingProps,n.type,void 0,zt);break;case 11:n=jg(s,n,n.pendingProps,n.type.render,n.ref,zt);break;case 5:yh(n);default:Gg(s,n),n=Ot=ym(n,Gi),n=Pg(s,n,Gi)}t.memoizedProps=t.pendingProps,n===null?Su(t):Ot=n}function cr(t,n,s,l){Mi=oa=null,yh(n),Wa=null,dl=0;var c=n.return;try{if(f1(t,c,n,s,zt)){ge=1,cu(t,Nn(s,t.current)),Ot=null;return}}catch(f){if(c!==null)throw Ot=c,f;ge=1,cu(t,Nn(s,t.current)),Ot=null;return}n.flags&32768?(Bt||l===1?t=!0:rr||(zt&536870912)!==0?t=!1:(_s=t=!0,(l===2||l===9||l===3||l===6)&&(l=_n.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ep(n,t)):Su(n)}function Su(t){var n=t;do{if((n.flags&32768)!==0){Ep(n,_s);return}t=n.return;var s=g1(n.alternate,n,Gi);if(s!==null){Ot=s;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=t}while(n!==null);ge===0&&(ge=5)}function Ep(t,n){do{var s=p1(t.alternate,t);if(s!==null){s.flags&=32767,Ot=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Ot=t;return}Ot=t=s}while(t!==null);ge=6,Ot=null}function Tp(t,n,s,l,c,f,g,E,D){t.cancelPendingCommit=null;do Au();while(Oe!==0);if((Ft&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Gc,zc(t,s,f,g,E,D),t===ie&&(Ot=ie=null,zt=0),or=n,Ts=t,Qi=s,$h=f,Wh=c,cp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,R1($i,function(){return xp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,c=F.p,F.p=2,g=Ft,Ft|=4;try{y1(t,n,s)}finally{Ft=g,F.p=c,G.T=l}}Oe=1,bp(),Sp(),Ap()}}function bp(){if(Oe===1){Oe=0;var t=Ts,n=or,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var l=F.p;F.p=2;var c=Ft;Ft|=4;try{np(n,t);var f=gf,g=om(t.containerInfo),E=f.focusedElem,D=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&lm(E.ownerDocument.documentElement,E)){if(D!==null&&kc(E)){var k=D.start,Q=D.end;if(Q===void 0&&(Q=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(Q,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var P=B.getSelection(),ct=E.textContent.length,Tt=Math.min(D.start,ct),ne=D.end===void 0?Tt:Math.min(D.end,ct);!P.extend&&Tt>ne&&(g=ne,ne=Tt,Tt=g);var j=rm(E,Tt),O=rm(E,ne);if(j&&O&&(P.rangeCount!==1||P.anchorNode!==j.node||P.anchorOffset!==j.offset||P.focusNode!==O.node||P.focusOffset!==O.offset)){var L=X.createRange();L.setStart(j.node,j.offset),P.removeAllRanges(),Tt>ne?(P.addRange(L),P.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),P.addRange(L))}}}}for(X=[],P=E;P=P.parentNode;)P.nodeType===1&&X.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}ju=!!mf,gf=mf=null}finally{Ft=c,F.p=l,G.T=s}}t.current=n,Oe=2}}function Sp(){if(Oe===2){Oe=0;var t=Ts,n=or,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var l=F.p;F.p=2;var c=Ft;Ft|=4;try{Jg(t,n.alternate,n)}finally{Ft=c,F.p=l,G.T=s}}Oe=3}}function Ap(){if(Oe===4||Oe===3){Oe=0,mo();var t=Ts,n=or,s=Qi,l=cp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,or=Ts=null,Cp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Es=null),Ri(s),n=n.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(kn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,c=F.p,F.p=2,G.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,F.p=c}}(Qi&3)!==0&&Au(),_i(t),c=t.pendingLanes,(s&261930)!==0&&(c&42)!==0?t===tf?Nl++:(Nl=0,tf=t):Nl=0,Il(0)}}function Cp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,hl(n)))}function Au(){return bp(),Sp(),Ap(),xp()}function xp(){if(Oe!==5)return!1;var t=Ts,n=$h;$h=0;var s=Ri(Qi),l=G.T,c=F.p;try{F.p=32>s?32:s,G.T=null,s=Wh,Wh=null;var f=Ts,g=Qi;if(Oe=0,or=Ts=null,Qi=0,(Ft&6)!==0)throw Error(a(331));var E=Ft;if(Ft|=4,lp(f.current),sp(f,f.current,g,s),Ft=E,Il(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(kn,f)}catch{}return!0}finally{F.p=c,G.T=l,Cp(t,n)}}function wp(t,n,s){n=Nn(s,n),n=Vh(t.stateNode,n,2),t=ms(t,n,2),t!==null&&(Qs(t,2),_i(t))}function Jt(t,n,s){if(t.tag===3)wp(t,t,s);else for(;n!==null;){if(n.tag===3){wp(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Es===null||!Es.has(l))){t=Nn(s,t),s=Rg(2),l=ms(n,s,2),l!==null&&(Dg(s,l,n,t),Qs(l,2),_i(l));break}}n=n.return}}function sf(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new E1;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(Xh=!0,c.add(s),t=C1.bind(null,t,n,s),n.then(t,t))}function C1(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ie===t&&(zt&s)===s&&(ge===4||ge===3&&(zt&62914560)===zt&&300>en()-_u?(Ft&2)===0&&ur(t,0):Zh|=s,lr===zt&&(lr=0)),_i(t)}function Rp(t,n){n===0&&(n=Eo()),t=aa(t,n),t!==null&&(Qs(t,n),_i(t))}function x1(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Rp(t,s)}function w1(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Rp(t,s)}function R1(t,n){return Ve(t,n)}var Cu=null,hr=null,af=!1,xu=!1,rf=!1,Ss=0;function _i(t){t!==hr&&t.next===null&&(hr===null?Cu=hr=t:hr=hr.next=t),xu=!0,af||(af=!0,N1())}function Il(t,n){if(!rf&&xu){rf=!0;do for(var s=!1,l=Cu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-pe(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Vp(l,f))}else f=zt,f=ti(l,l===ie?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Bn(l,f)||(s=!0,Vp(l,f));l=l.next}while(s);rf=!1}}function D1(){Dp()}function Dp(){xu=af=!1;var t=0;Ss!==0&&B1()&&(t=Ss);for(var n=en(),s=null,l=Cu;l!==null;){var c=l.next,f=Np(l,n);f===0?(l.next=null,s===null?Cu=c:s.next=c,c===null&&(hr=s)):(s=l,(t!==0||(f&3)!==0)&&(xu=!0)),l=c}Oe!==0&&Oe!==5||Il(t),Ss!==0&&(Ss=0)}function Np(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-pe(f),E=1<<g,D=c[g];D===-1?((E&s)===0||(E&l)!==0)&&(c[g]=Mc(E,n)):D<=n&&(t.expiredLanes|=E),f&=~E}if(n=ie,s=zt,s=ti(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Zt===2||Zt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ji(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Bn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&Ji(l),Ri(s)){case 2:case 8:s=qr;break;case 32:s=$i;break;case 268435456:s=go;break;default:s=$i}return l=Ip.bind(null,t),s=Ve(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&Ji(l),t.callbackPriority=2,t.callbackNode=null,2}function Ip(t,n){if(Oe!==0&&Oe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Au()&&t.callbackNode!==s)return null;var l=zt;return l=ti(t,t===ie?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(fp(t,l,n),Np(t,en()),t.callbackNode!=null&&t.callbackNode===s?Ip.bind(null,t):null)}function Vp(t,n){if(Au())return null;fp(t,n,!0)}function N1(){P1(function(){(Ft&6)!==0?Ve(Br,D1):Dp()})}function lf(){if(Ss===0){var t=Za;t===0&&(t=$n,$n<<=1,($n&261888)===0&&($n=256)),Ss=t}return Ss}function Op(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:za(""+t)}function Mp(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function I1(t,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=Op((c[Ue]||null).action),g=l.submitter;g&&(n=(n=g[Ue]||null)?Op(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new hi("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ss!==0){var D=g?Mp(c,g):new FormData(c);xh(s,{pending:!0,data:D,method:c.method,action:f},null,D)}}else typeof f=="function"&&(E.preventDefault(),D=g?Mp(c,g):new FormData(c),xh(s,{pending:!0,data:D,method:c.method,action:f},f,D))},currentTarget:c}]})}}for(var of=0;of<Hc.length;of++){var uf=Hc[of],V1=uf.toLowerCase(),O1=uf[0].toUpperCase()+uf.slice(1);Kn(V1,"on"+O1)}Kn(hm,"onAnimationEnd"),Kn(fm,"onAnimationIteration"),Kn(dm,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(Xv,"onTransitionRun"),Kn(Zv,"onTransitionStart"),Kn(Jv,"onTransitionCancel"),Kn(mm,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function zp(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],D=E.instance,k=E.currentTarget;if(E=E.listener,D!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=k;try{f(c)}catch(Q){qo(Q)}c.currentTarget=null,f=D}else for(g=0;g<l.length;g++){if(E=l[g],D=E.instance,k=E.currentTarget,E=E.listener,D!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=k;try{f(c)}catch(Q){qo(Q)}c.currentTarget=null,f=D}}}}function Mt(t,n){var s=n[Na];s===void 0&&(s=n[Na]=new Set);var l=t+"__bubble";s.has(l)||(jp(n,t,2,!1),s.add(l))}function cf(t,n,s){var l=0;n&&(l|=4),jp(s,t,l,n)}var wu="_reactListening"+Math.random().toString(36).slice(2);function hf(t){if(!t[wu]){t[wu]=!0,Gr.forEach(function(s){s!=="selectionchange"&&(M1.has(s)||cf(s,!1,t),cf(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[wu]||(n[wu]=!0,cf("selectionchange",!1,n))}}function jp(t,n,s,l){switch(hy(n)){case 2:var c=oE;break;case 8:c=uE;break;default:c=xf}s=c.bind(null,n,s,t),c=void 0,!Js||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function ff(t,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var D=g.tag;if((D===3||D===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=si(E),g===null)return;if(D=g.tag,D===5||D===6||D===26||D===27){l=f=g;continue t}E=E.parentNode}}l=l.return}ss(function(){var k=f,Q=xn(s),X=[];t:{var B=gm.get(t);if(B!==void 0){var P=hi,ct=t;switch(t){case"keypress":if(Ws(s)===0)break t;case"keydown":case"keyup":P=Lo;break;case"focusin":ct="focus",P=ea;break;case"focusout":ct="blur",P=ea;break;case"beforeblur":case"afterblur":P=ea;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=Do;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=m;break;case hm:case fm:case dm:P=Io;break;case mm:P=T;break;case"scroll":case"scrollend":P=nl;break;case"wheel":P=q;break;case"copy":case"cut":case"paste":P=Vo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=Ii;break;case"toggle":case"beforetoggle":P=Dt}var Tt=(n&4)!==0,ne=!Tt&&(t==="scroll"||t==="scrollend"),j=Tt?B!==null?B+"Capture":null:B;Tt=[];for(var O=k,L;O!==null;){var K=O;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||j===null||(K=Gn(O,j),K!=null&&Tt.push(Ol(O,K,L))),ne)break;O=O.return}0<Tt.length&&(B=new P(B,ct,null,s,Q),X.push({event:B,listeners:Tt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",B&&s!==Wr&&(ct=s.relatedTarget||s.fromElement)&&(si(ct)||ct[ni]))break t;if((P||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,P?(ct=s.relatedTarget||s.toElement,P=k,ct=ct?si(ct):null,ct!==null&&(ne=h(ct),Tt=ct.tag,ct!==ne||Tt!==5&&Tt!==27&&Tt!==6)&&(ct=null)):(P=null,ct=k),P!==ct)){if(Tt=il,K="onMouseLeave",j="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Tt=Ii,K="onPointerLeave",j="onPointerEnter",O="pointer"),ne=P==null?B:mn(P),L=ct==null?B:mn(ct),B=new Tt(K,O+"leave",P,s,Q),B.target=ne,B.relatedTarget=L,K=null,si(Q)===k&&(Tt=new Tt(j,O+"enter",ct,s,Q),Tt.target=L,Tt.relatedTarget=ne,K=Tt),ne=K,P&&ct)e:{for(Tt=z1,j=P,O=ct,L=0,K=j;K;K=Tt(K))L++;K=0;for(var yt=O;yt;yt=Tt(yt))K++;for(;0<L-K;)j=Tt(j),L--;for(;0<K-L;)O=Tt(O),K--;for(;L--;){if(j===O||O!==null&&j===O.alternate){Tt=j;break e}j=Tt(j),O=Tt(O)}Tt=null}else Tt=null;P!==null&&Up(X,B,P,Tt,!1),ct!==null&&ne!==null&&Up(X,ne,ct,Tt,!0)}}t:{if(B=k?mn(k):window,P=B.nodeName&&B.nodeName.toLowerCase(),P==="select"||P==="input"&&B.type==="file")var Ht=tm;else if($d(B))if(em)Ht=Fv;else{Ht=Gv;var gt=Hv}else P=B.nodeName,!P||P.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?k&&Ma(k.elementType)&&(Ht=tm):Ht=Qv;if(Ht&&(Ht=Ht(t,k))){Wd(X,Ht,s,Q);break t}gt&&gt(t,B,k),t==="focusout"&&k&&B.type==="number"&&k.memoizedProps.value!=null&&Zr(B,"number",B.value)}switch(gt=k?mn(k):window,t){case"focusin":($d(gt)||gt.contentEditable==="true")&&(Pa=gt,Bc=k,ol=null);break;case"focusout":ol=Bc=Pa=null;break;case"mousedown":qc=!0;break;case"contextmenu":case"mouseup":case"dragend":qc=!1,um(X,s,Q);break;case"selectionchange":if(Kv)break;case"keydown":case"keyup":um(X,s,Q)}var It;if(Qt)t:{switch(t){case"compositionstart":var jt="onCompositionStart";break t;case"compositionend":jt="onCompositionEnd";break t;case"compositionupdate":jt="onCompositionUpdate";break t}jt=void 0}else qa?na(t,s)&&(jt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(jt="onCompositionStart");jt&&(mi&&s.locale!=="ko"&&(qa||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&qa&&(It=el()):(ci=Q,tl="value"in ci?ci.value:ci.textContent,qa=!0)),gt=Ru(k,jt),0<gt.length&&(jt=new di(jt,t,null,s,Q),X.push({event:jt,listeners:gt}),It?jt.data=It:(It=Ba(s),It!==null&&(jt.data=It)))),(It=Rn?kv(t,s):Bv(t,s))&&(jt=Ru(k,"onBeforeInput"),0<jt.length&&(gt=new di("onBeforeInput","beforeinput",null,s,Q),X.push({event:gt,listeners:jt}),gt.data=It)),I1(X,t,k,s,Q)}zp(X,n)})}function Ol(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Ru(t,n){for(var s=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Gn(t,s),c!=null&&l.unshift(Ol(t,c,f)),c=Gn(t,n),c!=null&&l.push(Ol(t,c,f))),t.tag===3)return l;t=t.return}return[]}function z1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Up(t,n,s,l,c){for(var f=n._reactName,g=[];s!==null&&s!==l;){var E=s,D=E.alternate,k=E.stateNode;if(E=E.tag,D!==null&&D===l)break;E!==5&&E!==26&&E!==27||k===null||(D=k,c?(k=Gn(s,f),k!=null&&g.unshift(Ol(s,k,D))):c||(k=Gn(s,f),k!=null&&g.push(Ol(s,k,D)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var j1=/\r\n?/g,U1=/\u0000|\uFFFD/g;function Lp(t){return(typeof t=="string"?t:""+t).replace(j1,`
`).replace(U1,"")}function kp(t,n){return n=Lp(n),Lp(t)===n}function ee(t,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||ln(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&ln(t,""+l);break;case"className":gn(t,"class",l);break;case"tabIndex":gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,s,l);break;case"style":$r(t,l,f);break;case"data":if(n!=="object"){gn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=za(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ee(t,n,"name",c.name,c,null),ee(t,n,"formEncType",c.formEncType,c,null),ee(t,n,"formMethod",c.formMethod,c,null),ee(t,n,"formTarget",c.formTarget,c,null)):(ee(t,n,"encType",c.encType,c,null),ee(t,n,"method",c.method,c,null),ee(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=za(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Hn);break;case"onScroll":l!=null&&Mt("scroll",t);break;case"onScrollEnd":l!=null&&Mt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=za(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Mt("beforetoggle",t),Mt("toggle",t),Va(t,"popover",l);break;case"xlinkActuate":Ce(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ce(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ce(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ce(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ce(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ce(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ce(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ce(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ce(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Va(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Ro.get(s)||s,Va(t,s,l))}}function df(t,n,s,l,c,f){switch(s){case"style":$r(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?ln(t,l):(typeof l=="number"||typeof l=="bigint")&&ln(t,""+l);break;case"onScroll":l!=null&&Mt("scroll",t);break;case"onScrollEnd":l!=null&&Mt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qr.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=t[Ue]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,c);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Va(t,s,l)}}}function Fe(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",t),Mt("load",t);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ee(t,n,f,g,s,null)}}c&&ee(t,n,"srcSet",s.srcSet,s,null),l&&ee(t,n,"src",s.src,s,null);return;case"input":Mt("invalid",t);var E=f=g=c=null,D=null,k=null;for(l in s)if(s.hasOwnProperty(l)){var Q=s[l];if(Q!=null)switch(l){case"name":c=Q;break;case"type":g=Q;break;case"checked":D=Q;break;case"defaultChecked":k=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:ee(t,n,l,Q,s,null)}}Co(t,f,E,D,k,g,c,!1);return;case"select":Mt("invalid",t),l=g=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:ee(t,n,c,E,s,null)}n=f,s=g,t.multiple=!!l,n!=null?ts(t,!!l,n,!1):s!=null&&ts(t,!!l,s,!0);return;case"textarea":Mt("invalid",t),f=c=l=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ee(t,n,g,E,s,null)}es(t,l,c,f);return;case"option":for(D in s)if(s.hasOwnProperty(D)&&(l=s[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ee(t,n,D,l,s,null)}return;case"dialog":Mt("beforetoggle",t),Mt("toggle",t),Mt("cancel",t),Mt("close",t);break;case"iframe":case"object":Mt("load",t);break;case"video":case"audio":for(l=0;l<Vl.length;l++)Mt(Vl[l],t);break;case"image":Mt("error",t),Mt("load",t);break;case"details":Mt("toggle",t);break;case"embed":case"source":case"link":Mt("error",t),Mt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in s)if(s.hasOwnProperty(k)&&(l=s[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ee(t,n,k,l,s,null)}return;default:if(Ma(n)){for(Q in s)s.hasOwnProperty(Q)&&(l=s[Q],l!==void 0&&df(t,n,Q,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&ee(t,n,E,l,s,null))}function L1(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,D=null,k=null,Q=null;for(P in s){var X=s[P];if(s.hasOwnProperty(P)&&X!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":D=X;default:l.hasOwnProperty(P)||ee(t,n,P,null,l,X)}}for(var B in l){var P=l[B];if(X=s[B],l.hasOwnProperty(B)&&(P!=null||X!=null))switch(B){case"type":f=P;break;case"name":c=P;break;case"checked":k=P;break;case"defaultChecked":Q=P;break;case"value":g=P;break;case"defaultValue":E=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:P!==X&&ee(t,n,B,P,l,X)}}Oa(t,g,E,D,k,Q,f,c);return;case"select":P=g=E=B=null;for(f in s)if(D=s[f],s.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":P=D;default:l.hasOwnProperty(f)||ee(t,n,f,null,l,D)}for(c in l)if(f=l[c],D=s[c],l.hasOwnProperty(c)&&(f!=null||D!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==D&&ee(t,n,c,f,l,D)}n=E,s=g,l=P,B!=null?ts(t,!!s,B,!1):!!l!=!!s&&(n!=null?ts(t,!!s,n,!0):ts(t,!!s,s?[]:"",!1));return;case"textarea":P=B=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ee(t,n,E,null,l,c)}for(g in l)if(c=l[g],f=s[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":B=c;break;case"defaultValue":P=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&ee(t,n,g,c,l,f)}xo(t,B,P);return;case"option":for(var ct in s)if(B=s[ct],s.hasOwnProperty(ct)&&B!=null&&!l.hasOwnProperty(ct))switch(ct){case"selected":t.selected=!1;break;default:ee(t,n,ct,null,l,B)}for(D in l)if(B=l[D],P=s[D],l.hasOwnProperty(D)&&B!==P&&(B!=null||P!=null))switch(D){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:ee(t,n,D,B,l,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in s)B=s[Tt],s.hasOwnProperty(Tt)&&B!=null&&!l.hasOwnProperty(Tt)&&ee(t,n,Tt,null,l,B);for(k in l)if(B=l[k],P=s[k],l.hasOwnProperty(k)&&B!==P&&(B!=null||P!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:ee(t,n,k,B,l,P)}return;default:if(Ma(n)){for(var ne in s)B=s[ne],s.hasOwnProperty(ne)&&B!==void 0&&!l.hasOwnProperty(ne)&&df(t,n,ne,void 0,l,B);for(Q in l)B=l[Q],P=s[Q],!l.hasOwnProperty(Q)||B===P||B===void 0&&P===void 0||df(t,n,Q,B,l,P);return}}for(var j in s)B=s[j],s.hasOwnProperty(j)&&B!=null&&!l.hasOwnProperty(j)&&ee(t,n,j,null,l,B);for(X in l)B=l[X],P=s[X],!l.hasOwnProperty(X)||B===P||B==null&&P==null||ee(t,n,X,B,l,P)}function Bp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function k1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var c=s[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&Bp(g)){for(g=0,E=c.responseEnd,l+=1;l<s.length;l++){var D=s[l],k=D.startTime;if(k>E)break;var Q=D.transferSize,X=D.initiatorType;Q&&Bp(X)&&(D=D.responseEnd,g+=Q*(D<E?1:(E-k)/(D-k)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var mf=null,gf=null;function Du(t){return t.nodeType===9?t:t.ownerDocument}function qp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function pf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yf=null;function B1(){var t=window.event;return t&&t.type==="popstate"?t===yf?!1:(yf=t,!0):(yf=null,!1)}var Hp=typeof setTimeout=="function"?setTimeout:void 0,q1=typeof clearTimeout=="function"?clearTimeout:void 0,Gp=typeof Promise=="function"?Promise:void 0,P1=typeof queueMicrotask=="function"?queueMicrotask:typeof Gp<"u"?function(t){return Gp.resolve(null).then(t).catch(H1)}:Hp;function H1(t){setTimeout(function(){throw t})}function As(t){return t==="head"}function Qp(t,n){var s=n,l=0;do{var c=s.nextSibling;if(t.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(c),gr(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Ml(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Ml(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ii]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&Ml(t.ownerDocument.body);s=c}while(s);gr(n)}function Fp(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function _f(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":_f(s),Ia(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function G1(t,n,s,l){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ii])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function Q1(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=zn(t.nextSibling),t===null))return null;return t}function Yp(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=zn(t.nextSibling),t===null))return null;return t}function vf(t){return t.data==="$?"||t.data==="$~"}function Ef(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function F1(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Tf=null;function Kp(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return zn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function Xp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function Zp(t,n,s){switch(n=Du(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Ml(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ia(t)}var jn=new Map,Jp=new Set;function Nu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Fi=F.d;F.d={f:Y1,r:K1,D:X1,C:Z1,L:J1,m:$1,X:tE,S:W1,M:eE};function Y1(){var t=Fi.f(),n=Tu();return t||n}function K1(t){var n=Cn(t);n!==null&&n.tag===5&&n.type==="form"?mg(n):Fi.r(t)}var fr=typeof document>"u"?null:document;function $p(t,n,s){var l=fr;if(l&&typeof n=="string"&&n){var c=rn(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Jp.has(c)||(Jp.add(c),t={rel:t,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Fe(n,"link",t),Ae(n),l.head.appendChild(n)))}}function X1(t){Fi.D(t),$p("dns-prefetch",t,null)}function Z1(t,n){Fi.C(t,n),$p("preconnect",t,n)}function J1(t,n,s){Fi.L(t,n,s);var l=fr;if(l&&t&&n){var c='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+rn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+rn(s.imageSizes)+'"]')):c+='[href="'+rn(t)+'"]';var f=c;switch(n){case"style":f=dr(t);break;case"script":f=mr(t)}jn.has(f)||(t=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),jn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(zl(f))||n==="script"&&l.querySelector(jl(f))||(n=l.createElement("link"),Fe(n,"link",t),Ae(n),l.head.appendChild(n)))}}function $1(t,n){Fi.m(t,n);var s=fr;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=mr(t)}if(!jn.has(f)&&(t=S({rel:"modulepreload",href:t},n),jn.set(f,t),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(jl(f)))return}l=s.createElement("link"),Fe(l,"link",t),Ae(l),s.head.appendChild(l)}}}function W1(t,n,s){Fi.S(t,n,s);var l=fr;if(l&&t){var c=ai(l).hoistableStyles,f=dr(t);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(zl(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},s),(s=jn.get(f))&&bf(t,s);var D=g=l.createElement("link");Ae(D),Fe(D,"link",t),D._p=new Promise(function(k,Q){D.onload=k,D.onerror=Q}),D.addEventListener("load",function(){E.loading|=1}),D.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Iu(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function tE(t,n){Fi.X(t,n);var s=fr;if(s&&t){var l=ai(s).hoistableScripts,c=mr(t),f=l.get(c);f||(f=s.querySelector(jl(c)),f||(t=S({src:t,async:!0},n),(n=jn.get(c))&&Sf(t,n),f=s.createElement("script"),Ae(f),Fe(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function eE(t,n){Fi.M(t,n);var s=fr;if(s&&t){var l=ai(s).hoistableScripts,c=mr(t),f=l.get(c);f||(f=s.querySelector(jl(c)),f||(t=S({src:t,async:!0,type:"module"},n),(n=jn.get(c))&&Sf(t,n),f=s.createElement("script"),Ae(f),Fe(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Wp(t,n,s,l){var c=(c=wt.current)?Nu(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=dr(s.href),s=ai(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=dr(s.href);var f=ai(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(zl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),jn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},jn.set(t,s),f||nE(c,t,s,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=mr(s),s=ai(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function dr(t){return'href="'+rn(t)+'"'}function zl(t){return'link[rel="stylesheet"]['+t+"]"}function ty(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function nE(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Fe(n,"link",s),Ae(n),t.head.appendChild(n))}function mr(t){return'[src="'+rn(t)+'"]'}function jl(t){return"script[async]"+t}function ey(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+rn(s.href)+'"]');if(l)return n.instance=l,Ae(l),l;var c=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ae(l),Fe(l,"style",c),Iu(l,s.precedence,t),n.instance=l;case"stylesheet":c=dr(s.href);var f=t.querySelector(zl(c));if(f)return n.state.loading|=4,n.instance=f,Ae(f),f;l=ty(s),(c=jn.get(c))&&bf(l,c),f=(t.ownerDocument||t).createElement("link"),Ae(f);var g=f;return g._p=new Promise(function(E,D){g.onload=E,g.onerror=D}),Fe(f,"link",l),n.state.loading|=4,Iu(f,s.precedence,t),n.instance=f;case"script":return f=mr(s.src),(c=t.querySelector(jl(f)))?(n.instance=c,Ae(c),c):(l=s,(c=jn.get(f))&&(l=S({},s),Sf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Ae(c),Fe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Iu(l,s.precedence,t));return n.instance}function Iu(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function bf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Sf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Vu=null;function ny(t,n,s){if(Vu===null){var l=new Map,c=Vu=new Map;c.set(s,l)}else c=Vu,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var f=s[c];if(!(f[ii]||f[Se]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function iy(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function iE(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function sy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function sE(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=dr(l.href),f=n.querySelector(zl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Ou.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Ae(f);return}f=n.ownerDocument||n,l=ty(l),(c=jn.get(c))&&bf(l,c),f=f.createElement("link"),Ae(f);var g=f;g._p=new Promise(function(E,D){g.onload=E,g.onerror=D}),Fe(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Ou.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Af=0;function aE(t,n){return t.stylesheets&&t.count===0&&zu(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&zu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Af===0&&(Af=62500*k1());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&zu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Af?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Ou(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mu=null;function zu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mu=new Map,n.forEach(rE,t),Mu=null,Ou.call(t))}function rE(t,n){if(!(n.state.loading&4)){var s=Mu.get(t);if(s)var l=s.get(null);else{s=new Map,Mu.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,c),s.set(g,c),this.count++,l=Ou.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ul={$$typeof:ft,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function lE(t,n,s,l,c,f,g,E,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function ay(t,n,s,l,c,f,g,E,D,k,Q,X){return t=new lE(t,n,s,g,D,k,Q,X,E),n=1,f===!0&&(n|=24),f=yn(3,null,null,n),t.current=f,f.stateNode=t,n=nh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},rh(f),t}function ry(t){return t?(t=Qa,t):Qa}function ly(t,n,s,l,c,f){c=ry(c),l.context===null?l.context=c:l.pendingContext=c,l=ds(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=ms(t,l,n),s!==null&&(fn(s,t,n),gl(s,t,n))}function oy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Cf(t,n){oy(t,n),(t=t.alternate)&&oy(t,n)}function uy(t){if(t.tag===13||t.tag===31){var n=aa(t,67108864);n!==null&&fn(n,t,67108864),Cf(t,67108864)}}function cy(t){if(t.tag===13||t.tag===31){var n=bn();n=Ys(n);var s=aa(t,n);s!==null&&fn(s,t,n),Cf(t,n)}}var ju=!0;function oE(t,n,s,l){var c=G.T;G.T=null;var f=F.p;try{F.p=2,xf(t,n,s,l)}finally{F.p=f,G.T=c}}function uE(t,n,s,l){var c=G.T;G.T=null;var f=F.p;try{F.p=8,xf(t,n,s,l)}finally{F.p=f,G.T=c}}function xf(t,n,s,l){if(ju){var c=wf(l);if(c===null)ff(t,n,l,Uu,s),fy(t,l);else if(hE(c,t,n,s,l))l.stopPropagation();else if(fy(t,l),n&4&&-1<cE.indexOf(t)){for(;c!==null;){var f=Cn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Wn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var D=1<<31-pe(g);E.entanglements[1]|=D,g&=~D}_i(f),(Ft&6)===0&&(vu=en()+500,Il(0))}}break;case 31:case 13:E=aa(f,2),E!==null&&fn(E,f,2),Tu(),Cf(f,2)}if(f=wf(l),f===null&&ff(t,n,l,Uu,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else ff(t,n,l,null,s)}}function wf(t){return t=xn(t),Rf(t)}var Uu=null;function Rf(t){if(Uu=null,t=si(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=y(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Uu=t,null}function hy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hs()){case Br:return 2;case qr:return 8;case $i:case Oc:return 32;case go:return 268435456;default:return 32}default:return 32}}var Df=!1,Cs=null,xs=null,ws=null,Ll=new Map,kl=new Map,Rs=[],cE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fy(t,n){switch(t){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":Ll.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(n.pointerId)}}function Bl(t,n,s,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Cn(n),n!==null&&uy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function hE(t,n,s,l,c){switch(n){case"focusin":return Cs=Bl(Cs,t,n,s,l,c),!0;case"dragenter":return xs=Bl(xs,t,n,s,l,c),!0;case"mouseover":return ws=Bl(ws,t,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return Ll.set(f,Bl(Ll.get(f)||null,t,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,kl.set(f,Bl(kl.get(f)||null,t,n,s,l,c)),!0}return!1}function dy(t){var n=si(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,qn(t.priority,function(){cy(s)});return}}else if(n===31){if(n=y(s),n!==null){t.blockedOn=n,qn(t.priority,function(){cy(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=wf(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Wr=l,s.target.dispatchEvent(l),Wr=null}else return n=Cn(s),n!==null&&uy(n),t.blockedOn=s,!1;n.shift()}return!0}function my(t,n,s){Lu(t)&&s.delete(n)}function fE(){Df=!1,Cs!==null&&Lu(Cs)&&(Cs=null),xs!==null&&Lu(xs)&&(xs=null),ws!==null&&Lu(ws)&&(ws=null),Ll.forEach(my),kl.forEach(my)}function ku(t,n){t.blockedOn===n&&(t.blockedOn=null,Df||(Df=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,fE)))}var Bu=null;function gy(t){Bu!==t&&(Bu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Bu===t&&(Bu=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Rf(l||s)===null)continue;break}var f=Cn(s);f!==null&&(t.splice(n,3),n-=3,xh(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function gr(t){function n(D){return ku(D,t)}Cs!==null&&ku(Cs,t),xs!==null&&ku(xs,t),ws!==null&&ku(ws,t),Ll.forEach(n),kl.forEach(n);for(var s=0;s<Rs.length;s++){var l=Rs[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Rs.length&&(s=Rs[0],s.blockedOn===null);)dy(s),s.blockedOn===null&&Rs.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],g=c[Ue]||null;if(typeof f=="function")g||gy(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Ue]||null)E=g.formAction;else if(Rf(c)!==null)continue}else E=g.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),gy(s)}}}function py(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Nf(t){this._internalRoot=t}qu.prototype.render=Nf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=bn();ly(s,l,t,n,null,null)},qu.prototype.unmount=Nf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ly(t.current,2,null,t,null,null),Tu(),n[ni]=null}};function qu(t){this._internalRoot=t}qu.prototype.unstable_scheduleHydration=function(t){if(t){var n=To();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Rs.length&&n!==0&&n<Rs[s].priority;s++);Rs.splice(s,0,t),s===0&&dy(t)}};var yy=e.version;if(yy!=="19.2.1")throw Error(a(527,yy,"19.2.1"));F.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var dE={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pu.isDisabled&&Pu.supportsFiber)try{kn=Pu.inject(dE),qe=Pu}catch{}}return Pl.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",c=Ag,f=Cg,g=xg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=ay(t,1,!1,null,null,s,l,null,c,f,g,py),t[ni]=n.current,hf(t),new Nf(n)},Pl.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,c="",f=Ag,g=Cg,E=xg,D=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(D=s.formState)),n=ay(t,1,!0,n,s??null,l,c,D,f,g,E,py),n.context=ry(null),s=n.current,l=bn(),l=Ys(l),c=ds(l),c.callback=null,ms(s,c,l),s=l,n.current.lanes=s,Qs(n,s),_i(n),t[ni]=n.current,hf(t),new qu(n)},Pl.version="19.2.1",Pl}var wy;function SE(){if(wy)return Of.exports;wy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Of.exports=bE(),Of.exports}var AE=SE();function k_(){let r=localStorage.getItem("app_user_id");return r?console.log("   ID :",r):(r="user_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),localStorage.setItem("app_user_id",r),console.log("   ID :",r)),r}async function CE(){try{console.log("   ...");const r=k_();console.log("  ID:",r),console.log("   ")}catch(r){throw console.error("   :",r.message),r}}console.log(" Firebase   ");const xE=()=>{};var Ry={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},wE=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];e[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],y=r[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const h=r[i++],d=r[i++];e[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},q_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,y=d?r[o+1]:0,v=o+2<r.length,_=v?r[o+2]:0,A=h>>2,S=(h&3)<<4|y>>4;let N=(y&15)<<2|_>>6,H=_&63;v||(H=64,d||(N=64)),a.push(i[A],i[S],i[N],i[H])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(B_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):wE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],y=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||y==null||_==null||S==null)throw new RE;const N=h<<2|y>>4;if(a.push(N),_!==64){const H=y<<4&240|_>>2;if(a.push(H),S!==64){const J=_<<6&192|S;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class RE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DE=function(r){const e=B_(r);return q_.encodeByteArray(e,!0)},ec=function(r){return DE(r).replace(/\./g,"")},NE=function(r){try{return q_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=()=>IE().__FIREBASE_DEFAULTS__,OE=()=>{if(typeof process>"u"||typeof Ry>"u")return;const r=Ry.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ME=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&NE(r[1]);return e&&JSON.parse(e)},gd=()=>{try{return xE()||VE()||OE()||ME()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},zE=r=>gd()?.emulatorHosts?.[r],jE=r=>{const e=zE(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},P_=()=>gd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function LE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ec(JSON.stringify(i)),ec(JSON.stringify(d)),""].join(".")}const Kl={};function BE(){const r={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?r.emulator.push(e):r.prod.push(e);return r}function qE(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let Dy=!1;function PE(r,e){if(typeof window>"u"||typeof document>"u"||!pd(window.location.host)||Kl[r]===e||Kl[r]||Dy)return;Kl[r]=e;function i(N){return`__firebase__banner__${N}`}const a="__firebase__banner",h=BE().prod.length>0;function d(){const N=document.getElementById(a);N&&N.remove()}function y(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function v(N,H){N.setAttribute("width","24"),N.setAttribute("id",H),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function _(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{Dy=!0,d()},N}function A(N,H){N.setAttribute("id",H),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function S(){const N=qE(a),H=i("text"),J=document.getElementById(H)||document.createElement("span"),et=i("learnmore"),tt=document.getElementById(et)||document.createElement("a"),ht=i("preprendIcon"),vt=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ft=N.element;y(ft),A(tt,et);const W=_();v(vt,ht),ft.append(vt,J,tt,W),document.body.appendChild(ft)}h?(J.innerText="Preview backend disconnected.",vt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(vt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GE(){const r=gd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QE(){return!GE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FE(){try{return typeof indexedDB=="object"}catch{return!1}}function YE(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="FirebaseError";class Mr extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=KE,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,H_.prototype.create)}}class H_{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?XE(h,a):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new Mr(o,y,a)}}function XE(r,e){return r.replace(ZE,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const ZE=/\{\$([^}]+)}/g;function nc(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const h=r[o],d=e[o];if(Ny(h)&&Ny(d)){if(!nc(h,d))return!1}else if(h!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Ny(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(r){return r&&r._delegate?r._delegate:r}class Wl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new UE;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WE(e))try{this.getOrInitializeService({instanceIdentifier:_a})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch{}}}}clearInstance(e=_a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_a){return this.instances.has(e)}getOptions(e=_a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);a===y&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const h=this.instances.get(a);return h&&e(h,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:$E(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=_a){return this.component?this.component.multipleInstances?e:_a:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $E(r){return r===_a?void 0:r}function WE(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new JE(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const eT={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},nT=Pt.INFO,iT={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},sT=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=iT[e];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class G_{constructor(e){this.name=e,this._logLevel=nT,this._logHandler=sT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const aT=(r,e)=>e.some(i=>r instanceof i);let Iy,Vy;function rT(){return Iy||(Iy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lT(){return Vy||(Vy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q_=new WeakMap,Ff=new WeakMap,F_=new WeakMap,Uf=new WeakMap,yd=new WeakMap;function oT(r){const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Is(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Q_.set(i,r)}).catch(()=>{}),yd.set(e,r),e}function uT(r){if(Ff.has(r))return;const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});Ff.set(r,e)}let Yf={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Ff.get(r);if(e==="objectStoreNames")return r.objectStoreNames||F_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Is(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function cT(r){Yf=r(Yf)}function hT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(Lf(this),e,...i);return F_.set(a,e.sort?e.sort():[e]),Is(a)}:lT().includes(r)?function(...e){return r.apply(Lf(this),e),Is(Q_.get(this))}:function(...e){return Is(r.apply(Lf(this),e))}}function fT(r){return typeof r=="function"?hT(r):(r instanceof IDBTransaction&&uT(r),aT(r,rT())?new Proxy(r,Yf):r)}function Is(r){if(r instanceof IDBRequest)return oT(r);if(Uf.has(r))return Uf.get(r);const e=fT(r);return e!==r&&(Uf.set(r,e),yd.set(e,r)),e}const Lf=r=>yd.get(r);function dT(r,e,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const d=indexedDB.open(r,e),y=Is(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Is(d.result),v.oldVersion,v.newVersion,Is(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const mT=["get","getKey","getAll","getAllKeys","count"],gT=["put","add","delete","clear"],kf=new Map;function Oy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(kf.get(e))return kf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=gT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||mT.includes(i)))return;const h=async function(d,...y){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&v.done]))[0]};return kf.set(e,h),h}cT(r=>({...r,get:(e,i,a)=>Oy(e,i)||r.get(e,i,a),has:(e,i)=>!!Oy(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(yT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function yT(r){return r.getComponent()?.type==="VERSION"}const Kf="@firebase/app",My="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new G_("@firebase/app"),_T="@firebase/app-compat",vT="@firebase/analytics-compat",ET="@firebase/analytics",TT="@firebase/app-check-compat",bT="@firebase/app-check",ST="@firebase/auth",AT="@firebase/auth-compat",CT="@firebase/database",xT="@firebase/data-connect",wT="@firebase/database-compat",RT="@firebase/functions",DT="@firebase/functions-compat",NT="@firebase/installations",IT="@firebase/installations-compat",VT="@firebase/messaging",OT="@firebase/messaging-compat",MT="@firebase/performance",zT="@firebase/performance-compat",jT="@firebase/remote-config",UT="@firebase/remote-config-compat",LT="@firebase/storage",kT="@firebase/storage-compat",BT="@firebase/firestore",qT="@firebase/ai",PT="@firebase/firestore-compat",HT="firebase",GT="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf="[DEFAULT]",QT={[Kf]:"fire-core",[_T]:"fire-core-compat",[ET]:"fire-analytics",[vT]:"fire-analytics-compat",[bT]:"fire-app-check",[TT]:"fire-app-check-compat",[ST]:"fire-auth",[AT]:"fire-auth-compat",[CT]:"fire-rtdb",[xT]:"fire-data-connect",[wT]:"fire-rtdb-compat",[RT]:"fire-fn",[DT]:"fire-fn-compat",[NT]:"fire-iid",[IT]:"fire-iid-compat",[VT]:"fire-fcm",[OT]:"fire-fcm-compat",[MT]:"fire-perf",[zT]:"fire-perf-compat",[jT]:"fire-rc",[UT]:"fire-rc-compat",[LT]:"fire-gcs",[kT]:"fire-gcs-compat",[BT]:"fire-fst",[PT]:"fire-fst-compat",[qT]:"fire-vertex","fire-js":"fire-js",[HT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=new Map,FT=new Map,Zf=new Map;function zy(r,e){try{r.container.addComponent(e)}catch(i){Ki.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function sc(r){const e=r.name;if(Zf.has(e))return Ki.debug(`There were multiple attempts to register component ${e}.`),!1;Zf.set(e,r);for(const i of ic.values())zy(i,r);for(const i of FT.values())zy(i,r);return!0}function YT(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function KT(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vs=new H_("app","Firebase",XT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Wl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=GT;function Y_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:Xf,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Vs.create("bad-app-name",{appName:String(o)});if(i||(i=P_()),!i)throw Vs.create("no-options");const h=ic.get(o);if(h){if(nc(i,h.options)&&nc(a,h.config))return h;throw Vs.create("duplicate-app",{appName:o})}const d=new tT(o);for(const v of Zf.values())d.addComponent(v);const y=new ZT(i,a,d);return ic.set(o,y),y}function $T(r=Xf){const e=ic.get(r);if(!e&&r===Xf&&P_())return Y_();if(!e)throw Vs.create("no-app",{appName:r});return e}function Sr(r,e,i){let a=QT[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ki.warn(d.join(" "));return}sc(new Wl(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="firebase-heartbeat-database",tb=1,to="firebase-heartbeat-store";let Bf=null;function K_(){return Bf||(Bf=dT(WT,tb,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(to)}catch(i){console.warn(i)}}}}).catch(r=>{throw Vs.create("idb-open",{originalErrorMessage:r.message})})),Bf}async function eb(r){try{const i=(await K_()).transaction(to),a=await i.objectStore(to).get(X_(r));return await i.done,a}catch(e){if(e instanceof Mr)Ki.warn(e.message);else{const i=Vs.create("idb-get",{originalErrorMessage:e?.message});Ki.warn(i.message)}}}async function jy(r,e){try{const a=(await K_()).transaction(to,"readwrite");await a.objectStore(to).put(e,X_(r)),await a.done}catch(i){if(i instanceof Mr)Ki.warn(i.message);else{const a=Vs.create("idb-set",{originalErrorMessage:i?.message});Ki.warn(a.message)}}}function X_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=1024,ib=30;class sb{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new rb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Uy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>ib){const o=lb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ki.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Uy(),{heartbeatsToSend:i,unsentEntries:a}=ab(this._heartbeatsCache.heartbeats),o=ec(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ki.warn(e),""}}}function Uy(){return new Date().toISOString().substring(0,10)}function ab(r,e=nb){const i=[];let a=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Ly(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Ly(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class rb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FE()?YE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await eb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return jy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return jy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Ly(r){return ec(JSON.stringify({version:2,heartbeats:r})).length}function lb(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(r){sc(new Wl("platform-logger",e=>new pT(e),"PRIVATE")),sc(new Wl("heartbeat",e=>new sb(e),"PRIVATE")),Sr(Kf,My,r),Sr(Kf,My,"esm2020"),Sr("fire-js","")}ob("");var ky=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Os,Z_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,b){function w(){}w.prototype=b.prototype,x.F=b.prototype,x.prototype=new w,x.prototype.constructor=x,x.D=function(M,I,z){for(var R=Array(arguments.length-2),Kt=2;Kt<arguments.length;Kt++)R[Kt-2]=arguments[Kt];return b.prototype[I].apply(M,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,b,w){w||(w=0);const M=Array(16);if(typeof b=="string")for(var I=0;I<16;++I)M[I]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(I=0;I<16;++I)M[I]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=x.g[0],w=x.g[1],I=x.g[2];let z=x.g[3],R;R=b+(z^w&(I^z))+M[0]+3614090360&4294967295,b=w+(R<<7&4294967295|R>>>25),R=z+(I^b&(w^I))+M[1]+3905402710&4294967295,z=b+(R<<12&4294967295|R>>>20),R=I+(w^z&(b^w))+M[2]+606105819&4294967295,I=z+(R<<17&4294967295|R>>>15),R=w+(b^I&(z^b))+M[3]+3250441966&4294967295,w=I+(R<<22&4294967295|R>>>10),R=b+(z^w&(I^z))+M[4]+4118548399&4294967295,b=w+(R<<7&4294967295|R>>>25),R=z+(I^b&(w^I))+M[5]+1200080426&4294967295,z=b+(R<<12&4294967295|R>>>20),R=I+(w^z&(b^w))+M[6]+2821735955&4294967295,I=z+(R<<17&4294967295|R>>>15),R=w+(b^I&(z^b))+M[7]+4249261313&4294967295,w=I+(R<<22&4294967295|R>>>10),R=b+(z^w&(I^z))+M[8]+1770035416&4294967295,b=w+(R<<7&4294967295|R>>>25),R=z+(I^b&(w^I))+M[9]+2336552879&4294967295,z=b+(R<<12&4294967295|R>>>20),R=I+(w^z&(b^w))+M[10]+4294925233&4294967295,I=z+(R<<17&4294967295|R>>>15),R=w+(b^I&(z^b))+M[11]+2304563134&4294967295,w=I+(R<<22&4294967295|R>>>10),R=b+(z^w&(I^z))+M[12]+1804603682&4294967295,b=w+(R<<7&4294967295|R>>>25),R=z+(I^b&(w^I))+M[13]+4254626195&4294967295,z=b+(R<<12&4294967295|R>>>20),R=I+(w^z&(b^w))+M[14]+2792965006&4294967295,I=z+(R<<17&4294967295|R>>>15),R=w+(b^I&(z^b))+M[15]+1236535329&4294967295,w=I+(R<<22&4294967295|R>>>10),R=b+(I^z&(w^I))+M[1]+4129170786&4294967295,b=w+(R<<5&4294967295|R>>>27),R=z+(w^I&(b^w))+M[6]+3225465664&4294967295,z=b+(R<<9&4294967295|R>>>23),R=I+(b^w&(z^b))+M[11]+643717713&4294967295,I=z+(R<<14&4294967295|R>>>18),R=w+(z^b&(I^z))+M[0]+3921069994&4294967295,w=I+(R<<20&4294967295|R>>>12),R=b+(I^z&(w^I))+M[5]+3593408605&4294967295,b=w+(R<<5&4294967295|R>>>27),R=z+(w^I&(b^w))+M[10]+38016083&4294967295,z=b+(R<<9&4294967295|R>>>23),R=I+(b^w&(z^b))+M[15]+3634488961&4294967295,I=z+(R<<14&4294967295|R>>>18),R=w+(z^b&(I^z))+M[4]+3889429448&4294967295,w=I+(R<<20&4294967295|R>>>12),R=b+(I^z&(w^I))+M[9]+568446438&4294967295,b=w+(R<<5&4294967295|R>>>27),R=z+(w^I&(b^w))+M[14]+3275163606&4294967295,z=b+(R<<9&4294967295|R>>>23),R=I+(b^w&(z^b))+M[3]+4107603335&4294967295,I=z+(R<<14&4294967295|R>>>18),R=w+(z^b&(I^z))+M[8]+1163531501&4294967295,w=I+(R<<20&4294967295|R>>>12),R=b+(I^z&(w^I))+M[13]+2850285829&4294967295,b=w+(R<<5&4294967295|R>>>27),R=z+(w^I&(b^w))+M[2]+4243563512&4294967295,z=b+(R<<9&4294967295|R>>>23),R=I+(b^w&(z^b))+M[7]+1735328473&4294967295,I=z+(R<<14&4294967295|R>>>18),R=w+(z^b&(I^z))+M[12]+2368359562&4294967295,w=I+(R<<20&4294967295|R>>>12),R=b+(w^I^z)+M[5]+4294588738&4294967295,b=w+(R<<4&4294967295|R>>>28),R=z+(b^w^I)+M[8]+2272392833&4294967295,z=b+(R<<11&4294967295|R>>>21),R=I+(z^b^w)+M[11]+1839030562&4294967295,I=z+(R<<16&4294967295|R>>>16),R=w+(I^z^b)+M[14]+4259657740&4294967295,w=I+(R<<23&4294967295|R>>>9),R=b+(w^I^z)+M[1]+2763975236&4294967295,b=w+(R<<4&4294967295|R>>>28),R=z+(b^w^I)+M[4]+1272893353&4294967295,z=b+(R<<11&4294967295|R>>>21),R=I+(z^b^w)+M[7]+4139469664&4294967295,I=z+(R<<16&4294967295|R>>>16),R=w+(I^z^b)+M[10]+3200236656&4294967295,w=I+(R<<23&4294967295|R>>>9),R=b+(w^I^z)+M[13]+681279174&4294967295,b=w+(R<<4&4294967295|R>>>28),R=z+(b^w^I)+M[0]+3936430074&4294967295,z=b+(R<<11&4294967295|R>>>21),R=I+(z^b^w)+M[3]+3572445317&4294967295,I=z+(R<<16&4294967295|R>>>16),R=w+(I^z^b)+M[6]+76029189&4294967295,w=I+(R<<23&4294967295|R>>>9),R=b+(w^I^z)+M[9]+3654602809&4294967295,b=w+(R<<4&4294967295|R>>>28),R=z+(b^w^I)+M[12]+3873151461&4294967295,z=b+(R<<11&4294967295|R>>>21),R=I+(z^b^w)+M[15]+530742520&4294967295,I=z+(R<<16&4294967295|R>>>16),R=w+(I^z^b)+M[2]+3299628645&4294967295,w=I+(R<<23&4294967295|R>>>9),R=b+(I^(w|~z))+M[0]+4096336452&4294967295,b=w+(R<<6&4294967295|R>>>26),R=z+(w^(b|~I))+M[7]+1126891415&4294967295,z=b+(R<<10&4294967295|R>>>22),R=I+(b^(z|~w))+M[14]+2878612391&4294967295,I=z+(R<<15&4294967295|R>>>17),R=w+(z^(I|~b))+M[5]+4237533241&4294967295,w=I+(R<<21&4294967295|R>>>11),R=b+(I^(w|~z))+M[12]+1700485571&4294967295,b=w+(R<<6&4294967295|R>>>26),R=z+(w^(b|~I))+M[3]+2399980690&4294967295,z=b+(R<<10&4294967295|R>>>22),R=I+(b^(z|~w))+M[10]+4293915773&4294967295,I=z+(R<<15&4294967295|R>>>17),R=w+(z^(I|~b))+M[1]+2240044497&4294967295,w=I+(R<<21&4294967295|R>>>11),R=b+(I^(w|~z))+M[8]+1873313359&4294967295,b=w+(R<<6&4294967295|R>>>26),R=z+(w^(b|~I))+M[15]+4264355552&4294967295,z=b+(R<<10&4294967295|R>>>22),R=I+(b^(z|~w))+M[6]+2734768916&4294967295,I=z+(R<<15&4294967295|R>>>17),R=w+(z^(I|~b))+M[13]+1309151649&4294967295,w=I+(R<<21&4294967295|R>>>11),R=b+(I^(w|~z))+M[4]+4149444226&4294967295,b=w+(R<<6&4294967295|R>>>26),R=z+(w^(b|~I))+M[11]+3174756917&4294967295,z=b+(R<<10&4294967295|R>>>22),R=I+(b^(z|~w))+M[2]+718787259&4294967295,I=z+(R<<15&4294967295|R>>>17),R=w+(z^(I|~b))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+b&4294967295,x.g[1]=x.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+I&4294967295,x.g[3]=x.g[3]+z&4294967295}a.prototype.v=function(x,b){b===void 0&&(b=x.length);const w=b-this.blockSize,M=this.C;let I=this.h,z=0;for(;z<b;){if(I==0)for(;z<=w;)o(this,x,z),z+=this.blockSize;if(typeof x=="string"){for(;z<b;)if(M[I++]=x.charCodeAt(z++),I==this.blockSize){o(this,M),I=0;break}}else for(;z<b;)if(M[I++]=x[z++],I==this.blockSize){o(this,M),I=0;break}}this.h=I,this.o+=b},a.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var b=1;b<x.length-8;++b)x[b]=0;b=this.o*8;for(var w=x.length-8;w<x.length;++w)x[w]=b&255,b/=256;for(this.v(x),x=Array(16),b=0,w=0;w<4;++w)for(let M=0;M<32;M+=8)x[b++]=this.g[w]>>>M&255;return x};function h(x,b){var w=y;return Object.prototype.hasOwnProperty.call(w,x)?w[x]:w[x]=b(x)}function d(x,b){this.h=b;const w=[];let M=!0;for(let I=x.length-1;I>=0;I--){const z=x[I]|0;M&&z==b||(w[I]=z,M=!1)}this.g=w}var y={};function v(x){return-128<=x&&x<128?h(x,function(b){return new d([b|0],b<0?-1:0)}):new d([x|0],x<0?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return S;if(x<0)return tt(_(-x));const b=[];let w=1;for(let M=0;x>=w;M++)b[M]=x/w|0,w*=4294967296;return new d(b,0)}function A(x,b){if(x.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(x.charAt(0)=="-")return tt(A(x.substring(1),b));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=_(Math.pow(b,8));let M=S;for(let z=0;z<x.length;z+=8){var I=Math.min(8,x.length-z);const R=parseInt(x.substring(z,z+I),b);I<8?(I=_(Math.pow(b,I)),M=M.j(I).add(_(R))):(M=M.j(w),M=M.add(_(R)))}return M}var S=v(0),N=v(1),H=v(16777216);r=d.prototype,r.m=function(){if(et(this))return-tt(this).m();let x=0,b=1;for(let w=0;w<this.g.length;w++){const M=this.i(w);x+=(M>=0?M:4294967296+M)*b,b*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(J(this))return"0";if(et(this))return"-"+tt(this).toString(x);const b=_(Math.pow(x,6));var w=this;let M="";for(;;){const I=W(w,b).g;w=ht(w,I.j(b));let z=((w.g.length>0?w.g[0]:w.h)>>>0).toString(x);if(w=I,J(w))return z+M;for(;z.length<6;)z="0"+z;M=z+M}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function J(x){if(x.h!=0)return!1;for(let b=0;b<x.g.length;b++)if(x.g[b]!=0)return!1;return!0}function et(x){return x.h==-1}r.l=function(x){return x=ht(this,x),et(x)?-1:J(x)?0:1};function tt(x){const b=x.g.length,w=[];for(let M=0;M<b;M++)w[M]=~x.g[M];return new d(w,~x.h).add(N)}r.abs=function(){return et(this)?tt(this):this},r.add=function(x){const b=Math.max(this.g.length,x.g.length),w=[];let M=0;for(let I=0;I<=b;I++){let z=M+(this.i(I)&65535)+(x.i(I)&65535),R=(z>>>16)+(this.i(I)>>>16)+(x.i(I)>>>16);M=R>>>16,z&=65535,R&=65535,w[I]=R<<16|z}return new d(w,w[w.length-1]&-2147483648?-1:0)};function ht(x,b){return x.add(tt(b))}r.j=function(x){if(J(this)||J(x))return S;if(et(this))return et(x)?tt(this).j(tt(x)):tt(tt(this).j(x));if(et(x))return tt(this.j(tt(x)));if(this.l(H)<0&&x.l(H)<0)return _(this.m()*x.m());const b=this.g.length+x.g.length,w=[];for(var M=0;M<2*b;M++)w[M]=0;for(M=0;M<this.g.length;M++)for(let I=0;I<x.g.length;I++){const z=this.i(M)>>>16,R=this.i(M)&65535,Kt=x.i(I)>>>16,ce=x.i(I)&65535;w[2*M+2*I]+=R*ce,vt(w,2*M+2*I),w[2*M+2*I+1]+=z*ce,vt(w,2*M+2*I+1),w[2*M+2*I+1]+=R*Kt,vt(w,2*M+2*I+1),w[2*M+2*I+2]+=z*Kt,vt(w,2*M+2*I+2)}for(x=0;x<b;x++)w[x]=w[2*x+1]<<16|w[2*x];for(x=b;x<2*b;x++)w[x]=0;return new d(w,0)};function vt(x,b){for(;(x[b]&65535)!=x[b];)x[b+1]+=x[b]>>>16,x[b]&=65535,b++}function ft(x,b){this.g=x,this.h=b}function W(x,b){if(J(b))throw Error("division by zero");if(J(x))return new ft(S,S);if(et(x))return b=W(tt(x),b),new ft(tt(b.g),tt(b.h));if(et(b))return b=W(x,tt(b)),new ft(tt(b.g),b.h);if(x.g.length>30){if(et(x)||et(b))throw Error("slowDivide_ only works with positive integers.");for(var w=N,M=b;M.l(x)<=0;)w=nt(w),M=nt(M);var I=ut(w,1),z=ut(M,1);for(M=ut(M,2),w=ut(w,2);!J(M);){var R=z.add(M);R.l(x)<=0&&(I=I.add(w),z=R),M=ut(M,1),w=ut(w,1)}return b=ht(x,I.j(b)),new ft(I,b)}for(I=S;x.l(b)>=0;){for(w=Math.max(1,Math.floor(x.m()/b.m())),M=Math.ceil(Math.log(w)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),z=_(w),R=z.j(b);et(R)||R.l(x)>0;)w-=M,z=_(w),R=z.j(b);J(z)&&(z=N),I=I.add(z),x=ht(x,R)}return new ft(I,x)}r.B=function(x){return W(this,x).h},r.and=function(x){const b=Math.max(this.g.length,x.g.length),w=[];for(let M=0;M<b;M++)w[M]=this.i(M)&x.i(M);return new d(w,this.h&x.h)},r.or=function(x){const b=Math.max(this.g.length,x.g.length),w=[];for(let M=0;M<b;M++)w[M]=this.i(M)|x.i(M);return new d(w,this.h|x.h)},r.xor=function(x){const b=Math.max(this.g.length,x.g.length),w=[];for(let M=0;M<b;M++)w[M]=this.i(M)^x.i(M);return new d(w,this.h^x.h)};function nt(x){const b=x.g.length+1,w=[];for(let M=0;M<b;M++)w[M]=x.i(M)<<1|x.i(M-1)>>>31;return new d(w,x.h)}function ut(x,b){const w=b>>5;b%=32;const M=x.g.length-w,I=[];for(let z=0;z<M;z++)I[z]=b>0?x.i(z+w)>>>b|x.i(z+w+1)<<32-b:x.i(z+w);return new d(I,x.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Z_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Os=d}).apply(typeof ky<"u"?ky:typeof self<"u"?self:typeof window<"u"?window:{});var Hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var J_,Gl,$_,Xu,Jf,W_,t0,e0;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hu=="object"&&Hu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var p=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in p))break t;p=p[U]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var p=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&p.push([T,m[T]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,p){return u.call.apply(u.bind,arguments)}function _(u,m,p){return _=v,_.apply(null,arguments)}function A(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function p(){}p.prototype=m.prototype,u.Z=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Ob=function(T,U,q){for(var it=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)it[Dt-2]=arguments[Dt];return m.prototype[U].apply(T,it)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var p=typeof U;if(p=p!="object"?p:U?Array.isArray(U)?"array":p:"null",p=="array"||p=="object"&&typeof U.length=="number"){p=u.length||0;const q=U.length||0;u.length=p+q;for(let it=0;it<q;it++)u[p+it]=U[it]}else u.push(U)}}class et{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function ht(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class vt{constructor(){this.h=this.g=null}add(m,p){const T=ft.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ft=new et(()=>new W,u=>u.reset());class W{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ut=!1,x=new vt,b=()=>{const u=Promise.resolve(void 0);nt=()=>{u.then(w)}};function w(){for(var u;u=ht();){try{u.h.call(u.g)}catch(p){tt(p)}var m=ft;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ut=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Kt(u,m){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(Kt,I),Kt.prototype.init=function(u,m){const p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Kt.Z.h.call(this)},Kt.prototype.h=function(){Kt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ce="closure_listenable_"+(Math.random()*1e6|0),G=0;function F(u,m,p,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=U,this.key=++G,this.da=this.fa=!1}function at(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function dt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function Rt(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function V(u){const m={};for(const p in u)m[p]=u[p];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(u,m){let p,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(p in T)u[p]=T[p];for(let q=0;q<Y.length;q++)p=Y[q],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function lt(u){this.src=u,this.g={},this.h=0}lt.prototype.add=function(u,m,p,T,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const it=wt(u,m,T,U);return it>-1?(m=u[it],p||(m.fa=!1)):(m=new F(m,this.src,q,!!T,U),m.fa=p,u.push(m)),m};function Et(u,m){const p=m.type;if(p in u.g){var T=u.g[p],U=Array.prototype.indexOf.call(T,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(T,U,1),q&&(at(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function wt(u,m,p,T){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return U}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),he={};function $t(u,m,p,T,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)$t(u,m[q],p,T,U);return null}return p=kr(p),u&&u[ce]?u.J(m,p,y(T)?!!T.capture:!1,U):rt(u,m,p,!1,T,U)}function rt(u,m,p,T,U,q){if(!m)throw Error("Invalid event type");const it=y(U)?!!U.capture:!!U;let Dt=wi(u);if(Dt||(u[Vt]=Dt=new lt(u)),p=Dt.add(m,p,T,it,q),p.proxy)return p;if(T=mt(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)z||(U=it),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Sn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function mt(){function u(p){return m.call(u.src,u.listener,p)}const m=Ps;return u}function kt(u,m,p,T,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)kt(u,m[q],p,T,U);else T=y(T)?!!T.capture:!!T,p=kr(p),u&&u[ce]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],p=wt(m,p,T,U),p>-1&&(at(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=wi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,p,T,U)),(p=u>-1?m[u]:null)&&Ze(p))}function Ze(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ce])Et(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Sn(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=wi(m))?(Et(p,u),p.h==0&&(p.src=null,m[Vt]=null)):at(u)}}}function Sn(u){return u in he?he[u]:he[u]="on"+u}function Ps(u,m){if(u.da)u=!0;else{m=new Kt(m,this);const p=u.listener,T=u.ha||u.src;u.fa&&Ze(u),u=p.call(T,m)}return u}function wi(u){return u=u[Vt],u instanceof lt?u:null}var fe="__closure_events_fn_"+(Math.random()*1e9>>>0);function kr(u){return typeof u=="function"?u:(u[fe]||(u[fe]=function(m){return u.handleEvent(m)}),u[fe])}function Te(){M.call(this),this.i=new lt(this),this.M=this,this.G=null}S(Te,M),Te.prototype[ce]=!0,Te.prototype.removeEventListener=function(u,m,p,T){kt(this,u,m,p,T)};function Ve(u,m){var p,T=u.G;if(T)for(p=[];T;T=T.G)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new I(m,u);else if(m instanceof I)m.target=m.target||u;else{var U=m;m=new I(T,u),st(m,U)}U=!0;let q,it;if(p)for(it=p.length-1;it>=0;it--)q=m.g=p[it],U=Ji(q,T,!0,m)&&U;if(q=m.g=u,U=Ji(q,T,!0,m)&&U,U=Ji(q,T,!1,m)&&U,p)for(it=0;it<p.length;it++)q=m.g=p[it],U=Ji(q,T,!1,m)&&U}Te.prototype.N=function(){if(Te.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const p=u.g[m];for(let T=0;T<p.length;T++)at(p[T]);delete u.g[m],u.h--}}this.G=null},Te.prototype.J=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},Te.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function Ji(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const it=m[q];if(it&&!it.da&&it.capture==p){const Dt=it.listener,ye=it.ha||it.src;it.fa&&Et(u.i,it),U=Dt.call(ye,T)!==!1&&U}}return U&&!T.defaultPrevented}function Vc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function mo(u){u.g=Vc(()=>{u.g=null,u.i&&(u.i=!1,mo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class en extends M{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:mo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hs(u){M.call(this),this.h=u,this.g={}}S(Hs,M);var Br=[];function qr(u){dt(u.g,function(m,p){this.g.hasOwnProperty(p)&&Ze(m)},u),u.g={}}Hs.prototype.N=function(){Hs.Z.N.call(this),qr(this)},Hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $i=d.JSON.stringify,Oc=d.JSON.parse,go=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function po(){}function yo(){}var kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){I.call(this,"d")}S(qe,I);function An(){I.call(this,"c")}S(An,I);var pe={},_o=null;function Da(){return _o=_o||new Te}pe.Ia="serverreachability";function vo(u){I.call(this,pe.Ia,u)}S(vo,I);function $n(u){const m=Da();Ve(m,new vo(m))}pe.STAT_EVENT="statevent";function Gs(u,m){I.call(this,pe.STAT_EVENT,u),this.stat=m}S(Gs,I);function be(u){const m=Da();Ve(m,new Gs(m,u))}pe.Ja="timingevent";function Wn(u,m){I.call(this,pe.Ja,u),this.size=m}S(Wn,I);function ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function Mc(u,m,p,T,U,q){u.info(function(){if(u.g)if(q){var it="",Dt=q.split("&");for(let Qt=0;Qt<Dt.length;Qt++){var ye=Dt[Qt].split("=");if(ye.length>1){const oe=ye[0];ye=ye[1];const Rn=oe.split("_");it=Rn.length>=2&&Rn[1]=="type"?it+(oe+"="+ye+"&"):it+(oe+"=redacted&")}}}else it=null;else it=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+p+`
`+it})}function Eo(u,m,p,T,U,q,it){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+p+`
`+q+" "+it})}function ei(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+zc(u,p)+(T?" "+T:"")})}function Qs(u,m){u.info(function(){return"TIMEOUT: "+m})}Bn.prototype.info=function(){};function zc(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var p=q[u];if(!(p.length<2)){var T=p[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let it=1;it<T.length;it++)T[it]=""}}}}return $i(q)}catch{return m}}var Fs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Pr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Hr;function Ys(){}S(Ys,po),Ys.prototype.g=function(){return new XMLHttpRequest},Hr=new Ys;function Ri(u){return encodeURIComponent(String(u))}function To(u){var m=1;u=u.split(":");const p=[];for(;m>0&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function qn(u,m,p,T){this.j=u,this.i=m,this.l=p,this.S=T||1,this.V=new Hs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var Se={},Ue={};function ni(u,m,p){u.M=1,u.A=Ks(Ce(m)),u.u=p,u.R=!0,Na(u,null)}function Na(u,m){u.F=Date.now(),ii(u),u.B=Ce(u.A);var p=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Ma(p.i,"t",T),u.C=0,p=u.j.L,u.h=new Pn,u.g=jo(u.j,p?m:null,!u.u),u.P>0&&(u.O=new en(_(u.Y,u,u.g),u.P)),m=u.V,p=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Br[0]=U.toString()),U=Br);for(let q=0;q<U.length;q++){const it=$t(p,U[q],T||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),$n(),Mc(u.i,u.v,u.B,u.l,u.S,u.u)}qn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Qn(u)==3?m.j():this.Y(u)},qn.prototype.Y=function(u){try{if(u==this.g)t:{const Dt=Qn(this.g),ye=this.g.ya(),Qt=this.g.ca();if(!(Dt<3)&&(Dt!=3||this.g&&(this.h.h||this.g.la()||Pe(this.g)))){this.K||Dt!=4||ye==7||(ye==8||Qt<=0?$n(3):$n(2)),si(this);var m=this.g.ca();this.X=m;var p=jc(this);if(this.o=m==200,Eo(this.i,this.v,this.B,this.l,this.S,Dt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var q=T;break e}}q=null}if(u=q)ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,u);else{this.o=!1,this.m=3,be(12),mn(this),Cn(this);break t}}if(this.R){u=!0;let oe;for(;!this.K&&this.C<p.length;)if(oe=So(this,p),oe==Ue){Dt==4&&(this.m=4,be(14),u=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Se){this.m=4,be(15),ei(this.i,this.l,p,"[Invalid Chunk]"),u=!1;break}else ei(this.i,this.l,oe,null),ai(this,oe);if(bo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||p.length!=0||this.h.h||(this.m=1,be(16),u=!1),this.o=this.o&&u,!u)ei(this.i,this.l,p,"[Invalid Chunked Response]"),mn(this),Cn(this);else if(p.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),sl(it),it.P=!0,be(11))}}else ei(this.i,this.l,p,null),ai(this,p);Dt==4&&mn(this),this.o&&!this.K&&(Dt==4?Vo(this.j,this):(this.o=!1,ii(this)))}else Ni(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),mn(this),Cn(this)}}}catch{}finally{}};function jc(u){if(!bo(u))return u.g.la();const m=Pe(u.g);if(m==="")return"";let p="";const T=m.length,U=Qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return mn(u),Cn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,p+=u.h.i.decode(m[q],{stream:!(U&&q==T-1)});return m.length=0,u.h.g+=p,u.C=0,u.h.g}function bo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function So(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Ue:(p=Number(m.substring(p,T)),isNaN(p)?Se:(T+=1,T+p>m.length?Ue:(m=m.slice(T,T+p),u.C=T+p,m)))}qn.prototype.cancel=function(){this.K=!0,mn(this)};function ii(u){u.T=Date.now()+u.H,Ia(u,u.H)}function Ia(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ti(_(u.aa,u),m)}function si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Qs(this.i,this.B),this.M!=2&&($n(),be(17)),mn(this),this.m=2,Cn(this)):Ia(this,this.T-u)};function Cn(u){u.j.I==0||u.K||Vo(u.j,u)}function mn(u){si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,qr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ai(u,m){try{var p=u.j;if(p.I!=0&&(p.g==u||li(p.h,u))){if(!u.L&&li(p.h,u)&&p.I==3){try{var T=p.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<u.F)ka(p),rs(p);else break t;ea(p),be(18)}}else p.xa=U[1],0<p.xa-p.K&&U[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=ti(_(p.Va,p),6e3));ri(p.h)<=1&&p.ta&&(p.ta=void 0)}else di(p,11)}else if((u.L||p.g==u)&&ka(p),!R(m))for(U=p.Ba.g.parse(m),m=0;m<U.length;m++){let Qt=U[m];const oe=Qt[0];if(!(oe<=p.K))if(p.K=oe,Qt=Qt[1],p.I==2)if(Qt[0]=="c"){p.M=Qt[1],p.ba=Qt[2];const Rn=Qt[3];Rn!=null&&(p.ka=Rn,p.j.info("VER="+p.ka));const mi=Qt[4];mi!=null&&(p.za=mi,p.j.info("SVER="+p.za));const Fn=Qt[5];Fn!=null&&typeof Fn=="number"&&Fn>0&&(T=1.5*Fn,p.O=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Yn=u.g;if(Yn){const na=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(na){var q=T.h;q.g||na.indexOf("spdy")==-1&&na.indexOf("quic")==-1&&na.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Fr(q,q.h),q.h=null))}if(T.G){const Ba=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ba&&(T.wa=Ba,Xt(T.J,T.G,Ba))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-u.F,p.j.info("Handshake RTT: "+p.T+"ms")),T=p;var it=u;if(T.na=zo(T,T.L?T.ba:null,T.W),it.L){Yr(T.h,it);var Dt=it,ye=T.O;ye&&(Dt.H=ye),Dt.D&&(si(Dt),ii(Dt)),T.g=it}else No(T);p.i.length>0&&fi(p)}else Qt[0]!="stop"&&Qt[0]!="close"||di(p,7);else p.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?di(p,7):nl(p):Qt[0]!="noop"&&p.l&&p.l.qa(Qt),p.A=0)}}$n(4)}catch{}}var Ae=class{constructor(u,m){this.g=u,this.map=m}};function Gr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Qr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ri(u){return u.h?1:u.g?u.g.size:0}function li(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Fr(u,m){u.g?u.g.add(m):u.h=m}function Yr(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Gr.prototype.cancel=function(){if(this.i=Kr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Kr(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.G);return m}return H(u.i)}var Ao=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Va(u,m){if(u){u=u.split("&");for(let p=0;p<u.length;p++){const T=u[p].indexOf("=");let U,q=null;T>=0?(U=u[p].substring(0,T),q=u[p].substring(T+1)):U=u[p],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function gn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof gn?(this.l=u.l,Le(this,u.j),this.o=u.o,this.g=u.g,Wi(this,u.u),this.h=u.h,Xr(this,Ro(u.i)),this.m=u.m):u&&(m=String(u).match(Ao))?(this.l=!1,Le(this,m[1]||"",!0),this.o=oi(m[2]||""),this.g=oi(m[3]||"",!0),Wi(this,m[4]),this.h=oi(m[5]||"",!0),Xr(this,m[6]||"",!0),this.m=oi(m[7]||"")):(this.l=!1,this.i=new es(null,this.l))}gn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Xs(m,Oa,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Xs(m,Oa,!0),"@"),u.push(Ri(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&u.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Xs(p,p.charAt(0)=="/"?Zr:Co,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Xs(p,xo)),u.join("")},gn.prototype.resolve=function(u){const m=Ce(this);let p=!!u.j;p?Le(m,u.j):p=!!u.o,p?m.o=u.o:p=!!u.g,p?m.g=u.g:p=u.u!=null;var T=u.h;if(p)Wi(m,u.u);else if(p=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let it=0;it<U.length;){const Dt=U[it++];Dt=="."?T&&it==U.length&&q.push(""):Dt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&it==U.length&&q.push("")):(q.push(Dt),T=!0)}T=q.join("/")}else T=U}return p?m.h=T:p=u.i.toString()!=="",p?Xr(m,Ro(u.i)):p=!!u.m,p&&(m.m=u.m),m};function Ce(u){return new gn(u)}function Le(u,m,p){u.j=p?oi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Wi(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Xr(u,m,p){m instanceof es?(u.i=m,za(u.i,u.l)):(p||(m=Xs(m,ts)),u.i=new es(m,u.l))}function Xt(u,m,p){u.i.set(m,p)}function Ks(u){return Xt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function oi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Xs(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Oa=/[#\/\?@]/g,Co=/[#\?:]/g,Zr=/[#\?]/g,ts=/[#\?@]/g,xo=/#/g;function es(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function ln(u){u.g||(u.g=new Map,u.h=0,u.i&&Va(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=es.prototype,r.add=function(u,m){ln(this),this.i=null,u=ns(this,u);let p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function wo(u,m){ln(u),m=ns(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Jr(u,m){return ln(u),m=ns(u,m),u.g.has(m)}r.forEach=function(u,m){ln(this),this.g.forEach(function(p,T){p.forEach(function(U){u.call(m,U,T,this)},this)},this)};function $r(u,m){ln(u);let p=[];if(typeof m=="string")Jr(u,m)&&(p=p.concat(u.g.get(ns(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)p=p.concat(u[m]);return p}r.set=function(u,m){return ln(this),this.i=null,u=ns(this,u),Jr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=$r(this,u),u.length>0?String(u[0]):m):m};function Ma(u,m,p){wo(u,m),p.length>0&&(u.i=null,u.g.set(ns(u,m),H(p)),u.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var p=m[T];const U=Ri(p);p=$r(this,p);for(let q=0;q<p.length;q++){let it=U;p[q]!==""&&(it+="="+Ri(p[q])),u.push(it)}}return this.i=u.join("&")};function Ro(u){const m=new es;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ns(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function za(u,m){m&&!u.j&&(ln(u),u.i=null,u.g.forEach(function(p,T){const U=T.toLowerCase();T!=U&&(wo(this,T),Ma(this,U,p))},u)),u.j=m}function Hn(u,m){const p=new Bn;if(d.Image){const T=new Image;T.onload=A(xn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=A(xn,p,"TestLoadImage: error",!1,m,T),T.onabort=A(xn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(xn,p,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Wr(u,m){const p=new Bn,T=new AbortController,U=setTimeout(()=>{T.abort(),xn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?xn(p,"TestPingServer: ok",!0,m):xn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),xn(p,"TestPingServer: error",!1,m)})}function xn(u,m,p,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(p)}catch{}}function is(){this.g=new go}function ui(u){this.i=u.Sb||null,this.h=u.ab||!1}S(ui,po),ui.prototype.g=function(){return new Zs(this.i,this.h)};function Zs(u,m){Te.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Zs,Te),r=Zs.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Gn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ss(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ja(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ja(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ss(this):Gn(this),this.readyState==3&&ja(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ss(this))},r.Na=function(u){this.g&&(this.response=u,ss(this))},r.ga=function(){this.g&&ss(this)};function ss(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Gn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Zs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function wn(u){let m="";return dt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Js(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=wn(p),typeof u=="string"?p!=null&&Ri(p):Xt(u,m,p))}function Wt(u){Te.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Wt,Te);var ci=/^https?$/i,tl=["POST","PUT"];r=Wt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Hr.g(),this.g.onreadystatechange=N(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){$s(this,q);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)p.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(tl,m,void 0)>=0)||T||U||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,it]of p)this.g.setRequestHeader(q,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){$s(this,q)}};function $s(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,el(u),Di(u)}function el(u){u.A||(u.A=!0,Ve(u,"complete"),Ve(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ve(this,"complete"),Ve(this,"abort"),Di(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),Wt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ws(this):this.Xa())},r.Xa=function(){Ws(this)};function Ws(u){if(u.h&&typeof h<"u"){if(u.v&&Qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ve(u,"readystatechange"),Qn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=q===0){let it=String(u.D).match(Ao)[1]||null;!it&&d.self&&d.self.location&&(it=d.self.location.protocol.slice(0,-1)),T=!ci.test(it?it.toLowerCase():"")}p=T}if(p)Ve(u,"complete"),Ve(u,"success");else{u.o=6;try{var U=Qn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",el(u)}}finally{Di(u)}}}}function Di(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const p=u.g;u.g=null,m||Ve(u,"ready");try{p.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Qn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Oc(m)}};function Pe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ni(u){const m={};u=(u.g&&Qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var p=To(u[T]);const U=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[U]||[];m[U]=q,q.push(p)}Rt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hi(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function as(u){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hi("baseRetryDelayMs",5e3,u),this.Za=hi("retryDelaySeedMs",1e4,u),this.Ta=hi("forwardChannelMaxRetries",2,u),this.va=hi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Gr(u&&u.concurrentRequestLimit),this.Ba=new is,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=as.prototype,r.ka=8,r.I=1,r.connect=function(u,m,p,T){be(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.J=zo(this,null,this.W),fi(this)};function nl(u){if(Ua(u),u.I==3){var m=u.V++,p=Ce(u.J);if(Xt(p,"SID",u.M),Xt(p,"RID",m),Xt(p,"TYPE","terminate"),ta(u,p),m=new qn(u,u.j,m),m.M=2,m.A=Ks(Ce(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=jo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ii(m)}Mo(u)}function rs(u){u.g&&(sl(u),u.g.cancel(),u.g=null)}function Ua(u){rs(u),u.v&&(d.clearTimeout(u.v),u.v=null),ka(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function fi(u){if(!Qr(u.h)&&!u.m){u.m=!0;var m=u.Ea;nt||b(),ut||(nt(),ut=!0),x.add(m,u),u.D=0}}function La(u,m){return ri(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ti(_(u.Ea,u,m),Oo(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new qn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=V(q),st(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Do(this,U,m),p=Ce(this.J),Xt(p,"RID",u),Xt(p,"CVER",22),this.G&&Xt(p,"X-HTTP-Session-Id",this.G),ta(this,p),q&&(this.R?m="headers="+Ri(wn(q))+"&"+m:this.u&&Js(p,this.u,q)),Fr(this.h,U),this.Ra&&Xt(p,"TYPE","init"),this.S?(Xt(p,"$req",m),Xt(p,"SID","null"),U.U=!0,ni(U,p,null)):ni(U,p,m),this.I=2}}else this.I==3&&(u?il(this,u):this.i.length==0||Qr(this.h)||il(this))};function il(u,m){var p;m?p=m.l:p=u.V++;const T=Ce(u.J);Xt(T,"SID",u.M),Xt(T,"RID",p),Xt(T,"AID",u.K),ta(u,T),u.u&&u.o&&Js(T,u.u,u.o),p=new qn(u,u.j,p,u.D+1),u.u===null&&(p.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Do(u,p,1e3),p.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Fr(u.h,p),ni(p,T,m)}function ta(u,m){u.H&&dt(u.H,function(p,T){Xt(m,T,p)}),u.l&&dt({},function(p,T){Xt(m,T,p)})}function Do(u,m,p){p=Math.min(u.i.length,p);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var U=u.i;let Dt=-1;for(;;){const ye=["count="+p];Dt==-1?p>0?(Dt=U[0].g,ye.push("ofs="+Dt)):Dt=0:ye.push("ofs="+Dt);let Qt=!0;for(let oe=0;oe<p;oe++){var q=U[oe].g;const Rn=U[oe].map;if(q-=Dt,q<0)Dt=Math.max(0,U[oe].g-100),Qt=!1;else try{q="req"+q+"_"||"";try{var it=Rn instanceof Map?Rn:Object.entries(Rn);for(const[mi,Fn]of it){let Yn=Fn;y(Fn)&&(Yn=$i(Fn)),ye.push(q+mi+"="+encodeURIComponent(Yn))}}catch(mi){throw ye.push(q+"type="+encodeURIComponent("_badmap")),mi}}catch{T&&T(Rn)}}if(Qt){it=ye.join("&");break t}}it=void 0}return u=u.i.splice(0,p),m.G=u,it}function No(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;nt||b(),ut||(nt(),ut=!0),x.add(m,u),u.A=0}}function ea(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ti(_(u.Da,u),Oo(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Io(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ti(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),rs(this),Io(this))};function sl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Io(u){u.g=new qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ce(u.na);Xt(m,"RID","rpc"),Xt(m,"SID",u.M),Xt(m,"AID",u.K),Xt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Xt(m,"TO",u.ia),Xt(m,"TYPE","xmlhttp"),ta(u,m),u.u&&u.o&&Js(m,u.u,u.o),u.O&&(u.g.H=u.O);var p=u.g;u=u.ba,p.M=1,p.A=Ks(Ce(m)),p.u=null,p.R=!0,Na(p,u)}r.Va=function(){this.C!=null&&(this.C=null,rs(this),ea(this),be(19))};function ka(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Vo(u,m){var p=null;if(u.g==m){ka(u),sl(u),u.g=null;var T=2}else if(li(u.h,m))p=m.G,Yr(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=Da(),Ve(T,new Wn(T,p)),fi(u)}else No(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&La(u,m)||T==2&&ea(u)))switch(p&&p.length>0&&(m=u.h,m.i=m.i.concat(p)),U){case 1:di(u,5);break;case 4:di(u,10);break;case 3:di(u,6);break;default:di(u,2)}}}function Oo(u,m){let p=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(p*=2),p*m}function di(u,m){if(u.j.info("Error code "+m),m==2){var p=_(u.bb,u),T=u.Ua;const U=!T;T=new gn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Le(T,"https"),Ks(T),U?Hn(T.toString(),p):Wr(T.toString(),p)}else be(2);u.I=0,u.l&&u.l.pa(m),Mo(u),Ua(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function Mo(u){if(u.I=0,u.ja=[],u.l){const m=Kr(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function zo(u,m,p){var T=p instanceof gn?Ce(p):new gn(p);if(T.g!="")m&&(T.g=m+"."+T.g),Wi(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new gn(null);T&&Le(q,T),m&&(q.g=m),U&&Wi(q,U),p&&(q.h=p),T=q}return p=u.G,m=u.wa,p&&m&&Xt(T,p,m),Xt(T,"VER",u.ka),ta(u,T),T}function jo(u,m,p){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Wt(new ui({ab:p})):new Wt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uo(){}r=Uo.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ls(){}ls.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){Te.call(this),this.g=new as(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ii(this)}S(nn,Te),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){nl(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.v&&(p={},p.__data__=$i(u),u=p);m.i.push(new Ae(m.Ya++,u)),m.I==3&&fi(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,nl(this.g),delete this.g,nn.Z.N.call(this)};function Lo(u){qe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Lo,qe);function ko(){An.call(this),this.status=1}S(ko,An);function Ii(u){this.g=u}S(Ii,Uo),Ii.prototype.ra=function(){Ve(this.g,"a")},Ii.prototype.qa=function(u){Ve(this.g,new Lo(u))},Ii.prototype.pa=function(u){Ve(this.g,new ko)},Ii.prototype.oa=function(){Ve(this.g,"b")},ls.prototype.createWebChannel=ls.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,e0=function(){return new ls},t0=function(){return Da()},W_=pe,Jf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fs.NO_ERROR=0,Fs.TIMEOUT=8,Fs.HTTP_ERROR=6,Xu=Fs,Pr.COMPLETE="complete",$_=Pr,yo.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",Te.prototype.listen=Te.prototype.J,Gl=yo,Wt.prototype.listenOnce=Wt.prototype.K,Wt.prototype.getLastError=Wt.prototype.Ha,Wt.prototype.getLastErrorCode=Wt.prototype.ya,Wt.prototype.getStatus=Wt.prototype.ca,Wt.prototype.getResponseJson=Wt.prototype.La,Wt.prototype.getResponseText=Wt.prototype.la,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Fa,J_=Wt}).apply(typeof Hu<"u"?Hu:typeof self<"u"?self:typeof window<"u"?window:{});const By="@firebase/firestore",qy="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zr="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=new G_("@firebase/firestore");function _r(){return ba.logLevel}function ot(r,...e){if(ba.logLevel<=Pt.DEBUG){const i=e.map(_d);ba.debug(`Firestore (${zr}): ${r}`,...i)}}function Xi(r,...e){if(ba.logLevel<=Pt.ERROR){const i=e.map(_d);ba.error(`Firestore (${zr}): ${r}`,...i)}}function xr(r,...e){if(ba.logLevel<=Pt.WARN){const i=e.map(_d);ba.warn(`Firestore (${zr}): ${r}`,...i)}}function _d(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,n0(r,a,i)}function n0(r,e,i){let a=`FIRESTORE (${zr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Xi(a),new Error(a)}function Yt(r,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||n0(e,o,a)}function xt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends Mr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ub{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(We.UNAUTHENTICATED)))}shutdown(){}}class cb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class hb{constructor(e){this.t=e,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Yt(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let h=new Ms;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ms,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},y=v=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ms)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Yt(typeof a.accessToken=="string",31837,{l:a}),new i0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Yt(e===null||typeof e=="string",2055,{h:e}),new We(e)}}class fb{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=We.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class db{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new fb(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(We.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Py{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mb{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,KT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Yt(this.o===void 0,3512);const a=h=>{h.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>a(h)))};const o=h=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Py(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Yt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Py(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=gb(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=e.charAt(o[h]%62))}return a}}function Ut(r,e){return r<e?-1:r>e?1:0}function $f(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const o=r.charAt(a),h=e.charAt(a);if(o!==h)return qf(o)===qf(h)?Ut(o,h):qf(o)?1:-1}return Ut(r.length,e.length)}const pb=55296,yb=57343;function qf(r){const e=r.charCodeAt(0);return e>=pb&&e<=yb}function wr(r,e,i){return r.length===e.length&&r.every(((a,o)=>i(a,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="__name__";class vi{constructor(e,i,a){i===void 0?i=0:i>e.length&&bt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&bt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return vi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof vi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const h=vi.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Ut(e.length,i.length)}static compareSegments(e,i){const a=vi.isNumericId(e),o=vi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?vi.extractNumericId(e).compare(vi.extractNumericId(i)):$f(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Os.fromString(e.substring(4,e.length-2))}}class re extends vi{construct(e,i,a){return new re(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new pt($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new re(i)}static emptyPath(){return new re([])}}const _b=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends vi{construct(e,i,a){return new Ke(e,i,a)}static isValidIdentifier(e){return _b.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Hy}static keyField(){return new Ke([Hy])}static fromServerFormat(e){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new pt($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new pt($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new pt($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(a+=y,o++):(h(),o++)}if(h(),d)throw new pt($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ke(i)}static emptyPath(){return new Ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.path=e}static fromPath(e){return new _t(re.fromString(e))}static fromName(e){return new _t(re.fromString(e).popFirst(5))}static empty(){return new _t(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return re.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _t(new re(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(r,e,i){if(!i)throw new pt($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function vb(r,e,i,a){if(e===!0&&a===!0)throw new pt($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Gy(r){if(!_t.isDocumentKey(r))throw new pt($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Qy(r){if(_t.isDocumentKey(r))throw new pt($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function a0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ed(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":bt(12329,{type:typeof r})}function Yi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new pt($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ed(r);throw new pt($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(r,e){const i={typeString:r};return e&&(i.value=e),i}function lo(r,e){if(!a0(r))throw new pt($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,h="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new pt($.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy=-62135596800,Yy=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(e){return le.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*Yy);return new le(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new pt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new pt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Fy)throw new pt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yy}_compareTo(e){return this.seconds===e.seconds?Ut(this.nanoseconds,e.nanoseconds):Ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lo(e,le._jsonSchema))return new le(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Fy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:Ie("string",le._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(e){return new At(e)}static min(){return new At(new le(0,0))}static max(){return new At(new le(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=-1;function Eb(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=At.fromTimestamp(a===1e9?new le(i+1,0):new le(i,a));return new js(o,_t.empty(),e)}function Tb(r){return new js(r.readTime,r.key,eo)}class js{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new js(At.min(),_t.empty(),eo)}static max(){return new js(At.max(),_t.empty(),eo)}}function bb(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=_t.comparator(r.documentKey,e.documentKey),i!==0?i:Ut(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ab{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jr(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==Sb)throw r;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,a)=>{i(e)}))}static reject(e){return new Z(((i,a)=>{a(e)}))}static waitFor(e){return new Z(((i,a)=>{let o=0,h=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++h,d&&h===o&&i()}),(v=>a(v)))})),d=!0,h===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const a of e)i=i.next((o=>o?Z.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,h)=>{a.push(i.call(this,o,h))})),this.waitFor(a)}static mapArray(e,i){return new Z(((a,o)=>{const h=e.length,d=new Array(h);let y=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++y,y===h&&a(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new Z(((a,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):a()};h()}))}}function Cb(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ur(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td=-1;function _c(r){return r==null}function ac(r){return r===0&&1/r==-1/0}function xb(r){return typeof r=="number"&&Number.isInteger(r)&&!ac(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="";function wb(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Ky(e)),e=Rb(r.get(i),e);return Ky(e)}function Rb(r,e){let i=e;const a=r.length;for(let o=0;o<a;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case r0:i+="";break;default:i+=h}}return i}function Ky(r){return r+r0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Ca(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function l0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e,i){this.comparator=e,this.root=i||Ye.EMPTY}insert(e,i){return new de(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(e){return new de(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gu(this.root,e,this.comparator,!0)}}class Gu{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ye{constructor(e,i,a,o,h){this.key=e,this.value=i,this.color=a??Ye.RED,this.left=o??Ye.EMPTY,this.right=h??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,h){return new Ye(e??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const h=a(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Ye.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw bt(27949);return e+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw bt(57766)}get value(){throw bt(16141)}get color(){throw bt(16727)}get left(){throw bt(29726)}get right(){throw bt(36894)}copy(e,i,a,o,h){return this}insert(e,i,a){return new Ye(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.comparator=e,this.data=new de(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Zy(this.data.getIterator())}getIteratorFrom(e){return new Zy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof je)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new je(this.comparator);return i.data=e,i}}class Zy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(Ke.comparator)}static empty(){return new Jn([])}unionWith(e){let i=new je(Ke.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Jn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return wr(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new o0("Invalid base64 string: "+h):h}})(e);return new Xe(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Xe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const Db=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(r){if(Yt(!!r,39018),typeof r=="string"){let e=0;const i=Db.exec(r);if(Yt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ee(r.seconds),nanos:Ee(r.nanos)}}function Ee(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ls(r){return typeof r=="string"?Xe.fromBase64String(r):Xe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="server_timestamp",c0="__type__",h0="__previous_value__",f0="__local_write_time__";function bd(r){return(r?.mapValue?.fields||{})[c0]?.stringValue===u0}function vc(r){const e=r.mapValue.fields[h0];return bd(e)?vc(e):e}function no(r){const e=Us(r.mapValue.fields[f0].timestampValue);return new le(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,i,a,o,h,d,y,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const rc="(default)";class io{constructor(e,i){this.projectId=e,this.database=i||rc}static empty(){return new io("","")}get isDefaultDatabase(){return this.database===rc}isEqual(e){return e instanceof io&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="__type__",Ib="__max__",Qu={mapValue:{}},m0="__vector__",lc="value";function ks(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?bd(r)?4:Ob(r)?9007199254740991:Vb(r)?10:11:bt(28295,{value:r})}function Ci(r,e){if(r===e)return!0;const i=ks(r);if(i!==ks(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return no(r).isEqual(no(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Us(o.timestampValue),y=Us(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,h){return Ls(o.bytesValue).isEqual(Ls(h.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,h){return Ee(o.geoPointValue.latitude)===Ee(h.geoPointValue.latitude)&&Ee(o.geoPointValue.longitude)===Ee(h.geoPointValue.longitude)})(r,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return Ee(o.integerValue)===Ee(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=Ee(o.doubleValue),y=Ee(h.doubleValue);return d===y?ac(d)===ac(y):isNaN(d)&&isNaN(y)}return!1})(r,e);case 9:return wr(r.arrayValue.values||[],e.arrayValue.values||[],Ci);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},y=h.mapValue.fields||{};if(Xy(d)!==Xy(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!Ci(d[v],y[v])))return!1;return!0})(r,e);default:return bt(52216,{left:r})}}function so(r,e){return(r.values||[]).find((i=>Ci(i,e)))!==void 0}function Rr(r,e){if(r===e)return 0;const i=ks(r),a=ks(e);if(i!==a)return Ut(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(r.booleanValue,e.booleanValue);case 2:return(function(h,d){const y=Ee(h.integerValue||h.doubleValue),v=Ee(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(r,e);case 3:return Jy(r.timestampValue,e.timestampValue);case 4:return Jy(no(r),no(e));case 5:return $f(r.stringValue,e.stringValue);case 6:return(function(h,d){const y=Ls(h),v=Ls(d);return y.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(h,d){const y=h.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const A=Ut(y[_],v[_]);if(A!==0)return A}return Ut(y.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(h,d){const y=Ut(Ee(h.latitude),Ee(d.latitude));return y!==0?y:Ut(Ee(h.longitude),Ee(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return $y(r.arrayValue,e.arrayValue);case 10:return(function(h,d){const y=h.fields||{},v=d.fields||{},_=y[lc]?.arrayValue,A=v[lc]?.arrayValue,S=Ut(_?.values?.length||0,A?.values?.length||0);return S!==0?S:$y(_,A)})(r.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Qu.mapValue&&d===Qu.mapValue)return 0;if(h===Qu.mapValue)return 1;if(d===Qu.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let S=0;S<v.length&&S<A.length;++S){const N=$f(v[S],A[S]);if(N!==0)return N;const H=Rr(y[v[S]],_[A[S]]);if(H!==0)return H}return Ut(v.length,A.length)})(r.mapValue,e.mapValue);default:throw bt(23264,{he:i})}}function Jy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ut(r,e);const i=Us(r),a=Us(e),o=Ut(i.seconds,a.seconds);return o!==0?o:Ut(i.nanos,a.nanos)}function $y(r,e){const i=r.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=Rr(i[o],a[o]);if(h)return h}return Ut(i.length,a.length)}function Dr(r){return Wf(r)}function Wf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Us(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Ls(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return _t.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=Wf(h);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of a)h?h=!1:o+=",",o+=`${d}:${Wf(i.fields[d])}`;return o+"}"})(r.mapValue):bt(61005,{value:r})}function Zu(r){switch(ks(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vc(r);return e?16+Zu(e):16;case 5:return 2*r.stringValue.length;case 6:return Ls(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,h)=>o+Zu(h)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Ca(a.fields,((h,d)=>{o+=h.length+Zu(d)})),o})(r.mapValue);default:throw bt(13486,{value:r})}}function td(r){return!!r&&"integerValue"in r}function Sd(r){return!!r&&"arrayValue"in r}function Wy(r){return!!r&&"nullValue"in r}function t_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ju(r){return!!r&&"mapValue"in r}function Vb(r){return(r?.mapValue?.fields||{})[d0]?.stringValue===m0}function Xl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ca(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Xl(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Xl(r.arrayValue.values[i]);return e}return{...r}}function Ob(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Ib}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Ju(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(i)}setAll(e){let i=Ke.emptyPath(),a={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=y.popLast()}d?a[y.lastSegment()]=Xl(d):o.push(y.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(e){const i=this.field(e.popLast());Ju(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ci(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Ju(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Ca(i,((o,h)=>e[o]=h));for(const o of a)delete e[o]}clone(){return new Un(Xl(this.value))}}function g0(r){const e=[];return Ca(r.fields,((i,a)=>{const o=new Ke([i]);if(Ju(a)){const h=g0(a.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,i,a,o,h,d,y){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(e){return new tn(e,0,At.min(),At.min(),At.min(),Un.empty(),0)}static newFoundDocument(e,i,a,o){return new tn(e,1,i,At.min(),a,o,0)}static newNoDocument(e,i){return new tn(e,2,i,At.min(),At.min(),Un.empty(),0)}static newUnknownDocument(e,i){return new tn(e,3,i,At.min(),At.min(),Un.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,i){this.position=e,this.inclusive=i}}function e_(r,e,i){let a=0;for(let o=0;o<r.position.length;o++){const h=e[o],d=r.position[o];if(h.field.isKeyField()?a=_t.comparator(_t.fromName(d.referenceValue),i.key):a=Rr(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function n_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ci(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,i="asc"){this.field=e,this.dir=i}}function Mb(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{}class Me extends p0{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new jb(e,i,a):i==="array-contains"?new kb(e,a):i==="in"?new Bb(e,a):i==="not-in"?new qb(e,a):i==="array-contains-any"?new Pb(e,a):new Me(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new Ub(e,a):new Lb(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Rr(i,this.value)):i!==null&&ks(this.value)===ks(i)&&this.matchesComparison(Rr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xi extends p0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new xi(e,i)}matches(e){return y0(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function y0(r){return r.op==="and"}function _0(r){return zb(r)&&y0(r)}function zb(r){for(const e of r.filters)if(e instanceof xi)return!1;return!0}function ed(r){if(r instanceof Me)return r.field.canonicalString()+r.op.toString()+Dr(r.value);if(_0(r))return r.filters.map((e=>ed(e))).join(",");{const e=r.filters.map((i=>ed(i))).join(",");return`${r.op}(${e})`}}function v0(r,e){return r instanceof Me?(function(a,o){return o instanceof Me&&a.op===o.op&&a.field.isEqual(o.field)&&Ci(a.value,o.value)})(r,e):r instanceof xi?(function(a,o){return o instanceof xi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((h,d,y)=>h&&v0(d,o.filters[y])),!0):!1})(r,e):void bt(19439)}function E0(r){return r instanceof Me?(function(i){return`${i.field.canonicalString()} ${i.op} ${Dr(i.value)}`})(r):r instanceof xi?(function(i){return i.op.toString()+" {"+i.getFilters().map(E0).join(" ,")+"}"})(r):"Filter"}class jb extends Me{constructor(e,i,a){super(e,i,a),this.key=_t.fromName(a.referenceValue)}matches(e){const i=_t.comparator(e.key,this.key);return this.matchesComparison(i)}}class Ub extends Me{constructor(e,i){super(e,"in",i),this.keys=T0("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Lb extends Me{constructor(e,i){super(e,"not-in",i),this.keys=T0("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function T0(r,e){return(e.arrayValue?.values||[]).map((i=>_t.fromName(i.referenceValue)))}class kb extends Me{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Sd(i)&&so(i.arrayValue,this.value)}}class Bb extends Me{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&so(this.value.arrayValue,i)}}class qb extends Me{constructor(e,i){super(e,"not-in",i)}matches(e){if(so(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!so(this.value.arrayValue,i)}}class Pb extends Me{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Sd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>so(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,i=null,a=[],o=[],h=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function i_(r,e=null,i=[],a=[],o=null,h=null,d=null){return new Hb(r,e,i,a,o,h,d)}function Ad(r){const e=xt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>ed(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),_c(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Dr(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Dr(a))).join(",")),e.Te=i}return e.Te}function Cd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Mb(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!v0(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!n_(r.startAt,e.startAt)&&n_(r.endAt,e.endAt)}function nd(r){return _t.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,i=null,a=[],o=[],h=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Gb(r,e,i,a,o,h,d,y){return new Ec(r,e,i,a,o,h,d,y)}function xd(r){return new Ec(r)}function s_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Qb(r){return r.collectionGroup!==null}function Zl(r){const e=xt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new je(Ke.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new uc(h,a))})),i.has(Ke.keyField().canonicalString())||e.Ie.push(new uc(Ke.keyField(),a))}return e.Ie}function Ei(r){const e=xt(r);return e.Ee||(e.Ee=Fb(e,Zl(r))),e.Ee}function Fb(r,e){if(r.limitType==="F")return i_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new uc(o.field,h)}));const i=r.endAt?new oc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new oc(r.startAt.position,r.startAt.inclusive):null;return i_(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function id(r,e,i){return new Ec(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Tc(r,e){return Cd(Ei(r),Ei(e))&&r.limitType===e.limitType}function b0(r){return`${Ad(Ei(r))}|lt:${r.limitType}`}function vr(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>E0(o))).join(", ")}]`),_c(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Dr(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Dr(o))).join(",")),`Target(${a})`})(Ei(r))}; limitType=${r.limitType})`}function bc(r,e){return e.isFoundDocument()&&(function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):_t.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(r,e)&&(function(a,o){for(const h of Zl(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(d,y,v){const _=e_(d,y,v);return d.inclusive?_<=0:_<0})(a.startAt,Zl(a),o)||a.endAt&&!(function(d,y,v){const _=e_(d,y,v);return d.inclusive?_>=0:_>0})(a.endAt,Zl(a),o))})(r,e)}function Yb(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function S0(r){return(e,i)=>{let a=!1;for(const o of Zl(r)){const h=Kb(o,e,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function Kb(r,e,i){const a=r.field.isKeyField()?_t.comparator(e.key,i.key):(function(h,d,y){const v=d.data.field(h),_=y.data.field(h);return v!==null&&_!==null?Rr(v,_):bt(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return bt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ca(this.inner,((i,a)=>{for(const[o,h]of a)e(o,h)}))}isEmpty(){return l0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=new de(_t.comparator);function Zi(){return Xb}const A0=new de(_t.comparator);function Ql(...r){let e=A0;for(const i of r)e=e.insert(i.key,i);return e}function C0(r){let e=A0;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function va(){return Jl()}function x0(){return Jl()}function Jl(){return new xa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const Zb=new de(_t.comparator),Jb=new je(_t.comparator);function Lt(...r){let e=Jb;for(const i of r)e=e.add(i);return e}const $b=new je(Ut);function Wb(){return $b}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ac(e)?"-0":e}}function w0(r){return{integerValue:""+r}}function tS(r,e){return xb(e)?w0(e):wd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(){this._=void 0}}function eS(r,e,i){return r instanceof cc?(function(o,h){const d={fields:{[c0]:{stringValue:u0},[f0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&bd(h)&&(h=vc(h)),h&&(d.fields[h0]=h),{mapValue:d}})(i,e):r instanceof ao?D0(r,e):r instanceof ro?N0(r,e):(function(o,h){const d=R0(o,h),y=a_(d)+a_(o.Ae);return td(d)&&td(o.Ae)?w0(y):wd(o.serializer,y)})(r,e)}function nS(r,e,i){return r instanceof ao?D0(r,e):r instanceof ro?N0(r,e):i}function R0(r,e){return r instanceof hc?(function(a){return td(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(e)?e:{integerValue:0}:null}class cc extends Sc{}class ao extends Sc{constructor(e){super(),this.elements=e}}function D0(r,e){const i=I0(e);for(const a of r.elements)i.some((o=>Ci(o,a)))||i.push(a);return{arrayValue:{values:i}}}class ro extends Sc{constructor(e){super(),this.elements=e}}function N0(r,e){let i=I0(e);for(const a of r.elements)i=i.filter((o=>!Ci(o,a)));return{arrayValue:{values:i}}}class hc extends Sc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function a_(r){return Ee(r.integerValue||r.doubleValue)}function I0(r){return Sd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function iS(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof ao&&o instanceof ao||a instanceof ro&&o instanceof ro?wr(a.elements,o.elements,Ci):a instanceof hc&&o instanceof hc?Ci(a.Ae,o.Ae):a instanceof cc&&o instanceof cc})(r.transform,e.transform)}class sS{constructor(e,i){this.version=e,this.transformResults=i}}class Ti{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ti}static exists(e){return new Ti(void 0,e)}static updateTime(e){return new Ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $u(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ac{}function V0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Rd(r.key,Ti.none()):new oo(r.key,r.data,Ti.none());{const i=r.data,a=Un.empty();let o=new je(Ke.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),o=o.add(h)}return new wa(r.key,a,new Jn(o.toArray()),Ti.none())}}function aS(r,e,i){r instanceof oo?(function(o,h,d){const y=o.value.clone(),v=l_(o.fieldTransforms,h,d.transformResults);y.setAll(v),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):r instanceof wa?(function(o,h,d){if(!$u(o.precondition,h))return void h.convertToUnknownDocument(d.version);const y=l_(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(O0(o)),v.setAll(y),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function $l(r,e,i,a){return r instanceof oo?(function(h,d,y,v){if(!$u(h.precondition,d))return y;const _=h.value.clone(),A=o_(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,a):r instanceof wa?(function(h,d,y,v){if(!$u(h.precondition,d))return y;const _=o_(h.fieldTransforms,v,d),A=d.data;return A.setAll(O0(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((S=>S.field)))})(r,e,i,a):(function(h,d,y){return $u(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,e,i)}function rS(r,e){let i=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),h=R0(a.transform,o||null);h!=null&&(i===null&&(i=Un.empty()),i.set(a.field,h))}return i||null}function r_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&wr(a,o,((h,d)=>iS(h,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class oo extends Ac{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class wa extends Ac{constructor(e,i,a,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function O0(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function l_(r,e,i){const a=new Map;Yt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,y=e.data.field(h.field);a.set(h.field,nS(d,y,i[o]))}return a}function o_(r,e,i){const a=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);a.set(o.field,eS(h,d,e))}return a}class Rd extends Ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lS extends Ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&aS(h,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=$l(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=$l(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=x0();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(o.key)?null:y;const v=V0(d,y);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(At.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Lt())}isEqual(e){return this.batchId===e.batchId&&wr(this.mutations,e.mutations,((i,a)=>r_(i,a)))&&wr(this.baseMutations,e.baseMutations,((i,a)=>r_(i,a)))}}class Dd{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){Yt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return Zb})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,a[d].version);return new Dd(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne,qt;function hS(r){switch(r){case $.OK:return bt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return bt(15467,{code:r})}}function M0(r){if(r===void 0)return Xi("GRPC error has no .code"),$.UNKNOWN;switch(r){case Ne.OK:return $.OK;case Ne.CANCELLED:return $.CANCELLED;case Ne.UNKNOWN:return $.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return $.INTERNAL;case Ne.UNAVAILABLE:return $.UNAVAILABLE;case Ne.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ne.NOT_FOUND:return $.NOT_FOUND;case Ne.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ne.ABORTED:return $.ABORTED;case Ne.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ne.DATA_LOSS:return $.DATA_LOSS;default:return bt(39323,{code:r})}}(qt=Ne||(Ne={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=new Os([4294967295,4294967295],0);function u_(r){const e=fS().encode(r),i=new Z_;return i.update(e),new Uint8Array(i.digest())}function c_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Os([i,a],0),new Os([o,h],0)]}class Nd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Fl(`Invalid padding: ${i}`);if(a<0)throw new Fl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Os.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(Os.fromNumber(a)));return o.compare(dS)===1&&(o=new Os([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=u_(e),[a,o]=c_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,o,h);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Nd(h,o,i);return a.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=u_(e),[a,o]=c_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,i,a,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,uo.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Cc(At.min(),o,new de(Ut),Zi(),Lt())}}class uo{constructor(e,i,a,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new uo(a,i,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class z0{constructor(e,i){this.targetId=e,this.Ce=i}}class j0{constructor(e,i,a=Xe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class h_{constructor(){this.ve=0,this.Fe=f_(),this.Me=Xe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Lt(),i=Lt(),a=Lt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:bt(38017,{changeType:h})}})),new uo(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=f_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class mS{constructor(e){this.Ge=e,this.ze=new Map,this.je=Zi(),this.Je=Fu(),this.He=Fu(),this.Ye=new de(Ut)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:bt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(nd(h))if(a===0){const d=new _t(h.path);this.et(i,d,tn.newNoDocument(d,At.min()))}else Yt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:h=0}=i;let d,y;try{d=Ls(a).toUint8Array()}catch(v){if(v instanceof o0)return xr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new Nd(d,o,h)}catch(v){return xr(v instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&nd(y.target)){const v=new _t(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,tn.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let a=Lt();this.He.forEach(((h,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Cc(e,i,this.Ye,this.je,a);return this.je=Zi(),this.Je=Fu(),this.He=Fu(),this.Ye=new de(Ut),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new h_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new je(Ut),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new je(Ut),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new h_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Fu(){return new de(_t.comparator)}function f_(){return new de(_t.comparator)}const gS={asc:"ASCENDING",desc:"DESCENDING"},pS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yS={and:"AND",or:"OR"};class _S{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function sd(r,e){return r.useProto3Json||_c(e)?e:{value:e}}function fc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function U0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function vS(r,e){return fc(r,e.toTimestamp())}function bi(r){return Yt(!!r,49232),At.fromTimestamp((function(i){const a=Us(i);return new le(a.seconds,a.nanos)})(r))}function Id(r,e){return ad(r,e).canonicalString()}function ad(r,e){const i=(function(o){return new re(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function L0(r){const e=re.fromString(r);return Yt(H0(e),10190,{key:e.toString()}),e}function rd(r,e){return Id(r.databaseId,e.path)}function Pf(r,e){const i=L0(e);if(i.get(1)!==r.databaseId.projectId)throw new pt($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new pt($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new _t(B0(i))}function k0(r,e){return Id(r.databaseId,e)}function ES(r){const e=L0(r);return e.length===4?re.emptyPath():B0(e)}function ld(r){return new re(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function B0(r){return Yt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function d_(r,e,i){return{name:rd(r,e),fields:i.value.mapValue.fields}}function TS(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:bt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(Yt(A===void 0||typeof A=="string",58123),Xe.fromBase64String(A||"")):(Yt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Xe.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const A=_.code===void 0?$.UNKNOWN:M0(_.code);return new pt(A,_.message||"")})(d);i=new j0(a,o,h,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Pf(r,a.document.name),h=bi(a.document.updateTime),d=a.document.createTime?bi(a.document.createTime):At.min(),y=new Un({mapValue:{fields:a.document.fields}}),v=tn.newFoundDocument(o,h,d,y),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Wu(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Pf(r,a.document),h=a.readTime?bi(a.readTime):At.min(),d=tn.newNoDocument(o,h),y=a.removedTargetIds||[];i=new Wu([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Pf(r,a.document),h=a.removedTargetIds||[];i=new Wu([],h,o,null)}else{if(!("filter"in e))return bt(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:h}=a,d=new cS(o,h),y=a.targetId;i=new z0(y,d)}}return i}function bS(r,e){let i;if(e instanceof oo)i={update:d_(r,e.key,e.value)};else if(e instanceof Rd)i={delete:rd(r,e.key)};else if(e instanceof wa)i={update:d_(r,e.key,e.data),updateMask:IS(e.fieldMask)};else{if(!(e instanceof lS))return bt(16599,{Vt:e.type});i={verify:rd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(h,d){const y=d.transform;if(y instanceof cc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof ao)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof ro)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof hc)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw bt(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:vS(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:bt(27497)})(r,e.precondition)),i}function SS(r,e){return r&&r.length>0?(Yt(e!==void 0,14353),r.map((i=>(function(o,h){let d=o.updateTime?bi(o.updateTime):bi(h);return d.isEqual(At.min())&&(d=bi(h)),new sS(d,o.transformResults||[])})(i,e)))):[]}function AS(r,e){return{documents:[k0(r,e.path)]}}function CS(r,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=k0(r,o);const h=(function(_){if(_.length!==0)return P0(xi.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(N){return{field:Er(N.field),direction:RS(N.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=sd(r,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function xS(r){let e=ES(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Yt(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(S){const N=q0(S);return N instanceof xi&&_0(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((N=>(function(J){return new uc(Tr(J.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(N)))})(i.orderBy));let y=null;i.limit&&(y=(function(S){let N;return N=typeof S=="object"?S.value:S,_c(N)?null:N})(i.limit));let v=null;i.startAt&&(v=(function(S){const N=!!S.before,H=S.values||[];return new oc(H,N)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const N=!S.before,H=S.values||[];return new oc(H,N)})(i.endAt)),Gb(e,o,d,h,y,"F",v,_)}function wS(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function q0(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Tr(i.unaryFilter.field);return Me.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Tr(i.unaryFilter.field);return Me.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Tr(i.unaryFilter.field);return Me.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Tr(i.unaryFilter.field);return Me.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bt(61313);default:return bt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Me.create(Tr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bt(58110);default:return bt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return xi.create(i.compositeFilter.filters.map((a=>q0(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return bt(1026)}})(i.compositeFilter.op))})(r):bt(30097,{filter:r})}function RS(r){return gS[r]}function DS(r){return pS[r]}function NS(r){return yS[r]}function Er(r){return{fieldPath:r.canonicalString()}}function Tr(r){return Ke.fromServerFormat(r.fieldPath)}function P0(r){return r instanceof Me?(function(i){if(i.op==="=="){if(t_(i.value))return{unaryFilter:{field:Er(i.field),op:"IS_NAN"}};if(Wy(i.value))return{unaryFilter:{field:Er(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(t_(i.value))return{unaryFilter:{field:Er(i.field),op:"IS_NOT_NAN"}};if(Wy(i.value))return{unaryFilter:{field:Er(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Er(i.field),op:DS(i.op),value:i.value}}})(r):r instanceof xi?(function(i){const a=i.getFilters().map((o=>P0(o)));return a.length===1?a[0]:{compositeFilter:{op:NS(i.op),filters:a}}})(r):bt(54877,{filter:r})}function IS(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function H0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,i,a,o,h=At.min(),d=At.min(),y=Xe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new Ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.yt=e}}function OS(r){const e=xS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?id(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.Cn=new zS}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(js.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(js.min())}updateCollectionGroup(e,i,a){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class zS{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new je(re.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new je(re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},G0=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(G0,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Nr(0)}static cr(){return new Nr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="LruGarbageCollector",jS=1048576;function p_([r,e],[i,a]){const o=Ut(r,i);return o===0?Ut(e,a):o}class US{constructor(e){this.Ir=e,this.buffer=new je(p_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();p_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class LS{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ot(g_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ur(i)?ot(g_,"Ignoring IndexedDB error during garbage collection: ",i):await jr(i)}await this.Vr(3e5)}))}}class kS{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(yc.ce);const a=new US(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(m_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),m_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,h,d,y,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(a=S,y=Date.now(),this.removeTargets(e,a,i)))).next((S=>(h=S,v=Date.now(),this.removeOrphanedDocuments(e,a)))).next((S=>(_=Date.now(),_r()<=Pt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${S} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:S}))))}}function BS(r,e){return new kS(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(){this.changes=new xa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&$l(a.mutation,o,Jn.empty(),le.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Lt()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Lt()){const o=va();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((h=>{let d=Ql();return h.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=va();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Lt())))}populateOverlays(e,i,a){const o=[];return a.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,a,o){let h=Zi();const d=Jl(),y=(function(){return Jl()})();return i.forEach(((v,_)=>{const A=a.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof wa)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),$l(A.mutation,_,A.mutation.getFieldMask(),le.now())):d.set(_.key,Jn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>y.set(_,new PS(A,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const a=Jl();let o=new de(((d,y)=>d-y)),h=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=a.get(v)||Jn.empty();A=y.applyToLocalView(_,A),a.set(v,A);const S=(o.get(y.batchId)||Lt()).add(v);o=o.insert(y.batchId,S)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,A=v.value,S=x0();A.forEach((N=>{if(!h.has(N)){const H=V0(i.get(N),a.get(N));H!==null&&S.set(N,H),h=h.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,S))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return _t.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Qb(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-h.size):Z.resolve(va());let y=eo,v=h;return d.next((_=>Z.forEach(_,((A,S)=>(y<S.largestBatchId&&(y=S.largestBatchId),h.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(e,A).next((N=>{v=v.insert(A,N)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,Lt()))).next((A=>({batchId:y,changes:C0(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new _t(i)).next((a=>{let o=Ql();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const h=i.collectionGroup;let d=Ql();return this.indexManager.getCollectionParents(e,h).next((y=>Z.forEach(y,(v=>{const _=(function(S,N){return new Ec(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((A=>{A.forEach(((S,N)=>{d=d.insert(S,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,o)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,tn.newInvalidDocument(A)))}));let y=Ql();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&$l(A.mutation,_,Jn.empty(),le.now()),bc(i,_)&&(y=y.insert(v,_))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:bi(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:OS(o.bundledQuery),readTime:bi(o.readTime)}})(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(){this.overlays=new de(_t.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const a=va();return Z.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&a.set(o,h)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,h)=>{this.St(e,i,h)})),Z.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(e,i,a){const o=va(),h=i.length+1,d=new _t(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>a&&o.set(v.getKey(),v)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let h=new de(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=h.get(_.largestBatchId);A===null&&(A=va(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=va(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>y.set(_,A))),!(y.size()>=o)););return Z.resolve(y)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new uS(i,a));let h=this.qr.get(i);h===void 0&&(h=Lt(),this.qr.set(i,h)),this.qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(){this.Qr=new je(Be.$r),this.Ur=new je(Be.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Be(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Be(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new _t(new re([])),a=new Be(i,e),o=new Be(i,e+1),h=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new _t(new re([])),a=new Be(i,e),o=new Be(i,e+1);let h=Lt();return this.Ur.forEachInRange([a,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Be(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Be{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return _t.comparator(e.key,i.key)||Ut(e.Yr,i.Yr)}static Kr(e,i){return Ut(e.Yr,i.Yr)||_t.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new je(Be.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new oS(h,i,a,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new Be(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),h=o<0?0:o;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Td:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Be(i,0),o=new Be(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,o],(d=>{const y=this.Xr(d.Yr);h.push(y)})),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new je(Ut);return i.forEach((o=>{const h=new Be(o,0),d=new Be(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(y=>{a=a.add(y.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let h=a;_t.isDocumentKey(h)||(h=h.child(""));const d=new Be(new _t(h),0);let y=new je(Ut);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(y=y.add(v.Yr)),!0)}),d),Z.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Yt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(o=>{const h=new Be(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Be(i,0),o=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.ri=e,this.docs=(function(){return new de(_t.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():tn.newInvalidDocument(i))}getEntries(e,i){let a=Zi();return i.forEach((o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():tn.newInvalidDocument(o))})),Z.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let h=Zi();const d=i.path,y=new _t(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||bb(Tb(A),a)<=0||(o.has(A.key)||bc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(e,i,a,o){bt(9500)}ii(e,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new XS(this)}getSize(e){return Z.resolve(this.size)}}class XS extends qS{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e){this.persistence=e,this.si=new xa((i=>Ad(i)),Cd),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new Vd,this.targetCount=0,this.ai=Nr.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Nr(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,a){let o=0;const h=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),Z.waitFor(h).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,i){this.ui={},this.overlays={},this.ci=new yc(0),this.li=!1,this.li=!0,this.hi=new FS,this.referenceDelegate=e(this),this.Pi=new ZS(this),this.indexManager=new MS,this.remoteDocumentCache=(function(o){return new KS(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new VS(i),this.Ii=new GS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new QS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new YS(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){ot("MemoryPersistence","Starting transaction:",e);const o=new JS(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class JS extends Ab{constructor(e){super(),this.currentSequenceNumber=e}}class Od{constructor(e){this.persistence=e,this.Ri=new Vd,this.Vi=null}static mi(e){return new Od(e)}get fi(){if(this.Vi)return this.Vi;throw bt(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const o=_t.fromPath(a);return this.gi(e,o).next((h=>{h||i.removeEntry(o,At.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class dc{constructor(e,i){this.persistence=e,this.pi=new xa((a=>wb(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=BS(this,i)}static mi(e,i){return new dc(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((a,o)=>this.br(e,a,o).next((h=>h?Z.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((y=>{y||(a++,h.removeEntry(d,At.min()))})))).next((()=>h.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Zu(e.data.value)),i}br(e,i,a){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=Lt(),o=Lt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Md(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return QE()?8:Cb(HE())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,a).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new $S;return this.Ss(e,i,d).next((y=>{if(h.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>h.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(_r()<=Pt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",vr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(_r()<=Pt.DEBUG&&ot("QueryEngine","Query:",vr(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(_r()<=Pt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",vr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ei(i))):Z.resolve())}ys(e,i){if(s_(i))return Z.resolve(null);let a=Ei(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=id(i,null,"F"),a=Ei(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((h=>{const d=Lt(...h);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,a).next((v=>{const _=this.Ds(i,y);return this.Cs(i,_,d,v.readTime)?this.ys(e,id(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,a,o){return s_(i)||o.isEqual(At.min())?Z.resolve(null):this.ps.getDocuments(e,a).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,a,o)?Z.resolve(null):(_r()<=Pt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),vr(i)),this.vs(e,d,i,Eb(o,eo)).next((y=>y)))}))}Ds(e,i){let a=new je(S0(e));return i.forEach(((o,h)=>{bc(e,h)&&(a=a.add(h))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,a){return _r()<=Pt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",vr(i)),this.ps.getDocumentsMatchingQuery(e,i,js.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="LocalStore",tA=3e8;class eA{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new de(Ut),this.xs=new xa((h=>Ad(h)),Cd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function nA(r,e,i,a){return new eA(r,e,i,a)}async function F0(r,e){const i=xt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((h=>{const d=[],y=[];let v=Lt();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){y.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function iA(r,e){const i=xt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,A){const S=_.batch,N=S.keys();let H=Z.resolve();return N.forEach((J=>{H=H.next((()=>A.getEntry(v,J))).next((et=>{const tt=_.docVersions.get(J);Yt(tt!==null,48541),et.version.compareTo(tt)<0&&(S.applyToRemoteDocument(et,_),et.isValidDocument()&&(et.setReadTime(_.commitVersion),A.addEntry(et)))}))})),H.next((()=>y.mutationQueue.removeMutationBatch(v,S)))})(i,a,e,h).next((()=>h.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let v=Lt();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function Y0(r){const e=xt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function sA(r,e){const i=xt(r),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const y=[];e.targetChanges.forEach(((A,S)=>{const N=o.get(S);if(!N)return;y.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,S))));let H=N.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(S)!==null?H=H.withResumeToken(Xe.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,a)),o=o.insert(S,H),(function(et,tt,ht){return et.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=tA?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(N,H,A)&&y.push(i.Pi.updateTargetData(h,H))}));let v=Zi(),_=Lt();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),y.push(aA(h,d,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!a.isEqual(At.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((S=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,a)));y.push(A)}return Z.waitFor(y).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=o,h)))}function aA(r,e,i){let a=Lt(),o=Lt();return i.forEach((h=>a=a.add(h))),e.getEntries(r,a).next((h=>{let d=Zi();return i.forEach(((y,v)=>{const _=h.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(At.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):ot(zd,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function rA(r,e){const i=xt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Td),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function lA(r,e){const i=xt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((h=>h?(o=h,Z.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new Ns(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function od(r,e,i){const a=xt(r),o=a.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Ur(d))throw d;ot(zd,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function y_(r,e,i){const a=xt(r);let o=At.min(),h=Lt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const S=xt(v),N=S.xs.get(A);return N!==void 0?Z.resolve(S.Ms.get(N)):S.Pi.getTargetData(_,A)})(a,d,Ei(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{h=v}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:At.min(),i?h:Lt()))).next((y=>(oA(a,Yb(e),y),{documents:y,Qs:h})))))}function oA(r,e,i){let a=r.Os.get(e)||At.min();i.forEach(((o,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)})),r.Os.set(e,a)}class __{constructor(){this.activeTargetIds=Wb()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uA{constructor(){this.Mo=new __,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new __,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="ConnectivityMonitor";class E_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(v_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ot(v_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yu=null;function ud(){return Yu===null?Yu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yu++,"0x"+Yu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf="RestConnection",hA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fA{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===rc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,h){const d=ud(),y=this.zo(e,i.toUriEncodedString());ot(Hf,`Sending RPC '${e}' ${d}:`,y,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:_}=new URL(y),A=pd(_);return this.Jo(e,y,v,a,A).then((S=>(ot(Hf,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw xr(Hf,`RPC '${e}' ${d} failed with error: `,S,"url: ",y,"request:",a),S}))}Ho(e,i,a,o,h,d){return this.Go(e,i,a,o,h)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),a&&a.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const a=hA[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $e="WebChannelConnection";class mA extends fA{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,h){const d=ud();return new Promise(((y,v)=>{const _=new J_;_.setWithCredentials(!0),_.listenOnce($_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Xu.NO_ERROR:const S=_.getResponseJson();ot($e,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),y(S);break;case Xu.TIMEOUT:ot($e,`RPC '${e}' ${d} timed out`),v(new pt($.DEADLINE_EXCEEDED,"Request time out"));break;case Xu.HTTP_ERROR:const N=_.getStatus();if(ot($e,`RPC '${e}' ${d} failed with status:`,N,"response text:",_.getResponseText()),N>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const J=H?.error;if(J&&J.status&&J.message){const et=(function(ht){const vt=ht.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(vt)>=0?vt:$.UNKNOWN})(J.status);v(new pt(et,J.message))}else v(new pt($.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new pt($.UNAVAILABLE,"Connection failed."));break;default:bt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ot($e,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);ot($e,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,a,15)}))}T_(e,i,a){const o=ud(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=e0(),y=t0(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const A=h.join("");ot($e,`Creating RPC '${e}' stream ${o}: ${A}`,v);const S=d.createWebChannel(A,v);this.I_(S);let N=!1,H=!1;const J=new dA({Yo:tt=>{H?ot($e,`Not sending because RPC '${e}' stream ${o} is closed:`,tt):(N||(ot($e,`Opening RPC '${e}' stream ${o} transport.`),S.open(),N=!0),ot($e,`RPC '${e}' stream ${o} sending:`,tt),S.send(tt))},Zo:()=>S.close()}),et=(tt,ht,vt)=>{tt.listen(ht,(ft=>{try{vt(ft)}catch(W){setTimeout((()=>{throw W}),0)}}))};return et(S,Gl.EventType.OPEN,(()=>{H||(ot($e,`RPC '${e}' stream ${o} transport opened.`),J.o_())})),et(S,Gl.EventType.CLOSE,(()=>{H||(H=!0,ot($e,`RPC '${e}' stream ${o} transport closed`),J.a_(),this.E_(S))})),et(S,Gl.EventType.ERROR,(tt=>{H||(H=!0,xr($e,`RPC '${e}' stream ${o} transport errored. Name:`,tt.name,"Message:",tt.message),J.a_(new pt($.UNAVAILABLE,"The operation could not be completed")))})),et(S,Gl.EventType.MESSAGE,(tt=>{if(!H){const ht=tt.data[0];Yt(!!ht,16349);const vt=ht,ft=vt?.error||vt[0]?.error;if(ft){ot($e,`RPC '${e}' stream ${o} received error:`,ft);const W=ft.status;let nt=(function(b){const w=Ne[b];if(w!==void 0)return M0(w)})(W),ut=ft.message;nt===void 0&&(nt=$.INTERNAL,ut="Unknown error status: "+W+" with message "+ft.message),H=!0,J.a_(new pt(nt,ut)),S.close()}else ot($e,`RPC '${e}' stream ${o} received:`,ht),J.u_(ht)}})),et(y,W_.STAT_EVENT,(tt=>{tt.stat===Jf.PROXY?ot($e,`RPC '${e}' stream ${o} detected buffering proxy`):tt.stat===Jf.NOPROXY&&ot($e,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Gf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(r){return new _S(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,i,a=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="PersistentStream";class X0{constructor(e,i,a,o,h,d,y,v){this.Mi=e,this.S_=a,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new K0(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(Xi(i.toString()),Xi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new pt($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ot(T_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ot(T_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gA extends X0{constructor(e,i,a,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=TS(this.serializer,e),a=(function(h){if(!("targetChange"in h))return At.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?bi(d.readTime):At.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=ld(this.serializer),i.addTarget=(function(h,d){let y;const v=d.target;if(y=nd(v)?{documents:AS(h,v)}:{query:CS(h,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=U0(h,d.resumeToken);const _=sd(h,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(At.min())>0){y.readTime=fc(h,d.snapshotVersion.toTimestamp());const _=sd(h,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const a=wS(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=ld(this.serializer),i.removeTarget=e,this.q_(i)}}class pA extends X0{constructor(e,i,a,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Yt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Yt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Yt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=SS(e.writeResults,e.commitTime),a=bi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=ld(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>bS(this.serializer,a)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{}class _A extends yA{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pt($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,ad(i,a),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new pt($.UNKNOWN,h.toString())}))}Ho(e,i,a,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,ad(i,a),o,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new pt($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class vA{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xi(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="RemoteStore";class EA{constructor(e,i,a,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Ra(this)&&(ot(Sa,"Restarting streams for network reachability change."),await(async function(v){const _=xt(v);_.Ea.add(4),await co(_),_.Ra.set("Unknown"),_.Ea.delete(4),await wc(_)})(this))}))})),this.Ra=new vA(a,o)}}async function wc(r){if(Ra(r))for(const e of r.da)await e(!0)}async function co(r){for(const e of r.da)await e(!1)}function Z0(r,e){const i=xt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),kd(i)?Ld(i):Lr(i).O_()&&Ud(i,e))}function jd(r,e){const i=xt(r),a=Lr(i);i.Ia.delete(e),a.O_()&&J0(i,e),i.Ia.size===0&&(a.O_()?a.L_():Ra(i)&&i.Ra.set("Unknown"))}function Ud(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(At.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Lr(r).Y_(e)}function J0(r,e){r.Va.Ue(e),Lr(r).Z_(e)}function Ld(r){r.Va=new mS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Lr(r).start(),r.Ra.ua()}function kd(r){return Ra(r)&&!Lr(r).x_()&&r.Ia.size>0}function Ra(r){return xt(r).Ea.size===0}function $0(r){r.Va=void 0}async function TA(r){r.Ra.set("Online")}async function bA(r){r.Ia.forEach(((e,i)=>{Ud(r,e)}))}async function SA(r,e){$0(r),kd(r)?(r.Ra.ha(e),Ld(r)):r.Ra.set("Unknown")}async function AA(r,e,i){if(r.Ra.set("Online"),e instanceof j0&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const y of h.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.Va.removeTarget(y))})(r,e)}catch(a){ot(Sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await mc(r,a)}else if(e instanceof Wu?r.Va.Ze(e):e instanceof z0?r.Va.st(e):r.Va.tt(e),!i.isEqual(At.min()))try{const a=await Y0(r.localStore);i.compareTo(a)>=0&&await(function(h,d){const y=h.Va.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(Xe.EMPTY_BYTE_STRING,A.snapshotVersion)),J0(h,v);const S=new Ns(A.target,v,_,A.sequenceNumber);Ud(h,S)})),h.remoteSyncer.applyRemoteEvent(y)})(r,i)}catch(a){ot(Sa,"Failed to raise snapshot:",a),await mc(r,a)}}async function mc(r,e,i){if(!Ur(e))throw e;r.Ea.add(1),await co(r),r.Ra.set("Offline"),i||(i=()=>Y0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ot(Sa,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await wc(r)}))}function W0(r,e){return e().catch((i=>mc(r,i,e)))}async function Rc(r){const e=xt(r),i=Bs(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Td;for(;CA(e);)try{const o=await rA(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,xA(e,o)}catch(o){await mc(e,o)}tv(e)&&ev(e)}function CA(r){return Ra(r)&&r.Ta.length<10}function xA(r,e){r.Ta.push(e);const i=Bs(r);i.O_()&&i.X_&&i.ea(e.mutations)}function tv(r){return Ra(r)&&!Bs(r).x_()&&r.Ta.length>0}function ev(r){Bs(r).start()}async function wA(r){Bs(r).ra()}async function RA(r){const e=Bs(r);for(const i of r.Ta)e.ea(i.mutations)}async function DA(r,e,i){const a=r.Ta.shift(),o=Dd.from(a,e,i);await W0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Rc(r)}async function NA(r,e){e&&Bs(r).X_&&await(async function(a,o){if((function(d){return hS(d)&&d!==$.ABORTED})(o.code)){const h=a.Ta.shift();Bs(a).B_(),await W0(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Rc(a)}})(r,e),tv(r)&&ev(r)}async function b_(r,e){const i=xt(r);i.asyncQueue.verifyOperationInProgress(),ot(Sa,"RemoteStore received new credentials");const a=Ra(i);i.Ea.add(3),await co(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await wc(i)}async function IA(r,e){const i=xt(r);e?(i.Ea.delete(2),await wc(i)):e||(i.Ea.add(2),await co(i),i.Ra.set("Unknown"))}function Lr(r){return r.ma||(r.ma=(function(i,a,o){const h=xt(i);return h.sa(),new gA(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:TA.bind(null,r),t_:bA.bind(null,r),r_:SA.bind(null,r),H_:AA.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),kd(r)?Ld(r):r.Ra.set("Unknown")):(await r.ma.stop(),$0(r))}))),r.ma}function Bs(r){return r.fa||(r.fa=(function(i,a,o){const h=xt(i);return h.sa(),new pA(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:wA.bind(null,r),r_:NA.bind(null,r),ta:RA.bind(null,r),na:DA.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Rc(r)):(await r.fa.stop(),r.Ta.length>0&&(ot(Sa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,i,a,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new Ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,h){const d=Date.now()+a,y=new Bd(e,i,d,o,h);return y.start(a),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qd(r,e){if(Xi("AsyncQueue",`${e}: ${r}`),Ur(r))return new pt($.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{static emptySet(e){return new Ar(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||_t.comparator(i.key,a.key):(i,a)=>_t.comparator(i.key,a.key),this.keyedMap=Ql(),this.sortedSet=new de(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ar)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Ar;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(){this.ga=new de(_t.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):bt(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class Ir{constructor(e,i,a,o,h,d,y,v,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,h){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Ir(e,i,Ar.emptySet(i),d,a,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class OA{constructor(){this.queries=A_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=xt(i),h=o.queries;o.queries=A_(),h.forEach(((d,y)=>{for(const v of y.Sa)v.onError(a)}))})(this,new pt($.ABORTED,"Firestore shutting down"))}}function A_(){return new xa((r=>b0(r)),Tc)}async function nv(r,e){const i=xt(r);let a=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(a=2):(h=new VA,a=e.Da()?0:1);try{switch(a){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=qd(d,`Initialization of query '${vr(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Pd(i)}async function iv(r,e){const i=xt(r),a=e.query;let o=3;const h=i.queries.get(a);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function MA(r,e){const i=xt(r);let a=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const y of d.Sa)y.Fa(o)&&(a=!0);d.wa=o}}a&&Pd(i)}function zA(r,e,i){const a=xt(r),o=a.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);a.queries.delete(e)}function Pd(r){r.Ca.forEach((e=>{e.next()}))}var cd,C_;(C_=cd||(cd={})).Ma="default",C_.Cache="cache";class sv{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Ir(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ir.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e){this.key=e}}class rv{constructor(e){this.key=e}}class jA{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=S0(e),this.tu=new Ar(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new S_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,S)=>{const N=o.get(A),H=bc(this.query,S)?S:null,J=!!N&&this.mutatedKeys.has(N.key),et=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let tt=!1;N&&H?N.data.isEqual(H.data)?J!==et&&(a.track({type:3,doc:H}),tt=!0):this.su(N,H)||(a.track({type:2,doc:H}),tt=!0,(v&&this.eu(H,v)>0||_&&this.eu(H,_)<0)&&(y=!0)):!N&&H?(a.track({type:0,doc:H}),tt=!0):N&&!H&&(a.track({type:1,doc:N}),tt=!0,(v||_)&&(y=!0)),tt&&(H?(d=d.add(H),h=et?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:y,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,S)=>(function(H,J){const et=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt(20277,{Rt:tt})}};return et(H)-et(J)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(a),o=o??!1;const y=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Ir(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new S_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Lt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new rv(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new av(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Lt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ir.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hd="SyncEngine";class UA{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class LA{constructor(e){this.key=e,this.hu=!1}}class kA{constructor(e,i,a,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new xa((y=>b0(y)),Tc),this.Iu=new Map,this.Eu=new Set,this.du=new de(_t.comparator),this.Au=new Map,this.Ru=new Vd,this.Vu={},this.mu=new Map,this.fu=Nr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function BA(r,e,i=!0){const a=fv(r);let o;const h=a.Tu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await lv(a,e,i,!0),o}async function qA(r,e){const i=fv(r);await lv(i,e,!0,!1)}async function lv(r,e,i,a){const o=await lA(r.localStore,Ei(e)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let y;return a&&(y=await PA(r,e,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&Z0(r.remoteStore,o),y}async function PA(r,e,i,a,o){r.pu=(S,N,H)=>(async function(et,tt,ht,vt){let ft=tt.view.ru(ht);ft.Cs&&(ft=await y_(et.localStore,tt.query,!1).then((({documents:x})=>tt.view.ru(x,ft))));const W=vt&&vt.targetChanges.get(tt.targetId),nt=vt&&vt.targetMismatches.get(tt.targetId)!=null,ut=tt.view.applyChanges(ft,et.isPrimaryClient,W,nt);return w_(et,tt.targetId,ut.au),ut.snapshot})(r,S,N,H);const h=await y_(r.localStore,e,!0),d=new jA(e,h.Qs),y=d.ru(h.documents),v=uo.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),_=d.applyChanges(y,r.isPrimaryClient,v);w_(r,i,_.au);const A=new UA(e,i,d);return r.Tu.set(e,A),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function HA(r,e,i){const a=xt(r),o=a.Tu.get(e),h=a.Iu.get(o.targetId);if(h.length>1)return a.Iu.set(o.targetId,h.filter((d=>!Tc(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await od(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&jd(a.remoteStore,o.targetId),hd(a,o.targetId)})).catch(jr)):(hd(a,o.targetId),await od(a.localStore,o.targetId,!0))}async function GA(r,e){const i=xt(r),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),jd(i.remoteStore,a.targetId))}async function QA(r,e,i){const a=$A(r);try{const o=await(function(d,y){const v=xt(d),_=le.now(),A=y.reduce(((H,J)=>H.add(J.key)),Lt());let S,N;return v.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let J=Zi(),et=Lt();return v.Ns.getEntries(H,A).next((tt=>{J=tt,J.forEach(((ht,vt)=>{vt.isValidDocument()||(et=et.add(ht))}))})).next((()=>v.localDocuments.getOverlayedDocuments(H,J))).next((tt=>{S=tt;const ht=[];for(const vt of y){const ft=rS(vt,S.get(vt.key).overlayedDocument);ft!=null&&ht.push(new wa(vt.key,ft,g0(ft.value.mapValue),Ti.exists(!0)))}return v.mutationQueue.addMutationBatch(H,_,ht,y)})).next((tt=>{N=tt;const ht=tt.applyToLocalDocumentSet(S,et);return v.documentOverlayCache.saveOverlays(H,tt.batchId,ht)}))})).then((()=>({batchId:N.batchId,changes:C0(S)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,y,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new de(Ut)),_=_.insert(y,v),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await ho(a,o.changes),await Rc(a.remoteStore)}catch(o){const h=qd(o,"Failed to persist write");i.reject(h)}}async function ov(r,e){const i=xt(r);try{const a=await sA(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Yt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Yt(d.hu,14607):o.removedDocuments.size>0&&(Yt(d.hu,42227),d.hu=!1))})),await ho(i,a,e)}catch(a){await jr(a)}}function x_(r,e,i){const a=xt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((h,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const v=xt(d);v.onlineState=y;let _=!1;v.queries.forEach(((A,S)=>{for(const N of S.Sa)N.va(y)&&(_=!0)})),_&&Pd(v)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function FA(r,e,i){const a=xt(r);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),h=o&&o.key;if(h){let d=new de(_t.comparator);d=d.insert(h,tn.newNoDocument(h,At.min()));const y=Lt().add(h),v=new Cc(At.min(),new Map,new de(Ut),d,y);await ov(a,v),a.du=a.du.remove(h),a.Au.delete(e),Gd(a)}else await od(a.localStore,e,!1).then((()=>hd(a,e,i))).catch(jr)}async function YA(r,e){const i=xt(r),a=e.batch.batchId;try{const o=await iA(i.localStore,e);cv(i,a,null),uv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await ho(i,o)}catch(o){await jr(o)}}async function KA(r,e,i){const a=xt(r);try{const o=await(function(d,y){const v=xt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,y).next((S=>(Yt(S!==null,37113),A=S.keys(),v.mutationQueue.removeMutationBatch(_,S)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(a.localStore,e);cv(a,e,i),uv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await ho(a,o)}catch(o){await jr(o)}}function uv(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function cv(r,e,i){const a=xt(r);let o=a.Vu[a.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function hd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||hv(r,a)}))}function hv(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(jd(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Gd(r))}function w_(r,e,i){for(const a of i)a instanceof av?(r.Ru.addReference(a.key,e),XA(r,a)):a instanceof rv?(ot(Hd,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||hv(r,a.key)):bt(19791,{wu:a})}function XA(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ot(Hd,"New document in limbo: "+i),r.Eu.add(a),Gd(r))}function Gd(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new _t(re.fromString(e)),a=r.fu.next();r.Au.set(a,new LA(i)),r.du=r.du.insert(i,a),Z0(r.remoteStore,new Ns(Ei(xd(i.path)),a,"TargetPurposeLimboResolution",yc.ce))}}async function ho(r,e,i){const a=xt(r),o=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,v)=>{d.push(a.pu(v,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){o.push(_);const A=Md.As(v.targetId,_);h.push(A)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(v,_){const A=xt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(_,(N=>Z.forEach(N.Es,(H=>A.persistence.referenceDelegate.addReference(S,N.targetId,H))).next((()=>Z.forEach(N.ds,(H=>A.persistence.referenceDelegate.removeReference(S,N.targetId,H)))))))))}catch(S){if(!Ur(S))throw S;ot(zd,"Failed to update sequence numbers: "+S)}for(const S of _){const N=S.targetId;if(!S.fromCache){const H=A.Ms.get(N),J=H.snapshotVersion,et=H.withLastLimboFreeSnapshotVersion(J);A.Ms=A.Ms.insert(N,et)}}})(a.localStore,h))}async function ZA(r,e){const i=xt(r);if(!i.currentUser.isEqual(e)){ot(Hd,"User change. New user:",e.toKey());const a=await F0(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((y=>{y.forEach((v=>{v.reject(new pt($.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await ho(i,a.Ls)}}function JA(r,e){const i=xt(r),a=i.Au.get(e);if(a&&a.hu)return Lt().add(a.key);{let o=Lt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function fv(r){const e=xt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=ov.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FA.bind(null,e),e.Pu.H_=MA.bind(null,e.eventManager),e.Pu.yu=zA.bind(null,e.eventManager),e}function $A(r){const e=xt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KA.bind(null,e),e}class gc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return nA(this.persistence,new WS,e.initialUser,this.serializer)}Cu(e){return new Q0(Od.mi,this.serializer)}Du(e){return new uA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gc.provider={build:()=>new gc};class WA extends gc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Yt(this.persistence.referenceDelegate instanceof dc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new LS(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new Q0((a=>dc.mi(a,i)),this.serializer)}}class fd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>x_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZA.bind(null,this.syncEngine),await IA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new OA})()}createDatastore(e){const i=xc(e.databaseInfo.databaseId),a=(function(h){return new mA(h)})(e.databaseInfo);return(function(h,d,y,v){return new _A(h,d,y,v)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,h,d,y){return new EA(a,o,h,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>x_(this.syncEngine,i,0)),(function(){return E_.v()?new E_:new cA})())}createSyncEngine(e,i){return(function(o,h,d,y,v,_,A){const S=new kA(o,h,d,y,v,_);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=xt(i);ot(Sa,"RemoteStore shutting down."),a.Ea.add(5),await co(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}fd.provider={build:()=>new fd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="FirestoreClient";class t2{constructor(e,i,a,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=We.UNAUTHENTICATED,this.clientId=vd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async d=>{ot(qs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ot(qs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=qd(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Qf(r,e){r.asyncQueue.verifyOperationInProgress(),ot(qs,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await F0(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function R_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await e2(r);ot(qs,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>b_(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>b_(e.remoteStore,o))),r._onlineComponents=e}async function e2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(qs,"Using user provided OfflineComponentProvider");try{await Qf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;xr("Error using user provided cache. Falling back to memory cache: "+i),await Qf(r,new gc)}}else ot(qs,"Using default OfflineComponentProvider"),await Qf(r,new WA(void 0));return r._offlineComponents}async function mv(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(qs,"Using user provided OnlineComponentProvider"),await R_(r,r._uninitializedComponentsProvider._online)):(ot(qs,"Using default OnlineComponentProvider"),await R_(r,new fd))),r._onlineComponents}function n2(r){return mv(r).then((e=>e.syncEngine))}async function dd(r){const e=await mv(r),i=e.eventManager;return i.onListen=BA.bind(null,e.syncEngine),i.onUnlisten=HA.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=qA.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=GA.bind(null,e.syncEngine),i}function i2(r,e,i={}){const a=new Ms;return r.asyncQueue.enqueueAndForget((async()=>(function(h,d,y,v,_){const A=new dv({next:N=>{A.Nu(),d.enqueueAndForget((()=>iv(h,S))),N.fromCache&&v.source==="server"?_.reject(new pt($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(N)},error:N=>_.reject(N)}),S=new sv(y,A,{includeMetadataChanges:!0,qa:!0});return nv(h,S)})(await dd(r),r.asyncQueue,e,i,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="firestore.googleapis.com",N_=!0;class I_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pt($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pv,this.ssl=N_}else this.host=e.host,this.ssl=e.ssl??N_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=G0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jS)throw new pt($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gv(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new pt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new pt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new pt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dc{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new I_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pt($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new I_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new ub;switch(a.type){case"firstParty":return new db(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new pt($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=D_.get(i);a&&(ot("ComponentProvider","Removing Datastore"),D_.delete(i),a.terminate())})(this),Promise.resolve()}}function s2(r,e,i,a={}){r=Yi(r,Dc);const o=pd(e),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},y=`${e}:${i}`;o&&(LE(`https://${y}`),PE("Firestore",!0)),h.host!==pv&&h.host!==y&&xr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:y,ssl:o,emulatorOptions:a};if(!nc(v,d)&&(r._setSettings(v),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=We.MOCK_USER;else{_=kE(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new pt($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new We(S)}r._authCredentials=new cb(new i0(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new fo(this.firestore,e,this._query)}}class ze{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ze(this.firestore,e,this._key)}toJSON(){return{type:ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(lo(i,ze._jsonSchema))return new ze(e,a||null,new _t(re.fromString(i.referencePath)))}}ze._jsonSchemaVersion="firestore/documentReference/1.0",ze._jsonSchema={type:Ie("string",ze._jsonSchemaVersion),referencePath:Ie("string")};class zs extends fo{constructor(e,i,a){super(e,i,xd(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ze(this.firestore,null,new _t(e))}withConverter(e){return new zs(this.firestore,e,this._path)}}function yv(r,e,...i){if(r=Cr(r),s0("collection","path",e),r instanceof Dc){const a=re.fromString(e,...i);return Qy(a),new zs(r,null,a)}{if(!(r instanceof ze||r instanceof zs))throw new pt($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(re.fromString(e,...i));return Qy(a),new zs(r.firestore,null,a)}}function _v(r,e,...i){if(r=Cr(r),arguments.length===1&&(e=vd.newId()),s0("doc","path",e),r instanceof Dc){const a=re.fromString(e,...i);return Gy(a),new ze(r,null,new _t(a))}{if(!(r instanceof ze||r instanceof zs))throw new pt($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(re.fromString(e,...i));return Gy(a),new ze(r.firestore,r instanceof zs?r.converter:null,new _t(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="AsyncQueue";class O_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new K0(this,"async_queue_retry"),this._c=()=>{const a=Gf();a&&ot(V_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Gf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Gf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ms;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ur(e))throw e;ot(V_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Xi("INTERNAL UNHANDLED ERROR: ",M_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Bd.createAndSchedule(this,e,i,a,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&bt(47125,{Pc:M_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function M_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of a)if(h in o&&typeof o[h]=="function")return!0;return!1})(r,["next","error","complete"])}class Vr extends Dc{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new O_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O_(e),this._firestoreClient=void 0,await e}}}function a2(r,e){const i=typeof r=="object"?r:$T(),a=typeof r=="string"?r:rc,o=YT(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=jE("firestore");h&&s2(o,...h)}return o}function Qd(r){if(r._terminated)throw new pt($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||r2(r),r._firestoreClient}function r2(r){const e=r._freezeSettings(),i=(function(o,h,d,y){return new Nb(o,h,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,gv(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new t2(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln(Xe.fromBase64String(e))}catch(i){throw new pt($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ln(Xe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lo(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Ie("string",Ln._jsonSchemaVersion),bytes:Ie("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new pt($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new pt($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new pt($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ut(this._lat,e._lat)||Ut(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Si._jsonSchemaVersion}}static fromJSON(e){if(lo(e,Si._jsonSchema))return new Si(e.latitude,e.longitude)}}Si._jsonSchemaVersion="firestore/geoPoint/1.0",Si._jsonSchema={type:Ie("string",Si._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lo(e,Ai._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ai(e.vectorValues);throw new pt($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ai._jsonSchemaVersion="firestore/vectorValue/1.0",Ai._jsonSchema={type:Ie("string",Ai._jsonSchemaVersion),vectorValues:Ie("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=/^__.*__$/;class o2{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new wa(e,this.data,this.fieldMask,i,this.fieldTransforms):new oo(e,this.data,i,this.fieldTransforms)}}function Ev(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt(40011,{Ac:r})}}class Yd{constructor(e,i,a,o,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Yd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return pc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Ev(this.Ac)&&l2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class u2{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||xc(e)}Cc(e,i,a,o=!1){return new Yd({Ac:e,methodName:i,Dc:a,path:Ke.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function c2(r){const e=r._freezeSettings(),i=xc(r._databaseId);return new u2(r._databaseId,!!e.ignoreUndefinedProperties,i)}function h2(r,e,i,a,o,h={}){const d=r.Cc(h.merge||h.mergeFields?2:0,e,i,o);Av("Data must be an object, but it was:",d,a);const y=bv(a,d);let v,_;if(h.merge)v=new Jn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const S of h.mergeFields){const N=f2(e,S,i);if(!d.contains(N))throw new pt($.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);m2(A,N)||A.push(N)}v=new Jn(A),_=d.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,_=d.fieldTransforms;return new o2(new Un(y),v,_)}function Tv(r,e){if(Sv(r=Cr(r)))return Av("Unsupported field value:",e,r),bv(r,e);if(r instanceof vv)return(function(a,o){if(!Ev(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const h=[];let d=0;for(const y of a){let v=Tv(y,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(r,e)}return(function(a,o){if((a=Cr(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return tS(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=le.fromDate(a);return{timestampValue:fc(o.serializer,h)}}if(a instanceof le){const h=new le(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:fc(o.serializer,h)}}if(a instanceof Si)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ln)return{bytesValue:U0(o.serializer,a._byteString)};if(a instanceof ze){const h=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Id(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Ai)return(function(d,y){return{mapValue:{fields:{[d0]:{stringValue:m0},[lc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return wd(y.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Ed(a)}`)})(r,e)}function bv(r,e){const i={};return l0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ca(r,((a,o)=>{const h=Tv(o,e.mc(a));h!=null&&(i[a]=h)})),{mapValue:{fields:i}}}function Sv(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof le||r instanceof Si||r instanceof Ln||r instanceof ze||r instanceof vv||r instanceof Ai)}function Av(r,e,i){if(!Sv(i)||!a0(i)){const a=Ed(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function f2(r,e,i){if((e=Cr(e))instanceof Fd)return e._internalPath;if(typeof e=="string")return Cv(r,e);throw pc("Field path arguments must be of type string or ",r,!1,void 0,i)}const d2=new RegExp("[~\\*/\\[\\]]");function Cv(r,e,i){if(e.search(d2)>=0)throw pc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Fd(...e.split("."))._internalPath}catch{throw pc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function pc(r,e,i,a,o){const h=a&&!a.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new pt($.INVALID_ARGUMENT,y+r+v)}function m2(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,i,a,o,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new g2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(wv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class g2 extends xv{data(){return super.data()}}function wv(r,e){return typeof e=="string"?Cv(r,e):e instanceof Fd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new pt($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class p2{convertValue(e,i="none"){switch(ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ee(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw bt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Ca(e,((o,h)=>{a[o]=this.convertValue(h,i)})),a}convertVectorValue(e){const i=e.fields?.[lc].arrayValue?.values?.map((a=>Ee(a.doubleValue)));return new Ai(i)}convertGeoPoint(e){return new Si(Ee(e.latitude),Ee(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=vc(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(no(e));default:return null}}convertTimestamp(e){const i=Us(e);return new le(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=re.fromString(e);Yt(H0(a),9688,{name:e});const o=new io(a.get(1),a.get(3)),h=new _t(a.popFirst(5));return o.isEqual(i)||Xi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(r,e,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,a}class Yl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ea extends xv{constructor(e,i,a,o,h,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new tc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(wv("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pt($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ea._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ea._jsonSchema={type:Ie("string",Ea._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class tc extends Ea{data(e={}){return super.data(e)}}class Ta{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Yl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new tc(this._firestore,this._userDataWriter,a.key,a,new Yl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new pt($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const v=new tc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Yl(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const v=new tc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Yl(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:_2(y.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pt($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ta._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=vd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt(61501,{type:r})}}Ta._jsonSchemaVersion="firestore/querySnapshot/1.0",Ta._jsonSchema={type:Ie("string",Ta._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Kd extends p2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new ze(this.firestore,null,i)}}function v2(r){r=Yi(r,fo);const e=Yi(r.firestore,Vr),i=Qd(e),a=new Kd(e);return Rv(r._query),i2(i,r._query).then((o=>new Ta(e,a,r,o)))}function E2(r,e,i){r=Yi(r,ze);const a=Yi(r.firestore,Vr),o=y2(r.converter,e,i);return Dv(a,[h2(c2(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,Ti.none())])}function T2(r){return Dv(Yi(r.firestore,Vr),[new Rd(r._key,Ti.none())])}function b2(r,...e){r=Cr(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||z_(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(z_(e[a])){const v=e[a];e[a]=v.next?.bind(v),e[a+1]=v.error?.bind(v),e[a+2]=v.complete?.bind(v)}let h,d,y;if(r instanceof ze)d=Yi(r.firestore,Vr),y=xd(r._key.path),h={next:v=>{e[a]&&e[a](S2(d,r,v))},error:e[a+1],complete:e[a+2]};else{const v=Yi(r,fo);d=Yi(v.firestore,Vr),y=v._query;const _=new Kd(d);h={next:A=>{e[a]&&e[a](new Ta(d,_,v,A))},error:e[a+1],complete:e[a+2]},Rv(r._query)}return(function(_,A,S,N){const H=new dv(N),J=new sv(A,H,S);return _.asyncQueue.enqueueAndForget((async()=>nv(await dd(_),J))),()=>{H.Nu(),_.asyncQueue.enqueueAndForget((async()=>iv(await dd(_),J)))}})(Qd(d),y,o,h)}function Dv(r,e){return(function(a,o){const h=new Ms;return a.asyncQueue.enqueueAndForget((async()=>QA(await n2(a),o,h))),h.promise})(Qd(r),e)}function S2(r,e,i){const a=i.docs.get(e._key),o=new Kd(r);return new Ea(r,o,e._key,a,new Yl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){zr=o})(JT),sc(new Wl("firestore",((a,{instanceIdentifier:o,options:h})=>{const d=a.getProvider("app").getImmediate(),y=new Vr(new hb(a.getProvider("auth-internal")),new mb(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new pt($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new io(_.options.projectId,A)})(d,o),d);return h={useFetchStreams:i,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),Sr(By,qy,e),Sr(By,qy,"esm2020")})();var A2="firebase",C2="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sr(A2,C2,"app");const x2={apiKey:"AIzaSyB8MHKt_DedTncHBU5u8d5AwjJLxqDFP28",authDomain:"smartrealapp.firebaseapp.com",projectId:"smartrealapp",storageBucket:"smartrealapp.firebasestorage.app",messagingSenderId:"651193312612",appId:"1:651193312612:web:ab8f50c34f8cee37a94671"},w2=Y_(x2),Nc=a2(w2);console.log(" Firebase  ");function Ic(){return k_()}async function Ku(r,e,i){try{const a=Ic(),o=_v(Nc,`users/${a}/${r}`,e);await E2(o,{...i,updatedAt:new Date().toISOString()},{merge:!0}),console.log(` Firestore : ${r}/${e}`)}catch(a){console.error(` Firestore   (${r}/${e}):`,a.message,a.code)}}async function pr(r){const e=Ic(),i=yv(Nc,`users/${e}/${r}`);return(await v2(i)).docs.map(o=>({id:o.id,...o.data()}))}async function Hl(r,e){const i=Ic(),a=_v(Nc,`users/${i}/${r}`,e);await T2(a)}function yr(r,e){const i=Ic(),a=yv(Nc,`users/${i}/${r}`);return b2(a,o=>{const h=o.docs.map(d=>({id:d.id,...d.data()}));e(h)})}console.log(" Firestore  ");/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),D2=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),j_=r=>{const e=D2(r);return e.charAt(0).toUpperCase()+e.slice(1)},Nv=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),N2=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var I2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=St.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:h,iconNode:d,...y},v)=>St.createElement("svg",{ref:v,...I2,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:Nv("lucide",o),...!h&&!N2(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,A])=>St.createElement(_,A)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=(r,e)=>{const i=St.forwardRef(({className:a,...o},h)=>St.createElement(V2,{ref:h,iconNode:e,className:Nv(`lucide-${R2(j_(r))}`,`lucide-${r}`,a),...o}));return i.displayName=j_(r),i};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Iv=an("arrow-down",O2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Vv=an("arrow-up",M2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Ov=an("briefcase",z2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Mv=an("calendar",j2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Xd=an("check",U2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],zv=an("chevron-down",L2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],jv=an("chevron-right",k2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=[["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}],["path",{d:"m9 10-5 5 5 5",key:"1kshq7"}]],Uv=an("corner-down-left",B2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Lv=an("folder-open",q2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],H2=an("menu",P2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Q2=an("pencil",G2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Or=an("plus",F2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Zd=an("save",Y2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Aa=an("trash-2",K2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Z2=an("x",X2),U_=[{index:0,name:"ZONE 1"},{index:1,name:"ZONE 2"},{index:2,name:"ZONE 3"},{index:3,name:"ZONE 4"}],L_=Array.from({length:48}).map((r,e)=>({id:`bm-${e}`,zoneIndex:Math.floor(e/12),name:"",url:"https://www.google.com"})),br=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).substring(2,15),J2=({onMenuClick:r,currentTime:e})=>C.jsxs("div",{className:"md:hidden bg-white border-b border-slate-200 px-4 py-3 flex items-center justify-between z-20 sticky top-0 h-[50px]",children:[C.jsx("div",{className:"flex items-center",children:C.jsx("button",{onClick:r,className:"flex items-center text-slate-600 hover:text-slate-900",children:C.jsx(H2,{size:24})})}),C.jsxs("div",{className:"text-[11px] tracking-tight text-slate-500 font-medium whitespace-nowrap",children:[C.jsx("span",{className:"text-red-500 font-bold",children:e.dateString}),C.jsx("span",{className:"text-blue-500 font-bold ml-1",children:e.dayOfWeek})]})]}),$2=({mode:r,setMode:e})=>C.jsxs("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 flex justify-around items-center h-[60px] z-30 pb-safe",children:[C.jsxs("button",{onClick:()=>e("project"),className:`flex flex-col items-center justify-center w-full h-full space-y-1 ${r==="project"?"text-blue-600":"text-slate-400"}`,children:[C.jsx(Ov,{size:20}),C.jsx("span",{className:"text-[10px] font-medium",children:""})]}),C.jsxs("button",{onClick:()=>e("archive"),className:`flex flex-col items-center justify-center w-full h-full space-y-1 ${r==="archive"?"text-blue-600":"text-slate-400"}`,children:[C.jsx(Lv,{size:20}),C.jsx("span",{className:"text-[10px] font-medium",children:""})]}),C.jsxs("button",{onClick:()=>e("journal"),className:`flex flex-col items-center justify-center w-full h-full space-y-1 ${r==="journal"?"text-blue-600":"text-slate-400"}`,children:[C.jsx(Mv,{size:20}),C.jsx("span",{className:"text-[10px] font-medium",children:"TODAY"})]})]}),W2=({zones:r,bookmarks:e,onUpdateBookmark:i,onUpdateZoneName:a})=>{const[o,h]=St.useState(null),[d,y]=St.useState(null),v=[{bg:"bg-sky-50",text:"text-sky-900",border:"border-sky-100",btnBase:"bg-sky-200",btnHover:"hover:bg-sky-300",badge:"bg-sky-100 text-sky-700"},{bg:"bg-emerald-50",text:"text-emerald-900",border:"border-emerald-100",btnBase:"bg-emerald-200",btnHover:"hover:bg-emerald-300",badge:"bg-emerald-100 text-emerald-700"},{bg:"bg-orange-50",text:"text-orange-900",border:"border-orange-100",btnBase:"bg-orange-200",btnHover:"hover:bg-orange-300",badge:"bg-orange-100 text-orange-700"},{bg:"bg-violet-50",text:"text-violet-900",border:"border-violet-100",btnBase:"bg-violet-200",btnHover:"hover:bg-violet-300",badge:"bg-violet-100 text-violet-700"}];return C.jsxs("header",{className:"hidden md:block bg-white shadow-sm z-10 border-b border-slate-200",children:[C.jsx("div",{className:"grid grid-cols-4 divide-x divide-slate-200",children:r.map((_,A)=>{const S=v[A%v.length];return C.jsxs("div",{className:`p-2 ${S.bg}`,children:[C.jsx("div",{className:"mb-2 px-1",children:o===A?C.jsx("input",{type:"text",defaultValue:_.name,autoFocus:!0,onBlur:N=>{a(A,N.target.value),h(null)},onKeyDown:N=>{N.key==="Enter"&&(a(A,N.currentTarget.value),h(null))},className:"text-xs font-bold w-full bg-white border border-slate-300 rounded px-1 py-0.5"}):C.jsx("h3",{onClick:()=>h(A),className:`text-xs font-bold uppercase ${S.text} cursor-pointer hover:bg-white/50 rounded px-1 py-0.5 transition-colors w-fit`,children:_.name})}),C.jsx("div",{className:"grid grid-cols-4 gap-1.5",children:e.filter(N=>N.zoneIndex===_.index).sort((N,H)=>parseInt(N.id.split("-")[1])-parseInt(H.id.split("-")[1])).map(N=>{const H=!!N.color,J=H?{backgroundColor:N.color}:void 0,et=H?"":`${S.btnBase} ${S.btnHover}`;return C.jsx("a",{href:N.url.startsWith("http")?N.url:`https://${N.url}`,target:"_blank",rel:"noreferrer",className:`block h-8 rounded text-[10px] font-medium flex items-center justify-center text-center px-1 truncate transition-colors shadow-sm ${et} text-slate-700`,style:J,onContextMenu:ht=>{ht.preventDefault(),y(N)},children:N.name},N.id)})})]},_.index)})}),d&&C.jsx(tC,{bookmark:d,zones:r,onClose:()=>y(null),onSave:i})]})},tC=({bookmark:r,zones:e,onClose:i,onSave:a})=>{const[o,h]=St.useState(r.name),[d,y]=St.useState(r.url),[v,_]=St.useState(r.zoneIndex),[A,S]=St.useState(r.color||""),N=["#bae6fd","#fbbf24","#86efac","#d8b4fe","#fca5a5","#fde047","#a7f3d0","#fef08a",""],H=()=>{a({...r,name:o,url:d,zoneIndex:v,color:A}),i()};return C.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:C.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-sm p-6",children:[C.jsx("h3",{className:"text-lg font-bold mb-4 text-slate-800",children:" "}),C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:" (8 ):"}),C.jsx("input",{type:"text",value:o,onChange:J=>h(J.target.value.slice(0,8)),className:"w-full border border-slate-300 rounded p-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),C.jsxs("div",{className:"text-right text-[10px] text-slate-400 mt-1",children:[o.length," / 8"]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"URL:"}),C.jsx("input",{type:"text",value:d,onChange:J=>y(J.target.value),className:"w-full border border-slate-300 rounded p-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:":"}),C.jsx("select",{value:v,onChange:J=>_(Number(J.target.value)),className:"w-full border border-slate-300 rounded p-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:e.map(J=>C.jsx("option",{value:J.index,children:J.name},J.index))})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:":"}),C.jsx("div",{className:"flex flex-wrap gap-2",children:N.map((J,et)=>C.jsx("button",{onClick:()=>S(J),className:`w-8 h-8 rounded border ${A===J?"ring-2 ring-blue-500 ring-offset-1 border-slate-400":"border-slate-200"}`,style:{backgroundColor:J||"#f1f5f9"}},et))})]})]}),C.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[C.jsx("button",{onClick:i,className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded border border-slate-200",children:""}),C.jsx("button",{onClick:H,className:"px-4 py-2 text-sm text-white bg-green-600 hover:bg-green-700 rounded shadow-sm font-bold",children:""})]})]})})},Jd=({isOpen:r,onClose:e,onConfirm:i,title:a,message:o})=>r?C.jsx("div",{className:"fixed inset-0 bg-black/30 z-50 flex items-center justify-center p-4",children:C.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-sm w-full p-6 animate-in fade-in zoom-in duration-200",children:[C.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:a}),C.jsx("p",{className:"text-sm text-slate-600 mb-6",children:o}),C.jsxs("div",{className:"flex justify-end space-x-3",children:[C.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100 rounded-md transition-colors",children:""}),C.jsx("button",{onClick:i,className:"px-4 py-2 text-sm font-medium text-white bg-red-500 hover:bg-red-600 rounded-md shadow-sm transition-colors",children:""})]})]})}):null,eC=({projects:r,selectedId:e,onSelect:i,onCreate:a,onDelete:o})=>C.jsxs("div",{className:"h-full flex flex-col",children:[C.jsx("div",{className:"p-4 border-b border-slate-200",children:C.jsxs("button",{onClick:a,className:"w-full py-2 border border-slate-300 rounded-lg text-slate-600 hover:bg-slate-50 text-sm font-bold flex items-center justify-center transition-colors",children:[C.jsx(Or,{size:16,className:"mr-1"}),"  "]})}),C.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:[r.length===0&&C.jsx("div",{className:"text-center text-slate-400 py-10 text-sm",children:"   ."}),r.map(h=>C.jsxs("div",{onClick:()=>i(h.id),className:`group relative p-3 rounded-lg border cursor-pointer transition-all hover:shadow-md ${e===h.id?"bg-white border-blue-500 ring-1 ring-blue-500 z-10":"bg-white border-slate-200 hover:border-blue-300"}`,children:[C.jsxs("div",{className:"flex justify-between items-start mb-1",children:[C.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-bold ${h.status==="Ready"?"bg-slate-100 text-slate-600":h.status==="InProgress"?"bg-blue-100 text-blue-600":"bg-green-100 text-green-600"}`,children:h.status==="Ready"?"":h.status==="InProgress"?"":""}),C.jsx("span",{className:"text-[10px] text-slate-400",children:h.deadline})]}),C.jsx("h4",{className:"font-bold text-slate-800 text-sm mb-1 truncate pr-6",children:h.title}),C.jsxs("div",{className:"flex items-center justify-between mt-2",children:[C.jsxs("div",{className:"flex items-center text-[10px] text-slate-500",children:[C.jsxs("span",{className:"bg-slate-100 px-1.5 py-0.5 rounded-full mr-1",children:[h.checklist.filter(d=>d.isChecked).length,"/",h.checklist.length]}),C.jsx("span",{children:""})]}),C.jsx("button",{onClick:d=>{d.stopPropagation(),o(h.id)},className:"p-1.5 text-slate-300 hover:text-red-600 transition-colors rounded hover:bg-red-50 opacity-100",title:" ",children:C.jsx(Aa,{size:14})})]})]},h.id))]})]}),nC=({categories:r,items:e,selectedItemId:i,onSelectCategory:a,onSelectItem:o,onCreateCategory:h,onUpdateCategoryName:d,onCreateItem:y,onDeleteCategory:v,onDeleteItem:_})=>{const[A,S]=St.useState(new Set),[N,H]=St.useState(""),[J,et]=St.useState(!1),[tt,ht]=St.useState(null),vt=W=>{const nt=new Set(A);nt.has(W)?nt.delete(W):nt.add(W),S(nt)},ft=()=>{N.trim()&&(h(N.trim()),H(""),et(!1))};return C.jsxs("div",{className:"h-full flex flex-col",children:[C.jsx("div",{className:"p-4 border-b border-slate-200",children:J?C.jsxs("div",{className:"flex items-center space-x-2 animate-in fade-in zoom-in duration-200",children:[C.jsx("input",{type:"text",value:N,onChange:W=>H(W.target.value),placeholder:"",autoFocus:!0,className:"flex-1 border border-blue-300 rounded px-2 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-100",onKeyDown:W=>{W.key==="Enter"&&ft(),W.key==="Escape"&&et(!1)}}),C.jsx("button",{onClick:ft,className:"p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:C.jsx(Xd,{size:16})}),C.jsx("button",{onClick:()=>et(!1),className:"p-1.5 text-slate-400 hover:text-slate-600",children:C.jsx(Z2,{size:16})})]}):C.jsxs("button",{onClick:()=>et(!0),className:"w-full py-2 border border-slate-300 rounded-lg text-slate-600 hover:bg-slate-50 text-sm font-bold flex items-center justify-center transition-colors",children:[C.jsx(Or,{size:16,className:"mr-1"}),"   "]})}),C.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:r.map(W=>C.jsxs("div",{className:"mb-2",children:[C.jsxs("div",{className:"flex items-center justify-between p-2 rounded hover:bg-slate-100 cursor-pointer group",onClick:()=>vt(W.id),children:[C.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[A.has(W.id)?C.jsx(zv,{size:16,className:"text-slate-400 mr-1 flex-shrink-0"}):C.jsx(jv,{size:16,className:"text-slate-400 mr-1 flex-shrink-0"}),tt===W.id?C.jsx("input",{type:"text",defaultValue:W.name,autoFocus:!0,onClick:nt=>nt.stopPropagation(),onBlur:nt=>{d(W.id,nt.target.value),ht(null)},onKeyDown:nt=>{nt.key==="Enter"&&(d(W.id,nt.currentTarget.value),ht(null))},className:"text-sm font-bold bg-white border border-blue-300 rounded px-1 py-0.5 w-full mr-2"}):C.jsx("span",{className:"font-bold text-slate-700 text-sm truncate",children:W.name}),C.jsx("span",{className:"ml-2 text-[10px] bg-slate-200 text-slate-500 px-1.5 rounded-full flex-shrink-0",children:e.filter(nt=>nt.categoryId===W.id).length})]}),C.jsxs("div",{className:"flex items-center space-x-1",children:[C.jsx("button",{onClick:nt=>{nt.stopPropagation(),ht(W.id)},className:"p-1 text-slate-300 hover:text-blue-500 opacity-100 transition-opacity",title:" ",children:C.jsx(Q2,{size:14})}),C.jsx("button",{onClick:nt=>{nt.stopPropagation(),v(W.id)},className:"p-1 text-slate-300 hover:text-red-500 opacity-100 transition-opacity",title:" ",children:C.jsx(Aa,{size:14})})]})]}),A.has(W.id)&&C.jsxs("div",{className:"ml-6 border-l-2 border-slate-100 pl-2 mt-1 space-y-1",children:[e.filter(nt=>nt.categoryId===W.id).map(nt=>C.jsxs("div",{onClick:()=>o(nt.id),className:`text-sm py-1.5 px-2 rounded cursor-pointer flex justify-between items-center group transition-colors ${i===nt.id?"bg-blue-50 text-blue-700 font-medium":"text-slate-600 hover:bg-slate-50"}`,children:[C.jsx("span",{className:"truncate",children:nt.title}),C.jsx("button",{onClick:ut=>{ut.stopPropagation(),_(nt.id)},className:"p-1 text-slate-300 hover:text-red-500 transition-opacity",children:C.jsx(Aa,{size:12})})]},nt.id)),C.jsxs("button",{onClick:()=>y(W.id),className:"text-xs text-blue-500 hover:text-blue-700 py-1 px-2 flex items-center mt-1",children:[C.jsx(Or,{size:12,className:"mr-1"}),"  "]})]})]},W.id))})]})},iC=({journals:r,selectedId:e,onSelect:i,onCreate:a})=>{const o=r.reduce((S,N)=>{const H=new Date(N.date),J=`${H.getFullYear()} ${String(H.getMonth()+1).padStart(2,"0")}`;return S[J]||(S[J]=[]),S[J].push(N),S},{}),h=Object.keys(o).sort((S,N)=>N.localeCompare(S));h.forEach(S=>{o[S].sort((N,H)=>H.date.localeCompare(N.date))});const d=`${new Date().getFullYear()} ${String(new Date().getMonth()+1).padStart(2,"0")}`,[y,v]=St.useState(new Set([d])),_=S=>{const N=new Set(y);N.has(S)?N.delete(S):N.add(S),v(N)},A=new Date().toISOString().split("T")[0];return C.jsxs("div",{className:"h-full flex flex-col",children:[C.jsx("div",{className:"p-4 border-b border-slate-200",children:C.jsxs("button",{onClick:a,className:"w-full py-2 border border-slate-300 rounded-lg text-slate-600 hover:bg-slate-50 text-sm font-bold flex items-center justify-center transition-colors",children:[C.jsx(Or,{size:16,className:"mr-1"})," "]})}),C.jsxs("div",{className:"flex-1 overflow-y-auto p-2",children:[h.map(S=>C.jsxs("div",{className:"mb-4",children:[C.jsxs("div",{onClick:()=>_(S),className:"flex items-center text-xs font-bold text-slate-500 mb-2 cursor-pointer hover:text-slate-700 px-2",children:[y.has(S)?C.jsx(zv,{size:14,className:"mr-1"}):C.jsx(jv,{size:14,className:"mr-1"}),S]}),y.has(S)&&C.jsx("div",{className:"space-y-2",children:o[S].map(N=>{const H=N.date===A,J=new Date(N.date),et=J.getDate().toString().padStart(2,"0"),ht=["","","","","","",""][J.getDay()];return C.jsxs("div",{onClick:()=>i(N.id),className:`
                        cursor-pointer p-3 rounded-lg border transition-all text-sm
                        ${e===N.id?"bg-blue-50 border-blue-500 ring-1 ring-blue-500":"bg-white border-slate-200 hover:border-blue-300 hover:shadow-sm"}
                        ${H?"border-l-4 border-l-blue-500":""}
                      `,children:[C.jsxs("div",{className:"flex justify-between items-center mb-1",children:[C.jsxs("span",{className:`font-bold ${H?"text-blue-600":"text-slate-700"}`,children:[et," (",ht,")"]}),H&&C.jsx("span",{className:"text-[10px] bg-blue-100 text-blue-600 px-1.5 py-0.5 rounded-full font-bold",children:"TODAY"})]}),C.jsx("div",{className:"text-slate-500 text-xs truncate",children:N.content.split(`
`)[0]||" "})]},N.id)})})]},S)),h.length===0&&C.jsx("div",{className:"text-center text-slate-400 py-10 text-sm",children:"  ."})]})]})},sC=({project:r,onSave:e,currentTime:i})=>{const[a,o]=St.useState(r.title),[h,d]=St.useState(r.checklist||[]),[y,v]=St.useState(""),[_,A]=St.useState(!1),[S,N]=St.useState(null),H=()=>{if(!y.trim())return;const W={id:br(),text:y.trim(),isChecked:!1,order:h.length},nt=[...h,W];d(nt),v(""),e({...r,title:a,checklist:nt})},J=W=>{const nt=h.map(ut=>ut.id===W?{...ut,isChecked:!ut.isChecked}:ut);nt.sort((ut,x)=>ut.isChecked===x.isChecked?ut.order-x.order:ut.isChecked?1:-1),d(nt),e({...r,title:a,checklist:nt})},et=W=>{N(W),A(!0)},tt=()=>{if(S){const W=h.filter(nt=>nt.id!==S);d(W),e({...r,title:a,checklist:W}),A(!1),N(null)}},ht=(W,nt)=>{const ut=[...h],x=nt==="up"?W-1:W+1;if(x>=0&&x<ut.length){const b=ut[W],w=ut[x],M=b.order;b.order=w.order,w.order=M,ut.sort((I,z)=>I.isChecked===z.isChecked?I.order-z.order:I.isChecked?1:-1),d(ut),e({...r,title:a,checklist:ut})}},vt=(W,nt)=>{const ut=h.map(x=>x.id===W?{...x,text:nt}:x);d(ut),e({...r,title:a,checklist:ut})},ft=W=>{const nt=W.currentTarget;nt.style.height="auto",nt.style.height=`${nt.scrollHeight}px`};return C.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 h-full flex flex-col",children:[C.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between gap-2",children:[C.jsx("input",{type:"text",value:a,onChange:W=>o(W.target.value),onBlur:()=>e({...r,title:a,checklist:h}),className:"text-lg md:text-xl font-bold text-slate-800 bg-transparent border-none focus:outline-none focus:ring-0 flex-1 truncate"}),C.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[C.jsxs("span",{className:"text-lg md:text-xl whitespace-nowrap hidden md:block",children:[C.jsx("span",{className:"text-red-500 font-bold",children:i.dateString}),C.jsx("span",{className:"text-blue-500 font-bold ml-1",children:i.dayOfWeek})]}),C.jsx("button",{onClick:()=>e({...r,title:a,checklist:h}),className:"p-2 text-emerald-600 hover:bg-emerald-50 rounded transition-colors",title:"",children:C.jsx(Zd,{size:24})})]})]}),C.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-6",children:[C.jsxs("div",{children:[C.jsx("div",{className:"flex items-center justify-between mb-2",children:C.jsxs("h3",{className:"text-base font-bold text-emerald-700 border-l-4 border-emerald-500 pl-2",children:[" ",C.jsxs("span",{className:"text-slate-400 font-normal text-sm",children:["(",h.filter(W=>W.isChecked).length,"/",h.length,")"]})]})}),C.jsxs("div",{className:"flex gap-2 mb-6",children:[C.jsxs("div",{className:"relative flex-1",children:[C.jsx("textarea",{value:y,onChange:W=>v(W.target.value),onKeyDown:W=>{W.ctrlKey&&W.key==="Enter"&&H()},onInput:ft,placeholder:"  ... (Ctrl+Enter , Shift+Enter )",className:"w-full border border-emerald-200 rounded-lg p-3 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent shadow-sm resize-none overflow-hidden min-h-[50px] pr-2 md:pr-10",rows:1}),C.jsx(Uv,{size:16,className:"absolute right-3 top-4 text-slate-300 hidden md:block"})]}),C.jsx("button",{onClick:H,className:"bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg w-10 md:w-auto md:px-4 flex items-center justify-center shadow-sm transition-colors h-[50px] self-start flex-shrink-0",children:C.jsx(Or,{size:24})})]})]}),C.jsx("div",{className:"space-y-3",children:h.map((W,nt)=>C.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-lg border transition-all ${W.isChecked?"bg-slate-50 border-slate-100":"bg-white border-slate-200 shadow-sm hover:border-emerald-300"}`,children:[C.jsx("div",{className:"pt-0.5",children:C.jsx("button",{onClick:()=>J(W.id),className:`w-5 h-5 rounded border flex items-center justify-center transition-colors ${W.isChecked?"bg-emerald-500 border-emerald-500 text-white":"bg-white border-slate-300 hover:border-emerald-500"}`,children:W.isChecked&&C.jsx(Xd,{size:14})})}),C.jsx("div",{className:"flex-1 min-w-0",children:C.jsx("textarea",{value:W.text,onChange:ut=>vt(W.id,ut.target.value),onInput:ft,className:`w-full bg-transparent border-none p-0 focus:ring-0 resize-none overflow-hidden text-sm leading-relaxed ${W.isChecked?"text-slate-400 line-through":"text-slate-800"}`,rows:1,style:{height:"auto"},ref:ut=>{ut&&(ut.style.height="auto",ut.style.height=ut.scrollHeight+"px")}})}),!W.isChecked&&C.jsxs("div",{className:"flex flex-row items-center gap-1 mt-1.5",children:[C.jsx("button",{onClick:()=>ht(nt,"up"),disabled:nt===0,className:"p-1 text-slate-600 hover:text-blue-600 disabled:opacity-30",children:C.jsx(Vv,{size:14})}),C.jsx("button",{onClick:()=>ht(nt,"down"),disabled:nt===h.length-1||h[nt+1]?.isChecked,className:"p-1 text-slate-600 hover:text-blue-600 disabled:opacity-30",children:C.jsx(Iv,{size:14})}),C.jsx("button",{onClick:()=>et(W.id),className:"p-1 text-slate-600 hover:text-red-600",children:C.jsx(Aa,{size:14})})]}),W.isChecked&&C.jsx("button",{onClick:()=>et(W.id),className:"p-1 text-slate-600 hover:text-red-600 mt-1.5",children:C.jsx(Aa,{size:14})})]},W.id))})]}),C.jsx(Jd,{isOpen:_,onClose:()=>A(!1),onConfirm:tt,title:" ",message:"   ?"})]})},aC=({item:r,onSave:e,currentTime:i})=>{const[a,o]=St.useState(r.title),[h,d]=St.useState(r.content);return C.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 h-full flex flex-col",children:[C.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between gap-2",children:[C.jsx("input",{type:"text",value:a,onChange:y=>o(y.target.value),className:"text-lg font-bold text-slate-800 bg-transparent border-none focus:outline-none focus:ring-0 flex-1 truncate"}),C.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[C.jsxs("span",{className:"text-lg whitespace-nowrap hidden md:block",children:[C.jsx("span",{className:"text-red-500 font-bold",children:i.dateString}),C.jsx("span",{className:"text-blue-500 font-bold ml-1",children:i.dayOfWeek})]}),C.jsx("button",{onClick:()=>e({...r,title:a,content:h}),className:"p-2 text-emerald-600 hover:bg-emerald-50 rounded transition-colors",children:C.jsx(Zd,{size:24})})]})]}),C.jsx("textarea",{value:h,onChange:y=>d(y.target.value),className:"flex-1 w-full p-6 resize-none focus:outline-none text-slate-700 leading-relaxed",placeholder:"  ..."})]})},rC=({journal:r,onSave:e,currentTime:i})=>{const[a,o]=St.useState(r.content),[h,d]=St.useState(r.summary1||""),[y,v]=St.useState(r.summary2||""),[_,A]=St.useState(r.summary3||""),[S,N]=St.useState(r.checklist||[]),[H,J]=St.useState(""),[et,tt]=St.useState(!1),[ht,vt]=St.useState(null),ft=new Date(r.date),W=ft.getFullYear(),nt=ft.getMonth()+1,ut=ft.getDate(),b=["","","","","","",""][ft.getDay()],w=()=>{e({...r,content:a,summary1:h,summary2:y,summary3:_,checklist:S})},M=()=>{if(!H.trim())return;const F={id:br(),text:H.trim(),isChecked:!1,order:S.length},at=[...S,F];N(at),J(""),e({...r,content:a,summary1:h,summary2:y,summary3:_,checklist:at})},I=F=>{const at=S.map(dt=>dt.id===F?{...dt,isChecked:!dt.isChecked}:dt);at.sort((dt,Rt)=>dt.isChecked===Rt.isChecked?dt.order-Rt.order:dt.isChecked?1:-1),N(at),e({...r,content:a,summary1:h,summary2:y,summary3:_,checklist:at})},z=F=>{vt(F),tt(!0)},R=()=>{if(ht){const F=S.filter(at=>at.id!==ht);N(F),e({...r,content:a,summary1:h,summary2:y,summary3:_,checklist:F}),tt(!1),vt(null)}},Kt=(F,at)=>{const dt=[...S],Rt=at==="up"?F-1:F+1;if(Rt>=0&&Rt<dt.length){const V=dt[F],Y=dt[Rt],st=V.order;V.order=Y.order,Y.order=st,dt.sort((lt,Et)=>lt.isChecked===Et.isChecked?lt.order-Et.order:lt.isChecked?1:-1),N(dt),e({...r,content:a,summary1:h,summary2:y,summary3:_,checklist:dt})}},ce=(F,at)=>{const dt=S.map(Rt=>Rt.id===F?{...Rt,text:at}:Rt);N(dt),e({...r,content:a,summary1:h,summary2:y,summary3:_,checklist:dt})},G=F=>{const at=F.currentTarget;at.style.height="auto",at.style.height=`${at.scrollHeight}px`};return C.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 h-full flex flex-col",children:[C.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between flex-shrink-0",children:[C.jsxs("div",{className:"flex items-baseline space-x-2",children:[C.jsxs("span",{className:"text-2xl font-bold text-slate-800",children:[ut,""]}),C.jsxs("span",{className:"text-lg text-slate-500 font-medium",children:["(",b,")"]}),C.jsxs("span",{className:"text-sm text-slate-400",children:[W," ",nt,""]})]}),C.jsxs("div",{className:"flex items-center space-x-2",children:[C.jsxs("span",{className:"text-lg whitespace-nowrap hidden md:block mr-2",children:[C.jsx("span",{className:"text-red-500 font-bold",children:i.dateString}),C.jsx("span",{className:"text-blue-500 font-bold ml-1",children:i.dayOfWeek})]}),C.jsx("button",{onClick:w,className:"p-2 text-emerald-600 hover:bg-emerald-50 rounded transition-colors",title:"",children:C.jsx(Zd,{size:24})})]})]}),C.jsxs("div",{className:"flex-1 overflow-y-auto",children:[C.jsxs("div",{className:"grid grid-cols-3 gap-3 p-4 bg-slate-50/50 border-b border-slate-200",children:[C.jsx("textarea",{value:h,onChange:F=>d(F.target.value),rows:2,className:"w-full resize-none border border-slate-200 rounded p-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-100 bg-white",placeholder:""}),C.jsx("textarea",{value:y,onChange:F=>v(F.target.value),rows:2,className:"w-full resize-none border border-slate-200 rounded p-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-100 bg-white",placeholder:" "}),C.jsx("textarea",{value:_,onChange:F=>A(F.target.value),rows:2,className:"w-full resize-none border border-slate-200 rounded p-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-100 bg-white",placeholder:" "})]}),C.jsxs("div",{className:"p-4 border-b border-slate-200 bg-white",children:[C.jsx("div",{className:"flex items-center justify-between mb-2",children:C.jsxs("h3",{className:"text-base font-bold text-emerald-700 border-l-4 border-emerald-500 pl-2",children:[" ",C.jsxs("span",{className:"text-slate-400 font-normal text-sm",children:["(",S.filter(F=>F.isChecked).length,"/",S.length,")"]})]})}),C.jsxs("div",{className:"flex gap-2 mb-6",children:[C.jsxs("div",{className:"relative flex-1",children:[C.jsx("textarea",{value:H,onChange:F=>J(F.target.value),onKeyDown:F=>{F.ctrlKey&&F.key==="Enter"&&M()},onInput:G,placeholder:"  ... (Ctrl+Enter , Shift+Enter )",className:"w-full border border-emerald-200 rounded-lg p-3 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent shadow-sm resize-none overflow-hidden min-h-[50px] pr-2 md:pr-10",rows:1}),C.jsx(Uv,{size:16,className:"absolute right-3 top-4 text-slate-300 hidden md:block"})]}),C.jsx("button",{onClick:M,className:"bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg w-10 md:w-auto md:px-4 flex items-center justify-center shadow-sm transition-colors h-[50px] self-start flex-shrink-0",children:C.jsx(Or,{size:24})})]}),C.jsx("div",{className:"space-y-3",children:S.map((F,at)=>C.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-lg border transition-all ${F.isChecked?"bg-slate-50 border-slate-100":"bg-white border-slate-200 shadow-sm hover:border-emerald-300"}`,children:[C.jsx("div",{className:"pt-0.5",children:C.jsx("button",{onClick:()=>I(F.id),className:`w-5 h-5 rounded border flex items-center justify-center transition-colors ${F.isChecked?"bg-emerald-500 border-emerald-500 text-white":"bg-white border-slate-300 hover:border-emerald-500"}`,children:F.isChecked&&C.jsx(Xd,{size:14})})}),C.jsx("div",{className:"flex-1 min-w-0",children:C.jsx("textarea",{value:F.text,onChange:dt=>ce(F.id,dt.target.value),onInput:G,className:`w-full bg-transparent border-none p-0 focus:ring-0 resize-none overflow-hidden text-sm leading-relaxed ${F.isChecked?"text-slate-400 line-through":"text-slate-800"}`,rows:1,style:{height:"auto"},ref:dt=>{dt&&(dt.style.height="auto",dt.style.height=dt.scrollHeight+"px")}})}),!F.isChecked&&C.jsxs("div",{className:"flex flex-row items-center gap-1 mt-1.5",children:[C.jsx("button",{onClick:()=>Kt(at,"up"),disabled:at===0,className:"p-1 text-slate-600 hover:text-blue-600 disabled:opacity-30",children:C.jsx(Vv,{size:14})}),C.jsx("button",{onClick:()=>Kt(at,"down"),disabled:at===S.length-1||S[at+1]?.isChecked,className:"p-1 text-slate-600 hover:text-blue-600 disabled:opacity-30",children:C.jsx(Iv,{size:14})}),C.jsx("button",{onClick:()=>z(F.id),className:"p-1 text-slate-600 hover:text-red-600",children:C.jsx(Aa,{size:14})})]}),F.isChecked&&C.jsx("button",{onClick:()=>z(F.id),className:"p-1 text-slate-600 hover:text-red-600 mt-1.5",children:C.jsx(Aa,{size:14})})]},F.id))})]}),C.jsx("textarea",{value:a,onChange:F=>o(F.target.value),className:"w-full p-6 resize-none focus:outline-none text-slate-700 leading-relaxed text-base min-h-[300px]",placeholder:"   ..."})]}),C.jsx(Jd,{isOpen:et,onClose:()=>tt(!1),onConfirm:R,title:" ",message:"   ?"})]})},lC=({mode:r,setMode:e,isOpen:i,onClose:a,children:o})=>C.jsxs(C.Fragment,{children:[i&&C.jsx("div",{className:"md:hidden fixed inset-0 bg-black/50 z-40",onClick:a}),C.jsxs("div",{className:`
          flex flex-col bg-white border-r border-slate-200
          fixed top-0 bottom-[60px] left-0 w-[85%] max-w-[300px] z-50 transition-transform duration-300 ease-in-out
          md:h-full md:relative md:translate-x-0 md:w-[280px] md:z-auto md:inset-auto
          ${i?"translate-x-0":"-translate-x-full"}
      `,children:[C.jsxs("div",{className:"hidden md:flex border-b border-slate-200",children:[C.jsxs("button",{onClick:()=>e("project"),className:`flex-1 py-3 text-sm font-bold flex flex-col items-center justify-center space-y-1 ${r==="project"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50/50":"text-slate-400 hover:bg-slate-50"}`,children:[C.jsx(Ov,{size:18}),C.jsx("span",{children:""})]}),C.jsxs("button",{onClick:()=>e("archive"),className:`flex-1 py-3 text-sm font-bold flex flex-col items-center justify-center space-y-1 ${r==="archive"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50/50":"text-slate-400 hover:bg-slate-50"}`,children:[C.jsx(Lv,{size:18}),C.jsx("span",{children:""})]}),C.jsxs("button",{onClick:()=>e("journal"),className:`flex-1 py-3 text-sm font-bold flex flex-col items-center justify-center space-y-1 ${r==="journal"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50/50":"text-slate-400 hover:bg-slate-50"}`,children:[C.jsx(Mv,{size:18}),C.jsx("span",{children:"TODAY"})]})]}),C.jsx("div",{className:"flex-1 overflow-hidden",children:o})]})]}),oC=()=>{const[r,e]=St.useState(new Date);St.useEffect(()=>{const _=setInterval(()=>e(new Date),1e3);return()=>clearInterval(_)},[]);const i=r.getFullYear(),a=String(r.getMonth()+1).padStart(2,"0"),o=String(r.getDate()).padStart(2,"0"),h=String(r.getHours()).padStart(2,"0"),d=String(r.getMinutes()).padStart(2,"0"),v=["","","","","","",""][r.getDay()];return{dateString:`${i} ${a} ${o} ${h} ${d}`,dayOfWeek:`(${v})`}},uC=()=>{const[r,e]=St.useState([]),[i,a]=St.useState([]),[o,h]=St.useState([]),[d,y]=St.useState([]),[v,_]=St.useState([]),[A,S]=St.useState([]),[N,H]=St.useState("project"),[J,et]=St.useState(null),[tt,ht]=St.useState(null),[vt,ft]=St.useState(null),[W,nt]=St.useState(!1),[ut,x]=St.useState(!1),[b,w]=St.useState(null),M=oC(),[I,z]=St.useState(!1);St.useEffect(()=>{(async()=>{try{console.log(" Firebase  ..."),await CE(),console.log(" Firestore   ...");const mt=await pr("zones"),kt=await pr("bookmarks"),Ze=await pr("projects"),Sn=await pr("archive_cats"),Ps=await pr("archive_items"),wi=await pr("journals");e(mt.length>0?mt:U_),a(kt.length>0?kt:L_),h(Array.isArray(Ze)?Ze:[]),y(Sn),_(Ps),S(wi),console.log("   "),z(!0),console.log("   ..."),yr("zones",fe=>{console.log(" zones :",fe.length,""),e(fe)}),yr("bookmarks",fe=>{console.log(" bookmarks :",fe.length,""),a(fe)}),yr("projects",fe=>{console.log(" projects :",fe.length,""),h(fe)}),yr("archive_cats",fe=>{console.log(" archive_cats :",fe.length,""),y(fe)}),yr("archive_items",fe=>{console.log(" archive_items :",fe.length,""),_(fe)}),yr("journals",fe=>{console.log(" journals :",fe.length,""),S(fe)})}catch(mt){console.error(" Firebase  :",mt.message||mt),e(U_),a(L_),z(!0)}})()},[]);const R=()=>{const rt={id:br(),title:" ",status:"Ready",deadline:new Date().toISOString().split("T")[0],checklist:[],createdAt:new Date().toISOString()};h(mt=>[rt,...mt]),Ku("projects",rt.id,rt).catch(mt=>console.warn("    :",mt)),et(rt.id),nt(!1)},Kt=rt=>{w({type:"project",id:rt}),x(!0)},ce=()=>{const rt=new Date().toISOString().split("T")[0],mt=A.find(kt=>kt.date===rt);if(mt)alert("   ."),ft(mt.id),nt(!1);else{const kt={id:br(),date:rt,content:"",summary1:"",summary2:"",summary3:"",checklist:[],createdAt:new Date().toISOString()};S(Ze=>[kt,...Ze]),ft(kt.id),nt(!1)}},G=()=>{if(b){if(b.type==="project")h(rt=>rt.filter(mt=>mt.id!==b.id)),Hl("projects",b.id).catch(rt=>console.warn("   :",rt)),J===b.id&&et(null);else if(b.type==="category"){y(mt=>mt.filter(kt=>kt.id!==b.id)),Hl("archive_cats",b.id).catch(mt=>console.warn("   :",mt));const rt=v.filter(mt=>mt.categoryId===b.id);_(mt=>mt.filter(kt=>kt.categoryId!==b.id)),rt.forEach(mt=>{Hl("archive_items",mt.id).catch(kt=>console.warn("    :",kt))}),v.find(mt=>mt.categoryId===b.id&&mt.id===tt)&&ht(null)}else b.type==="archiveItem"?(_(rt=>rt.filter(mt=>mt.id!==b.id)),Hl("archive_items",b.id).catch(rt=>console.warn("    :",rt)),tt===b.id&&ht(null)):b.type==="journal"&&(S(rt=>rt.filter(mt=>mt.id!==b.id)),Hl("journals",b.id).catch(rt=>console.warn("   :",rt)),vt===b.id&&ft(null));x(!1),w(null)}},F=rt=>{h(o.map(mt=>mt.id===rt.id?rt:mt)),Ku("projects",rt.id,rt).catch(mt=>console.warn("    :",mt))},at=rt=>{const mt={id:br(),name:rt};y([...d,mt]),Ku("archive_cats",mt.id,mt).catch(kt=>console.warn("    :",kt))},dt=(rt,mt)=>{const kt={id:rt,name:mt};y(d.map(Ze=>Ze.id===rt?kt:Ze)),Ku("archive_cats",rt,kt).catch(Ze=>console.warn("    :",Ze))},Rt=rt=>{w({type:"category",id:rt}),x(!0)},V=rt=>{const mt={id:br(),categoryId:rt,title:" ",content:""};_([...v,mt]),ht(mt.id),nt(!1)},Y=rt=>{w({type:"archiveItem",id:rt}),x(!0)},st=rt=>{_(mt=>mt.map(kt=>kt.id===rt.id?rt:kt))},lt=rt=>{S(mt=>mt.map(kt=>kt.id===rt.id?rt:kt))},Et=rt=>{a(i.map(mt=>mt.id===rt.id?rt:mt))},wt=(rt,mt)=>{e(r.map(kt=>kt.index===rt?{...kt,name:mt}:kt))},Vt=o.find(rt=>rt.id===J),he=v.find(rt=>rt.id===tt),$t=A.find(rt=>rt.id===vt);return I?C.jsxs(C.Fragment,{children:[C.jsx(J2,{onMenuClick:()=>nt(!0),currentTime:M}),C.jsx(W2,{zones:r,bookmarks:i,onUpdateBookmark:Et,onUpdateZoneName:wt}),C.jsxs("div",{className:"flex-1 flex overflow-hidden h-full relative",children:[C.jsxs(lC,{mode:N,setMode:H,isOpen:W,onClose:()=>nt(!1),children:[N==="project"&&C.jsx(eC,{projects:o,selectedId:J,onSelect:rt=>{et(rt),nt(!1)},onCreate:R,onDelete:Kt}),N==="archive"&&C.jsx(nC,{categories:d,items:v,selectedItemId:tt,onSelectCategory:()=>{},onSelectItem:rt=>{ht(rt),nt(!1)},onCreateCategory:at,onUpdateCategoryName:dt,onCreateItem:V,onDeleteCategory:Rt,onDeleteItem:Y}),N==="journal"&&C.jsx(iC,{journals:A,selectedId:vt,onSelect:rt=>{ft(rt),nt(!1)},onCreate:ce})]}),C.jsx("main",{className:"flex flex-1 bg-slate-50 p-4 h-full overflow-hidden flex-col pb-[60px] md:pb-4",children:N==="project"?Vt?C.jsx(sC,{project:Vt,onSave:F,currentTime:M},Vt.id):C.jsx("div",{className:"h-full flex items-center justify-center text-slate-400",children:C.jsx("p",{children:"   ."})}):N==="archive"?he?C.jsx(aC,{item:he,onSave:st,currentTime:M},he.id):C.jsx("div",{className:"h-full flex items-center justify-center text-slate-400",children:C.jsx("p",{children:"   ."})}):$t?C.jsx(rC,{journal:$t,onSave:lt,currentTime:M},$t.id):C.jsx("div",{className:"h-full flex items-center justify-center text-slate-400",children:C.jsx("p",{children:"    ."})})})]}),C.jsx($2,{mode:N,setMode:rt=>{H(rt),nt(!0)}}),C.jsx(Jd,{isOpen:ut,onClose:()=>{x(!1),w(null)},onConfirm:G,title:b?.type==="project"?" ":b?.type==="category"?" ":b?.type==="archiveItem"?" ":"",message:b?.type==="category"?"      . ?":" ?"})]}):C.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:C.jsxs("div",{className:"text-center",children:[C.jsx("div",{className:"mb-4 flex justify-center",children:C.jsx("div",{className:"w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"})}),C.jsx("p",{className:"text-lg font-semibold text-blue-900",children:"  ..."}),C.jsx("p",{className:"text-sm text-blue-600 mt-2",children:"Firebase   "})]})})},cC=AE.createRoot(document.getElementById("root"));cC.render(C.jsx(uC,{}));
